var Ax=Object.defineProperty,Rx=Object.defineProperties;var Nx=Object.getOwnPropertyDescriptors;var el=Object.getOwnPropertySymbols;var dT=Object.prototype.hasOwnProperty,hT=Object.prototype.propertyIsEnumerable;var lT=(t,e,n)=>e in t?Ax(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||={})dT.call(e,n)&&lT(t,n,e[n]);if(el)for(var n of el(e))hT.call(e,n)&&lT(t,n,e[n]);return t},ie=(t,e)=>Rx(t,Nx(e));var fT=(t,e)=>{var n={};for(var r in t)dT.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&el)for(var r of el(t))e.indexOf(r)<0&&hT.call(t,r)&&(n[r]=t[r]);return n};var og;function tl(){return og}function Cn(t){let e=og;return og=t,e}var pT=Symbol("NotFound");function wo(t){return t===pT||t?.name==="\u0275NotFound"}var mt=null,nl=!1,sg=1,Mx=null,bt=Symbol("SIGNAL");function J(t){let e=mt;return mt=t,e}function sl(){return mt}var To={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bo(t){if(nl)throw new Error("");if(mt===null)return;mt.consumerOnSignalRead(t);let e=mt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=mt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:mt.producers,n!==void 0&&n.producer===t)){mt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===mt&&(!r||xx(i,mt)))return;let o=Co(mt),s={producer:t,consumer:mt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};mt.producersTail=s,e!==void 0?e.nextProducer=s:mt.producers=s,o&&vT(t,s)}function gT(){sg++}function al(t){if(!(Co(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===sg)){if(!t.producerMustRecompute(t)&&!Ma(t)){ol(t);return}t.producerRecomputeValue(t),ol(t)}}function ag(t){if(t.consumers===void 0)return;let e=nl;nl=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Px(r)}}finally{nl=e}}function cg(){return mt?.consumerAllowSignalWrites!==!1}function Px(t){t.dirty=!0,ag(t),t.consumerMarkedDirty?.(t)}function ol(t){t.dirty=!1,t.lastCleanEpoch=sg}function Do(t){return t&&mT(t),J(t)}function mT(t){t.producersTail=void 0,t.recomputing=!0}function Na(t,e){J(e),t&&yT(t)}function yT(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Co(t))do n=ug(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Ma(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(al(n),r!==n.version))return!0}return!1}function Pa(t){if(Co(t)){let e=t.producers;for(;e!==void 0;)e=ug(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function vT(t,e){let n=t.consumersTail,r=Co(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)vT(i.producer,i)}function ug(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Co(e)){let o=e.producers;for(;o!==void 0;)o=ug(o)}return n}function Co(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function cl(t){Mx?.(t)}function xx(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ul(t,e){return Object.is(t,e)}function ll(t,e){let n=Object.create(Ox);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(al(n),bo(n),n.value===Ra)throw n.error;return n.value};return r[bt]=n,cl(n),r}var rl=Symbol("UNSET"),il=Symbol("COMPUTING"),Ra=Symbol("ERRORED"),Ox=ie(P({},To),{value:rl,dirty:!0,error:null,equal:ul,kind:"computed",producerMustRecompute(t){return t.value===rl||t.value===il},producerRecomputeValue(t){if(t.value===il)throw new Error("");let e=t.value;t.value=il;let n=Do(t),r,i=!1;try{r=t.computation(),J(null),i=e!==rl&&e!==Ra&&r!==Ra&&t.equal(e,r)}catch(o){r=Ra,t.error=o}finally{Na(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function kx(){throw new Error}var _T=kx;function ET(t){_T(t)}function lg(t){_T=t}var Fx=null;function dg(t,e){let n=Object.create(dl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>IT(n);return r[bt]=n,cl(n),[r,s=>So(n,s),s=>hg(n,s)]}function IT(t){return bo(t),t.value}function So(t,e){cg()||ET(t),t.equal(t.value,e)||(t.value=e,Lx(t))}function hg(t,e){cg()||ET(t),So(t,e(t.value))}var dl=ie(P({},To),{equal:ul,value:void 0,kind:"signal"});function Lx(t){t.version++,gT(),ag(t),Fx?.(t)}function Z(t){return typeof t=="function"}function Ao(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var hl=Ao(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof hl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wT(o)}catch(s){e=e??[],s instanceof hl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)wT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fi(n,e)}remove(e){let{_finalizers:n}=this;n&&fi(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var fg=Pe.EMPTY;function fl(t){return t instanceof Pe||t&&"closed"in t&&Z(t.remove)&&Z(t.add)&&Z(t.unsubscribe)}function wT(t){Z(t)?t():t.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ro={setTimeout(t,e,...n){let{delegate:r}=Ro;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ro;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pl(t){Ro.setTimeout(()=>{let{onUnhandledError:e}=fn;if(e)e(t);else throw t})}function xa(){}var TT=pg("C",void 0,void 0);function bT(t){return pg("E",void 0,t)}function DT(t){return pg("N",t,void 0)}function pg(t,e,n){return{kind:t,value:e,error:n}}var pi=null;function No(t){if(fn.useDeprecatedSynchronousErrorHandling){let e=!pi;if(e&&(pi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pi;if(pi=null,n)throw r}}else t()}function CT(t){fn.useDeprecatedSynchronousErrorHandling&&pi&&(pi.errorThrown=!0,pi.error=t)}var gi=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fl(e)&&e.add(this)):this.destination=Ux}static create(e,n,r){return new Mo(e,n,r)}next(e){this.isStopped?mg(DT(e),this):this._next(e)}error(e){this.isStopped?mg(bT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?mg(TT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Vx=Function.prototype.bind;function gg(t,e){return Vx.call(t,e)}var yg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){gl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){gl(r)}else gl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){gl(n)}}},Mo=class extends gi{constructor(e,n,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gg(e.next,o),error:e.error&&gg(e.error,o),complete:e.complete&&gg(e.complete,o)}):i=e}this.destination=new yg(i)}};function gl(t){fn.useDeprecatedSynchronousErrorHandling?CT(t):pl(t)}function jx(t){throw t}function mg(t,e){let{onStoppedNotification:n}=fn;n&&Ro.setTimeout(()=>n(t,e))}var Ux={closed:!0,next:xa,error:jx,complete:xa};var Po=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(t){return t}function ml(...t){return vg(t)}function vg(t){return t.length===0?Bt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=$x(n)?n:new Mo(n,r,i);return No(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ST(r),new r((i,o)=>{let s=new Mo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Po](){return this}pipe(...n){return vg(n)(this)}toPromise(n){return n=ST(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ST(t){var e;return(e=t??fn.Promise)!==null&&e!==void 0?e:Promise}function Bx(t){return t&&Z(t.next)&&Z(t.error)&&Z(t.complete)}function $x(t){return t&&t instanceof gi||Bx(t)&&fl(t)}function _g(t){return Z(t?.lift)}function de(t){return e=>{if(_g(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Eg(t,e,n,r,i)}var Eg=class extends gi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function xo(){return de((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Oo=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_g(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return xo()(this)}};var AT=Ao(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new yl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new AT}next(n){No(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){No(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){No(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?fg:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,fi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new yl(e,n),t})(),yl=class extends Ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:fg}};var ut=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ig={now(){return(Ig.delegate||Date).now()},delegate:void 0};var vl=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Oa={setInterval(t,e,...n){let{delegate:r}=Oa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Oa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ko=class extends vl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Oa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Oa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Fo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Fo.now=Ig.now;var Lo=class extends Fo{constructor(e,n=Fo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var wg=new Lo(ko);var _l=class extends ko{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var El=class extends Lo{};var Tg=new El(_l);var kt=new ee(t=>t.complete());function RT(t){return t&&Z(t.schedule)}function NT(t){return t[t.length-1]}function Il(t){return Z(NT(t))?t.pop():void 0}function Mr(t){return RT(NT(t))?t.pop():void 0}function bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PT(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function MT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mi(t){return this instanceof mi?(this.v=t,this):new mi(t)}function xT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){r[y]&&(i[y]=function(N){return new Promise(function(R,L){o.push([y,N,R,L])>1||u(y,N)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof mi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,D){y(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function OT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof MT=="function"?MT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var wl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Tl(t){return Z(t?.then)}function bl(t){return Z(t[Po])}function Dl(t){return Symbol.asyncIterator&&Z(t?.[Symbol.asyncIterator])}function Cl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Hx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sl=Hx();function Al(t){return Z(t?.[Sl])}function Rl(t){return xT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield mi(n.read());if(i)return yield mi(void 0);yield yield mi(r)}}finally{n.releaseLock()}})}function Nl(t){return Z(t?.getReader)}function Be(t){if(t instanceof ee)return t;if(t!=null){if(bl(t))return qx(t);if(wl(t))return zx(t);if(Tl(t))return Gx(t);if(Dl(t))return kT(t);if(Al(t))return Wx(t);if(Nl(t))return Kx(t)}throw Cl(t)}function qx(t){return new ee(e=>{let n=t[Po]();if(Z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zx(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Gx(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pl)})}function Wx(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function kT(t){return new ee(e=>{Qx(t,e).catch(n=>e.error(n))})}function Kx(t){return kT(Rl(t))}function Qx(t,e){var n,r,i,o;return PT(this,void 0,void 0,function*(){try{for(n=OT(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ft(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Pr(t,e=0){return de((n,r)=>{n.subscribe(ue(r,i=>Ft(r,t,()=>r.next(i),e),()=>Ft(r,t,()=>r.complete(),e),i=>Ft(r,t,()=>r.error(i),e)))})}function xr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function FT(t,e){return Be(t).pipe(xr(e),Pr(e))}function LT(t,e){return Be(t).pipe(xr(e),Pr(e))}function VT(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function jT(t,e){return new ee(n=>{let r;return Ft(n,e,()=>{r=t[Sl](),Ft(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function Ml(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{Ft(n,e,()=>{let r=t[Symbol.asyncIterator]();Ft(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function UT(t,e){return Ml(Rl(t),e)}function BT(t,e){if(t!=null){if(bl(t))return FT(t,e);if(wl(t))return VT(t,e);if(Tl(t))return LT(t,e);if(Dl(t))return Ml(t,e);if(Al(t))return jT(t,e);if(Nl(t))return UT(t,e)}throw Cl(t)}function Re(t,e){return e?BT(t,e):Be(t)}function W(...t){let e=Mr(t);return Re(t,e)}function Vo(t,e){let n=Z(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function Dg(t){return!!t&&(t instanceof ee||Z(t.lift)&&Z(t.subscribe))}var er=Ao(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return de((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Yx}=Array;function Jx(t,e){return Yx(e)?t(...e):t(e)}function Pl(t){return oe(e=>Jx(t,e))}var{isArray:Zx}=Array,{getPrototypeOf:Xx,prototype:eO,keys:tO}=Object;function xl(t){if(t.length===1){let e=t[0];if(Zx(e))return{args:e,keys:null};if(nO(e)){let n=tO(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function nO(t){return t&&typeof t=="object"&&Xx(t)===eO}function Ol(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kl(...t){let e=Mr(t),n=Il(t),{args:r,keys:i}=xl(t);if(r.length===0)return Re([],e);let o=new ee(rO(r,e,i?s=>Ol(i,s):Bt));return n?o.pipe(Pl(n)):o}function rO(t,e,n=Bt){return r=>{$T(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)$T(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function $T(t,e,n){t?Ft(n,t,e):e()}function HT(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?D(N):u.push(N),D=N=>{o&&e.next(N),l++;let R=!1;Be(n(N,h++)).subscribe(ue(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?Ft(e,s,()=>D(L)):D(L)}m()}catch(L){e.error(L)}}))};return t.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ze(t,e,n=1/0){return Z(e)?Ze((r,i)=>oe((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>HT(r,i,t,n)))}function qT(t=1/0){return Ze(Bt,t)}function zT(){return qT(1)}function jo(...t){return zT()(Re(t,Mr(t)))}function ka(t){return new ee(e=>{Be(t()).subscribe(e)})}function Cg(...t){let e=Il(t),{args:n,keys:r}=xl(t),i=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Be(n[h]).subscribe(ue(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ol(r,a):a),o.complete())}))}});return e?i.pipe(Pl(e)):i}function $t(t,e){return de((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Or(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=Be(t(s,Or(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function GT(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Uo(t,e){return Z(e)?Ze(t,e,1):Ze(t,1)}function kr(t){return de((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tr(t){return t<=0?()=>kt:de((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fl(t=iO){return de((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function iO(){return new er}function Fa(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function nr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?$t((i,o)=>t(i,o,r)):Bt,tr(1),n?kr(e):Fl(()=>new er))}function Bo(t){return t<=0?()=>kt:de((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Sg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?$t((i,o)=>t(i,o,r)):Bt,Bo(1),n?kr(e):Fl(()=>new er))}function Ll(t,e){return de(GT(t,e,arguments.length>=2,!0))}function Vl(...t){let e=Mr(t);return de((n,r)=>{(e?jo(t,n,e):jo(t,n)).subscribe(r)})}function Lt(t,e){return de((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;Be(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function jl(t){return de((e,n)=>{Be(t).subscribe(ue(n,()=>n.complete(),xa)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let r=Z(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Bt}function WT(t){let e=J(null);try{return t()}finally{J(e)}}var Fr=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ug=new Fr("20.3.9");var Hl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,n){super(Ii(e,n)),this.code=e}};function oO(t){return`NG0${Math.abs(t)}`}function Ii(t,e){return`${oO(t)}${e?": "+e:""}`}var Ho=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("")}function YT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ir(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ir).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Bg(t,e){return t?e?`${t} ${e}`:t:e||""}var sO=Ee({__forward_ref__:Ee});function or(t){return t.__forward_ref__=or,t.toString=function(){return ir(this())},t}function lt(t){return $g(t)?t():t}function $g(t){return typeof t=="function"&&t.hasOwnProperty(sO)&&t.__forward_ref__===or}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function An(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ua(t){return aO(t,ql)}function Hg(t){return Ua(t)!==null}function aO(t,e){return t.hasOwnProperty(e)&&t[e]||null}function cO(t){let e=t?.[ql]??null;return e||null}function Rg(t){return t&&t.hasOwnProperty(Bl)?t[Bl]:null}var ql=Ee({\u0275prov:Ee}),Bl=Ee({\u0275inj:Ee}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qg(t){return t&&!!t.\u0275providers}var zg=Ee({\u0275cmp:Ee}),Gg=Ee({\u0275dir:Ee}),Wg=Ee({\u0275pipe:Ee}),Kg=Ee({\u0275mod:Ee}),Va=Ee({\u0275fac:Ee}),wi=Ee({__NG_ELEMENT_ID__:Ee}),KT=Ee({__NG_ENV_ID__:Ee});function Ba(t){return typeof t=="string"?t:t==null?"":String(t)}function JT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ba(t)}var ZT=Ee({ngErrorCode:Ee}),uO=Ee({ngErrorMessage:Ee}),lO=Ee({ngTokenPath:Ee});function Qg(t,e){return XT("",-200,e)}function zl(t,e){throw new j(-201,!1)}function XT(t,e,n){let r=new j(e,t);return r[ZT]=e,r[uO]=t,n&&(r[lO]=n),r}function dO(t){return t[ZT]}var Ng;function eb(){return Ng}function Dt(t){let e=Ng;return Ng=t,e}function Yg(t,e,n){let r=Ua(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;zl(t,"Injector")}var hO={},yi=hO,Mg="__NG_DI_FLAG__",Pg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=vi(n)||0;try{return this.injector.get(e,r&8?null:yi,r)}catch(i){if(wo(i))return i;throw i}}};function fO(t,e=0){let n=tl();if(n===void 0)throw new j(-203,!1);if(n===null)return Yg(t,void 0,e);{let r=pO(e),i=n.retrieve(t,r);if(wo(i)){if(r.optional)return null;throw i}return i}}function te(t,e=0){return(eb()||fO)(lt(t),e)}function A(t,e){return te(t,vi(e))}function vi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pO(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function xg(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=gO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(te(i,o))}else e.push(te(r))}return e}function tb(t,e){return t[Mg]=e,t.prototype[Mg]=e,t}function gO(t){return t[Mg]}function Lr(t,e){let n=t.hasOwnProperty(Va);return n?t[Va]:null}function Gl(t,e){t.forEach(n=>Array.isArray(n)?Gl(n,e):e(n))}function Jg(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $a(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function rb(t,e,n){let r=qo(t,e);return r>=0?t[r|1]=n:(r=~r,nb(t,r,e,n)),r}function Wl(t,e){let n=qo(t,e);if(n>=0)return t[n|1]}function qo(t,e){return mO(t,e,1)}function mO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var jr={},Ht=[],en=new V(""),Zg=new V("",-1),Xg=new V(""),ja=class{get(e,n=yi){if(n===yi){let i=XT("",-201);throw i.name="\u0275NotFound",i}return n}};function em(t){return t[Kg]||null}function sr(t){return t[zg]||null}function Kl(t){return t[Gg]||null}function tm(t){return t[Wg]||null}function Ct(t){return{\u0275providers:t}}function ib(t){return Ct([{provide:en,multi:!0,useValue:t}])}function ob(...t){return{\u0275providers:Ql(!0,t),\u0275fromNgModule:!0}}function Ql(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Gl(e,s=>{let a=s;$l(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sb(i,o),n}function sb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];nm(i,o=>{e(o,r)})}}function $l(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,o=Rg(t),s=!o&&sr(t);if(!o&&!s){let u=t.ngModule;if(o=Rg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)$l(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Gl(o.imports,h=>{$l(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&sb(l,e)}if(!a){let l=Lr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ht},i),e({provide:Xg,useValue:i,multi:!0},i),e({provide:en,useValue:()=>te(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;nm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function nm(t,e){for(let n of t)qg(n)&&(n=n.\u0275providers),Array.isArray(n)?nm(n,e):e(n)}var yO=Ee({provide:String,useValue:Ee});function ab(t){return t!==null&&typeof t=="object"&&yO in t}function vO(t){return!!(t&&t.useExisting)}function _O(t){return!!(t&&t.useFactory)}function _i(t){return typeof t=="function"}function cb(t){return!!t.useClass}var Ha=new V(""),Ul={},QT={},Ag;function qa(){return Ag===void 0&&(Ag=new ja),Ag}var ke=class{},Ei=class extends ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,kg(e,s=>this.processProvider(s)),this.records.set(Zg,$o(void 0,this)),i.has("environment")&&this.records.set(ke,$o(void 0,this));let o=this.records.get(Ha);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xg,Ht,{self:!0}))}retrieve(e,n){let r=vi(n)||0;try{return this.get(e,yi,r)}catch(i){if(wo(i))return i;throw i}}destroy(){La(this),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return La(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){La(this);let n=Cn(this),r=Dt(void 0),i;try{return e()}finally{Cn(n),Dt(r)}}get(e,n=yi,r){if(La(this),e.hasOwnProperty(KT))return e[KT](this);let i=vi(r),o,s=Cn(this),a=Dt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=bO(e)&&Ua(e);h&&this.injectableDefInScope(h)?l=$o(Og(e),Ul):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?qa():this.parent;return n=i&8&&n===yi?null:n,u.get(e,n)}catch(u){let l=dO(u);throw l===-200||l===-201?new j(l,null):u}finally{Dt(a),Cn(s)}}resolveInjectorInitializers(){let e=J(null),n=Cn(this),r=Dt(void 0),i;try{let o=this.get(en,Ht,{self:!0});for(let s of o)s()}finally{Cn(n),Dt(r),J(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ir(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=lt(e);let n=_i(e)?e:lt(e&&e.provide),r=IO(e);if(!_i(e)&&e.multi===!0){let i=this.records.get(n);i||(i=$o(void 0,Ul,!0),i.factory=()=>xg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=J(null);try{if(n.value===QT)throw Qg(ir(e));return n.value===Ul&&(n.value=QT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&TO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Og(t){let e=Ua(t),n=e!==null?e.factory:Lr(t);if(n!==null)return n;if(t instanceof V)throw new j(204,!1);if(t instanceof Function)return EO(t);throw new j(204,!1)}function EO(t){if(t.length>0)throw new j(204,!1);let n=cO(t);return n!==null?()=>n.factory(t):()=>new t}function IO(t){if(ab(t))return $o(void 0,t.useValue);{let e=rm(t);return $o(e,Ul)}}function rm(t,e,n){let r;if(_i(t)){let i=lt(t);return Lr(i)||Og(i)}else if(ab(t))r=()=>lt(t.useValue);else if(_O(t))r=()=>t.useFactory(...xg(t.deps||[]));else if(vO(t))r=(i,o)=>te(lt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=lt(t&&(t.useClass||t.provide));if(wO(t))r=()=>new i(...xg(t.deps));else return Lr(i)||Og(i)}return r}function La(t){if(t.destroyed)throw new j(205,!1)}function $o(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wO(t){return!!t.deps}function TO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function bO(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function kg(t,e){for(let n of t)Array.isArray(n)?kg(n,e):n&&qg(n)?kg(n.\u0275providers,e):e(n)}function qe(t,e){let n;t instanceof Ei?(La(t),n=t):n=new Pg(t);let r,i=Cn(n),o=Dt(void 0);try{return e()}finally{Cn(i),Dt(o)}}function ub(){return eb()!==void 0||tl()!=null}var St=0,q=1,K=2,$e=3,tn=4,nn=5,qt=6,zo=7,dt=8,rn=9,Rn=10,De=11,Go=12,im=13,Ti=14,Vt=15,bi=16,Di=17,Ci=18,za=19,om=20,rr=21,Yl=22,Ga=23,zt=24,Si=25,Wa=26,Ce=27,lb=1,gn=6,Nn=7,Ka=8,Qa=9,yt=10;function Gt(t){return Array.isArray(t)&&typeof t[lb]=="object"}function Wt(t){return Array.isArray(t)&&t[lb]===!0}function sm(t){return(t.flags&4)!==0}function ar(t){return t.componentOffset>-1}function Ya(t){return(t.flags&1)===1}function Mn(t){return!!t.template}function Ai(t){return(t[K]&512)!==0}function Ur(t){return(t[K]&256)===256}var db="svg",hb="math";function Kt(t){for(;Array.isArray(t);)t=t[St];return t}function am(t,e){return Kt(e[t])}function on(t,e){return Kt(e[t.index])}function Ri(t,e){return t.data[e]}function fb(t,e){return t[e]}function cm(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function sn(t,e){let n=e[t];return Gt(n)?n:n[St]}function Jl(t){return(t[K]&128)===128}function pb(t){return Wt(t[$e])}function Br(t,e){return e==null?null:t[e]}function um(t){t[Di]=0}function lm(t){t[K]&1024||(t[K]|=1024,Jl(t)&&Wo(t))}function gb(t,e){for(;t>0;)e=e[Ti],t--;return e}function Ja(t){return!!(t[K]&9216||t[zt]?.dirty)}function Zl(t){t[Rn].changeDetectionScheduler?.notify(8),t[K]&64&&(t[K]|=1024),Ja(t)&&Wo(t)}function Wo(t){t[Rn].changeDetectionScheduler?.notify(0);let e=Vr(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Jl(e)));)e=Vr(e)}function dm(t,e){if(Ur(t))throw new j(911,!1);t[rr]===null&&(t[rr]=[]),t[rr].push(e)}function mb(t,e){if(t[rr]===null)return;let n=t[rr].indexOf(e);n!==-1&&t[rr].splice(n,1)}function Vr(t){let e=t[$e];return Wt(e)?e[$e]:e}function yb(t){return t[zo]??=[]}function vb(t){return t.cleanup??=[]}var se={lFrame:kb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Fg=!1;function _b(){return se.lFrame.elementDepthCount}function Eb(){se.lFrame.elementDepthCount++}function Ib(){se.lFrame.elementDepthCount--}function hm(){return se.bindingsEnabled}function fm(){return se.skipHydrationRootTNode!==null}function wb(t){return se.skipHydrationRootTNode===t}function Tb(t){se.skipHydrationRootTNode=t}function bb(){se.skipHydrationRootTNode=null}function Ie(){return se.lFrame.lView}function jt(){return se.lFrame.tView}function At(t){return se.lFrame.contextLView=t,t[dt]}function Rt(t){return se.lFrame.contextLView=null,t}function Nt(){let t=pm();for(;t!==null&&t.type===64;)t=t.parent;return t}function pm(){return se.lFrame.currentTNode}function Db(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ko(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function gm(){return se.lFrame.isParent}function Cb(){se.lFrame.isParent=!1}function mm(){return Fg}function ym(t){let e=Fg;return Fg=t,e}function Sb(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ab(t){return se.lFrame.bindingIndex=t}function Za(){return se.lFrame.bindingIndex++}function Rb(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Nb(){return se.lFrame.inI18n}function Mb(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xl(e)}function Pb(){return se.lFrame.currentDirectiveIndex}function Xl(t){se.lFrame.currentDirectiveIndex=t}function xb(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function vm(t){se.lFrame.currentQueryIndex=t}function DO(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[nn]:null}function _m(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=DO(o),i===null||(o=o[Ti],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=se.lFrame=Ob();return r.currentTNode=e,r.lView=t,!0}function ed(t){let e=Ob(),n=t[q];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ob(){let t=se.lFrame,e=t===null?null:t.child;return e===null?kb(t):e}function kb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Fb(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Em=Fb;function td(){let t=Fb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Lb(t){return(se.lFrame.contextLView=gb(t,se.lFrame.contextLView))[dt]}function Ni(){return se.lFrame.selectedIndex}function $r(t){se.lFrame.selectedIndex=t}function Im(){let t=se.lFrame;return Ri(t.tView,t.selectedIndex)}function wm(){return se.lFrame.currentNamespace}var Vb=!0;function nd(){return Vb}function cr(t){Vb=t}function Lg(t,e=null,n=null,r){let i=Tm(t,e,n,r);return i.resolveInjectorInitializers(),i}function Tm(t,e=null,n=null,r,i=new Set){let o=[n||Ht,ob(t)];return r=r||(typeof t=="object"?void 0:ir(t)),new Ei(o,e||qa(),r||null,i)}var He=class t{static THROW_IF_NOT_FOUND=yi;static NULL=new ja;static create(e,n){if(Array.isArray(e))return Lg({name:""},n,e,"");{let r=e.name??"";return Lg({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:t,providedIn:"any",factory:()=>te(Zg)});static __NG_ELEMENT_ID__=-1},Xe=new V(""),mn=(()=>{class t{static __NG_ELEMENT_ID__=CO;static __NG_ENV_ID__=n=>n}return t})(),Vg=class extends mn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ur(this._lView)}onDestroy(e){let n=this._lView;return dm(n,e),()=>mb(n,e)}};function CO(){return new Vg(Ie())}var pn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},vt=new V("",{providedIn:"root",factory:()=>{let t=A(ke),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(pn),e.handleError(n))}}}),jb={provide:en,useValue:()=>void A(pn),multi:!0},SO=new V("",{providedIn:"root",factory:()=>{let t=A(Xe).defaultView;if(!t)return;let e=A(vt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),A(mn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function bm(){return Ct([ib(()=>void A(SO))])}function xe(t,e){let[n,r,i]=dg(t,e?.equal),o=n,s=o[bt];return o.set=r,o.update=i,o.asReadonly=Ub.bind(o),o}function Ub(){let t=this[bt];if(t.readonlyFn===void 0){let e=()=>this();e[bt]=t,t.readonlyFn=e}return t.readonlyFn}var rd=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=AO}return t})();function AO(){return new rd(Ie(),Nt())}var Sn=class{},Qo=new V("",{providedIn:"root",factory:()=>!1});var Dm=new V(""),id=new V(""),yn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ut(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ee(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),Hr=(()=>{class t{internalPendingTasks=A(yn);scheduler=A(Sn);errorHandler=A(vt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xa(...t){}var Cm=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>new jg})}return t})(),jg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var od={JSACTION:"jsaction"};function is(t){return{toString:t}.toString()}var sd="__parameters__";function LO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function VO(t,e,n){return is(()=>{let r=LO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(sd)?u[sd]:Object.defineProperty(u,sd,{value:[]})[sd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var On=tb(VO("Optional"),8);function jO(t){return typeof t=="function"}var pd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function SD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var lr=(()=>{let t=()=>AD;return t.ngInherit=!0,t})();function AD(t){return t.type.prototype.ngOnChanges&&(t.setInput=BO),UO}function UO(){let t=ND(this),e=t?.current;if(e){let n=t.previous;if(n===jr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function BO(t,e,n,r,i){let o=this.declaredInputs[r],s=ND(t)||$O(t,{previous:jr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new pd(l&&l.currentValue,n,u===jr),SD(t,e,i,n)}var RD="__ngSimpleChanges__";function ND(t){return t[RD]||null}function $O(t,e){return t[RD]=e}var Bb=[];var ye=function(t,e=null,n){for(let r=0;r<Bb.length;r++){let i=Bb[r];i(t,e,n)}};function HO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=AD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function MD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ud(t,e,n){PD(t,e,3,n)}function ld(t,e,n,r){(t[K]&3)===n&&PD(t,e,n,r)}function Sm(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function PD(t,e,n,r){let i=r!==void 0?t[Di]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Di]+=65536),(a<o||o==-1)&&(qO(t,n,e,u),t[Di]=(t[Di]&4294901760)+u+2),u++}function $b(t,e){ye(4,t,e);let n=J(null);try{e.call(t)}finally{J(n),ye(5,t,e)}}function qO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[K]>>14<t[Di]>>16&&(t[K]&3)===e&&(t[K]+=16384,$b(a,o)):$b(a,o)}var Jo=-1,xi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function zO(t){return(t.flags&8)!==0}function GO(t){return(t.flags&16)!==0}function WO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];KO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function xD(t){return t===3||t===4||t===6}function KO(t){return t.charCodeAt(0)===64}function nc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Hb(t,n,i,null,e[++r]):Hb(t,n,i,null,null))}}return t}function Hb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function OD(t){return t!==Jo}function gd(t){return t&32767}function QO(t){return t>>16}function md(t,e){let n=QO(t),r=e;for(;n>0;)r=r[Ti],n--;return r}var Um=!0;function yd(t){let e=Um;return Um=t,e}var YO=256,kD=YO-1,FD=5,JO=0,Pn={};function ZO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(wi)&&(r=n[wi]),r==null&&(r=n[wi]=JO++);let i=r&kD,o=1<<i;e.data[t+(i>>FD)]|=o}function vd(t,e){let n=LD(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,Am(r.data,t),Am(e,null),Am(r.blueprint,null));let i=sy(t,e),o=t.injectorIndex;if(OD(i)){let s=gd(i),a=md(i,e),u=a[q].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Am(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=$D(i),r===null)return Jo;if(n++,i=i[Ti],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Jo}function Bm(t,e,n){ZO(t,e,n)}function XO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(xD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function VD(t,e,n){if(n&8||t!==void 0)return t;zl(e,"NodeInjector")}function jD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[rn],o=Dt(void 0);try{return i?i.get(e,r,n&8):Yg(e,r,n&8)}finally{Dt(o)}}return VD(r,e,n)}function UD(t,e,n,r=0,i){if(t!==null){if(e[K]&2048&&!(r&2)){let s=ik(t,e,n,r,Pn);if(s!==Pn)return s}let o=BD(t,e,n,r,Pn);if(o!==Pn)return o}return jD(e,n,r,i)}function BD(t,e,n,r,i){let o=nk(n);if(typeof o=="function"){if(!_m(e,t,r))return r&1?VD(i,n,r):jD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))zl(n);else return s}finally{Em()}}else if(typeof o=="number"){let s=null,a=LD(t,e),u=Jo,l=r&1?e[Vt][nn]:null;for((a===-1||r&4)&&(u=a===-1?sy(t,e):e[a+8],u===Jo||!zb(r,!1)?a=-1:(s=e[q],a=gd(u),e=md(u,e)));a!==-1;){let h=e[q];if(qb(o,a,h.data)){let p=ek(a,e,n,s,r,l);if(p!==Pn)return p}u=e[a+8],u!==Jo&&zb(r,e[q].data[a+8]===l)&&qb(o,a,e)?(s=h,a=gd(u),e=md(u,e)):a=-1}}return i}function ek(t,e,n,r,i,o){let s=e[q],a=s.data[t+8],u=r==null?ar(a)&&Um:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=tk(a,s,n,u,l);return h!==null?_d(e,s,h,a,i):Pn}function tk(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let D=s[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=s[u];if(y&&Mn(y)&&y.type===n)return u}return null}function _d(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof xi){let a=o;if(a.resolving){let y=JT(s[n]);throw Qg(y)}let u=yd(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?Dt(a.injectImpl):null,m=_m(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&HO(n,s[n],e)}finally{p!==null&&Dt(p),yd(u),a.resolving=!1,Em()}}return o}function nk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(wi)?t[wi]:void 0;return typeof e=="number"?e>=0?e&kD:rk:e}function qb(t,e,n){let r=1<<t;return!!(n[e+(t>>FD)]&r)}function zb(t,e){return!(t&2)&&!(t&1&&e)}var Pi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return UD(this._tNode,this._lView,e,vi(r),n)}};function rk(){return new Pi(Nt(),Ie())}function Li(t){return is(()=>{let e=t.prototype.constructor,n=e[Va]||$m(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Va]||$m(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $m(t){return $g(t)?()=>{let e=$m(lt(t));return e&&e()}:Lr(t)}function ik(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!Ai(s);){let a=BD(o,s,n,r|2,Pn);if(a!==Pn)return a;let u=o.parent;if(!u){let l=s[om];if(l){let h=l.get(n,Pn,r);if(h!==Pn)return h}u=$D(s),s=s[Ti]}o=u}return i}function $D(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[nn]:null}function cc(t){return XO(Nt(),t)}function ok(){return Od(Nt(),Ie())}function Od(t,e){return new zr(on(t,e))}var zr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ok}return t})();var HD="ngSkipHydration",sk="ngskiphydration";function qD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===sk)return!0}return!1}function zD(t){return t.hasAttribute(HD)}function Ed(t){return(t.flags&128)===128}function GD(t){if(Ed(t))return!0;let e=t.parent;for(;e;){if(Ed(t)||qD(e))return!0;e=e.parent}return!1}var ay=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(ay||{}),WD=new Map,ak=0;function ck(){return ak++}function uk(t){WD.set(t[za],t)}function Hm(t){WD.delete(t[za])}var Gb="__ngContext__";function es(t,e){Gt(e)?(t[Gb]=e[za],uk(e)):t[Gb]=e}function KD(t){return YD(t[Go])}function QD(t){return YD(t[tn])}function YD(t){for(;t!==null&&!Wt(t);)t=t[tn];return t}var qm;function cy(t){qm=t}function uc(){if(qm!==void 0)return qm;if(typeof document<"u")return document;throw new j(210,!1)}var kn=new V("",{providedIn:"root",factory:()=>lk}),lk="ng",kd=new V(""),Gr=new V("",{providedIn:"platform",factory:()=>"unknown"});var Fd=new V("",{providedIn:"root",factory:()=>uc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function dk(){let t=new Vi;return t.store=hk(uc(),A(kn)),t}var Vi=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:dk});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function hk(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var JD="h",ZD="b",fk="f",pk="n",XD="e",eC="t",Ld="c",uy="x",rc="r",tC="i",nC="n",ly="d";var rC="di",iC="s",oC="p";var lc=new V(""),sC=!1,dy=new V("",{providedIn:"root",factory:()=>sC});var hy=new V(""),aC=!1,cC=new V(""),fy=new V("",{providedIn:"root",factory:()=>new Map});var dc="ngb";var uC=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},lC=(t,e)=>{let n=t,r=n.getAttribute(dc)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var dC=t=>{t.removeAttribute(od.JSACTION),t.removeAttribute(dc),t.__jsaction_fns=void 0},hC=new V("",{providedIn:"root",factory:()=>({})});function py(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var zm=new Map;function fC(t,e){return zm.set(t,e),()=>zm.delete(t)}var Wb=!1,pC=(t,e,n,r)=>{};function gk(t,e,n,r){pC(t,e,n,r)}function gC(){Wb||(pC=(t,e,n,r)=>{let i=t[rn].get(kn);zm.get(i)?.(e,n,r)},Wb=!0)}var Vd=new V("");function jd(t){return(t.flags&32)===32}var mk="__nghData__",gy=mk,yk="__nghDeferData__",mC=yk;var dd="ngh",yC="nghm",vC=()=>null;function vk(t,e,n=!1){let r=t.getAttribute(dd);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=e.get(Vi,null,{optional:!0});h!==null&&(u=h.get(gy,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Ud(l,0,t.nextSibling)),a?t.setAttribute(dd,a):t.removeAttribute(dd),l}function _C(){vC=vk}function EC(t,e,n=!1){return vC(t,e,n)}function IC(t){let e=t._lView;return e[q].type===2?null:(Ai(e)&&(e=e[Ce]),e)}function _k(t){return t.textContent?.replace(/\s/gm,"")}function Ek(t){let e=uc(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=_k(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ud(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Gm(t,e){return t.segmentHeads?.[e]??null}function wC(t){return t.get(cC,!1,{optional:!0})}function Ik(t,e){let n=t.data,r=n[XD]?.[e]??null;return r===null&&n[Ld]?.[e]&&(r=my(t,e)),r}function TC(t,e){return t.data[Ld]?.[e]??null}function my(t,e){let n=TC(t,e)??[],r=0;for(let i of n)r+=i[rc]*(i[uy]??1);return r}function wk(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[ly];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function bC(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[ly];t.disconnectedNodes=n?new Set(n):null}return!!wk(t)?.has(e)}function Bd(t,e){let n=t[qt];return n!==null&&!fm()&&!jd(e)&&!bC(n,e.index-Ce)}function Tk(t,e){let n=e.get(Vd),i=e.get(Vi).get(mC,{}),o=!1,s=t,a=null,u=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}u.unshift(s),s=i[s][oC]}return{parentBlockPromise:a,hydrationQueue:u}}function Rm(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===yC}function Kb(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function DC(t){for(let r of t.body.childNodes)if(Rm(r))return;let e=Kb(t.body.previousSibling);if(Rm(e))return;let n=Kb(t.head.lastChild);if(!Rm(n))throw new j(-507,!1)}function CC(t,e){let n=t.contentQueries;if(n!==null){let r=J(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];vm(o),a.contentQueries(2,e[s],s)}}}finally{J(r)}}}function Wm(t,e,n){vm(0);let r=J(null);try{e(t,n)}finally{J(r)}}function SC(t,e,n){if(sm(e)){let r=J(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{J(r)}}}var ur=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(ur||{});var ad;function bk(){if(ad===void 0&&(ad=null,Ho.trustedTypes))try{ad=Ho.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ad}function Qb(t){return bk()?.createScriptURL(t)||t}var Id=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hl})`}};function hc(t){return t instanceof Id?t.changingThisBreaksApplicationSecurity:t}function $d(t,e){let n=AC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Hl})`)}return n===e}function AC(t){return t instanceof Id&&t.getTypeName()||null}var Dk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yy(t){return t=String(t),t.match(Dk)?t:"unsafe:"+t}var fc=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(fc||{});function pc(t){let e=NC();return e?e.sanitize(fc.URL,t)||"":$d(t,"URL")?hc(t):yy(Ba(t))}function RC(t){let e=NC();if(e)return Qb(e.sanitize(fc.RESOURCE_URL,t)||"");if($d(t,"ResourceURL"))return Qb(hc(t));throw new j(904,!1)}function Ck(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?RC:pc}function vy(t,e,n){return Ck(e,n)(t)}function NC(){let t=Ie();return t&&t[Rn].sanitizer}var Sk=/^>|^->|<!--|-->|--!>|<!-$/g,Ak=/(<|>)/g,Rk="\u200B$1\u200B";function Nk(t){return t.replace(Sk,e=>e.replace(Ak,Rk))}function MC(t){return t.ownerDocument.body}function PC(t){return t instanceof Function?t():t}function Mk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var xC="ng-template";function Pk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Mk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_y(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function _y(t){return t.type===4&&t.value!==xC}function xk(t,e,n){let r=t.type===4&&!n?xC:t.value;return e===r}function Ok(t,e,n){let r=4,i=t.attrs,o=i!==null?Lk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!vn(r)&&!vn(u))return!1;if(s&&vn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!xk(t,u,n)||u===""&&e.length===1){if(vn(r))return!1;s=!0}}else if(r&8){if(i===null||!Pk(t,i,u,n)){if(vn(r))return!1;s=!0}}else{let l=e[++a],h=kk(u,i,_y(t),n);if(h===-1){if(vn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(vn(r))return!1;s=!0}}}}return vn(r)||s}function vn(t){return(t&1)===0}function kk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Vk(e,t)}function Fk(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ok(t,e[r],n))return!0;return!1}function Lk(t){for(let e=0;e<t.length;e++){let n=t[e];if(xD(n))return e}return t.length}function Vk(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Yb(t,e){return t?":not("+e.trim()+")":e}function jk(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!vn(s)&&(e+=Yb(o,i),i=""),r=s,o=o||!vn(r);n++}return i!==""&&(e+=Yb(o,i)),e}function Uk(t){return t.map(jk).join(",")}function Bk(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!vn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Fn={};function OC(t,e){return t.createText(e)}function $k(t,e,n){t.setValue(e,n)}function kC(t,e){return t.createComment(Nk(e))}function Ey(t,e,n){return t.createElement(e,n)}function wd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function FC(t,e,n){t.appendChild(e,n)}function Jb(t,e,n,r,i){r!==null?wd(t,e,n,r,i):FC(t,e,n)}function Iy(t,e,n,r){t.removeChild(null,e,n,r)}function LC(t){t.textContent=""}function Hk(t,e,n){t.setAttribute(e,"style",n)}function qk(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&WO(t,e,r),i!==null&&qk(t,e,i),o!==null&&Hk(t,e,o)}function wy(t,e,n,r,i,o,s,a,u,l,h){let p=Ce+r,m=p+i,y=zk(p,m),D=typeof l=="function"?l():l;return y[q]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function zk(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Fn);return n}function Gk(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ty(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[St]=i,p[K]=r|4|128|8|64|1024,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),um(p),p[$e]=p[Ti]=t,p[dt]=n,p[Rn]=s||t&&t[Rn],p[De]=a||t&&t[De],p[rn]=u||t&&t[rn]||null,p[nn]=o,p[za]=ck(),p[qt]=h,p[om]=l,p[Vt]=e.type==2?t[Vt]:p,p}function Wk(t,e,n){let r=on(e,t),i=Gk(n),o=t[Rn].rendererFactory,s=by(t,Ty(t,i,null,jC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function jC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function UC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function by(t,e){return t[Go]?t[im][tn]=e:t[Go]=e,t[im]=e,e}function We(t=1){BC(jt(),Ie(),Ni()+t,!1)}function BC(t,e,n,r){if(!r)if((e[K]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ud(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ld(e,o,0,n)}$r(n)}var Hd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Hd||{});function Km(t,e,n,r){let i=J(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Hd.SignalBased)!==0&&(u=e[o][bt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):SD(e,u,o,r)}finally{J(i)}}var xn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(xn||{}),Kk;function Dy(t,e){return Kk(t,e)}var ts=new Set,qd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(qd||{}),ji=new V(""),Zb=new Set;function an(t){Zb.has(t)||(Zb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var $C=!1,Qm=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ub()&&(this.destroyRef=A(mn,{optional:!0})??void 0,this.pendingTasks=A(yn,{optional:!0})??void 0)}emit(e){let n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ze=Qm;function HC(t){let e,n;function r(){t=Xa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Xb(t){return queueMicrotask(()=>t()),()=>{t=Xa}}var Cy="isAngularZone",Td=Cy+"_ID",Qk=0,we=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ze(!1);onMicrotaskEmpty=new ze(!1);onStable=new ze(!1);onError=new ze(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=$C}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Zk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Cy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Yk,Xa,Xa);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Yk={};function Sy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){HC(()=>{t.callbackScheduled=!1,Ym(t),t.isCheckStableRunning=!0,Sy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ym(t)}function Zk(t){let e=()=>{Jk(t)},n=Qk++;t._inner=t._inner.fork({name:"angular",properties:{[Cy]:!0,[Td]:n,[Td+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Xk(u))return r.invokeTask(o,s,a,u);try{return eD(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),tD(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return eD(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!e1(u)&&e(),tD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ym(t),Sy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ym(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function eD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tD(t){t._nesting--,Sy(t)}var ic=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ze;onMicrotaskEmpty=new ze;onStable=new ze;onError=new ze;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Xk(t){return qC(t,"__ignore_ng_zone__")}function e1(t){return qC(t,"__scheduler_tick__")}function qC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ay=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),zC=[0,1,2,3],GC=(()=>{class t{ngZone=A(we);scheduler=A(Sn);errorHandler=A(pn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){A(ji,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ye(16),this.executing=!0;for(let r of zC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ye(17)}register(n){let{view:r}=n;r!==void 0?((r[Si]??=[]).push(n),Wo(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(qd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),bd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Si];e&&(this.view[Si]=e.filter(n=>n!==this))}};function zd(t,e){let n=e?.injector??A(He);return an("NgAfterNextRender"),n1(t,n,e,!0)}function t1(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function n1(t,e,n,r){let i=e.get(Ay);i.impl??=e.get(GC);let o=e.get(ji,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(mn):null,a=e.get(rd,null,{optional:!0}),u=new bd(i.impl,t1(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var r1=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function WC(t,e){let n=t.get(r1);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function i1(t,e){for(let[n,r]of e)WC(t,r.animateFns)}function nD(t,e,n,r){let i=t?.[Wa]?.enter;e!==null&&i&&i.has(n.index)&&i1(r,i)}function Yo(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;Wt(i)?u=i:Gt(i)&&(l=!0,i=i[St]);let h=Kt(i);t===0&&r!==null?(nD(a,r,o,n),s==null?FC(e,r,h):wd(e,r,h,s||null,!0)):t===1&&r!==null?(nD(a,r,o,n),wd(e,r,h,s||null,!0)):t===2?rD(a,o,n,p=>{Iy(e,h,l,p)}):t===3&&rD(a,o,n,()=>{e.destroyNode(h)}),u!=null&&y1(e,t,n,u,o,r,s)}}function o1(t,e){KC(t,e),e[St]=null,e[nn]=null}function s1(t,e,n,r,i,o){r[St]=i,r[nn]=e,Gd(t,r,n,1,i,o)}function KC(t,e){e[Rn].changeDetectionScheduler?.notify(9),Gd(t,e,e[De],2,null,null)}function a1(t){let e=t[Go];if(!e)return Nm(t[q],t);for(;e;){let n=null;if(Gt(e))n=e[Go];else{let r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[tn]&&e!==t;)Gt(e)&&Nm(e[q],e),e=e[$e];e===null&&(e=t),Gt(e)&&Nm(e[q],e),n=e&&e[tn]}e=n}}function Ry(t,e){let n=t[Qa],r=n.indexOf(e);n.splice(r,1)}function Ny(t,e){if(Ur(e))return;let n=e[De];n.destroyNode&&Gd(t,e,n,3,null,null),a1(e)}function Nm(t,e){if(Ur(e))return;let n=J(null);try{e[K]&=-129,e[K]|=256,e[zt]&&Pa(e[zt]),l1(t,e),u1(t,e),e[q].type===1&&e[De].destroy();let r=e[bi];if(r!==null&&Wt(e[$e])){r!==e[$e]&&Ry(r,e);let i=e[Ci];i!==null&&i.detachView(t)}Hm(e)}finally{J(n)}}function rD(t,e,n,r){let i=t?.[Wa];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);t&&ts.add(t),WC(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.running=Promise.allSettled(a),c1(t,r)}else t&&ts.delete(t),r(!1)})}function c1(t,e){let n=t[Wa]?.running;if(n){n.then(()=>{t[Wa].running=void 0,ts.delete(t),e(!0)});return}e(!1)}function u1(t,e){let n=t.cleanup,r=e[zo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[zo]=null);let i=e[rr];if(i!==null){e[rr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ga];if(o!==null){e[Ga]=null;for(let s of o)s.destroy()}}function l1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof xi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];ye(4,a,u);try{u.call(a)}finally{ye(5,a,u)}}else{ye(4,i,o);try{o.call(i)}finally{ye(5,i,o)}}}}}function d1(t,e,n){return h1(t,e.parent,n)}function h1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[St];if(ar(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ur.None||i===ur.Emulated)return null}return on(r,n)}function f1(t,e,n){return g1(t,e,n)}function p1(t,e,n){return t.type&40?on(t,n):null}var g1=p1,iD;function My(t,e,n,r){let i=d1(t,r,e),o=e[De],s=r.parent||e[nn],a=f1(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Jb(o,i,n[u],a,!1);else Jb(o,i,n,a,!1);iD!==void 0&&iD(o,r,e,n,i)}function ec(t,e){if(e!==null){let n=e.type;if(n&3)return on(e,t);if(n&4)return Jm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ec(t,r);{let i=t[e.index];return Wt(i)?Jm(-1,i):Kt(i)}}else{if(n&128)return ec(t,e.next);if(n&32)return Dy(e,t)()||Kt(t[e.index]);{let r=QC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Vr(t[Vt]);return ec(i,r)}else return ec(t,e.next)}}}return null}function QC(t,e){if(e!==null){let r=t[Vt][nn],i=e.projection;return r.projection[i]}return null}function Jm(t,e){let n=yt+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return ec(r,i)}return e[Nn]}function Py(t,e,n,r,i,o,s){for(;n!=null;){let a=r[rn];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&es(Kt(u),r),n.flags|=2),!jd(n))if(l&8)Py(t,e,n.child,r,i,o,!1),Yo(e,t,a,i,u,n,o,r);else if(l&32){let h=Dy(n,r),p;for(;p=h();)Yo(e,t,a,i,p,n,o,r);Yo(e,t,a,i,u,n,o,r)}else l&16?m1(t,e,r,n,i,o):Yo(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Gd(t,e,n,r,i,o){Py(n,r,t.firstChild,e,i,o,!1)}function m1(t,e,n,r,i,o){let s=n[Vt],u=s[nn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Yo(e,t,n[rn],i,h,r,o,n)}else{let l=u,h=s[$e];Ed(r)&&(l.flags|=128),Py(t,e,l,h,i,o,!0)}}function y1(t,e,n,r,i,o,s){let a=r[Nn],u=Kt(r);a!==u&&Yo(e,t,n,o,a,i,s);for(let l=yt;l<r.length;l++){let h=r[l];Gd(h[q],h,t,e,o,a)}}function v1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:xn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xn.Important),t.setStyle(n,r,i,o))}}function YC(t,e,n,r,i){let o=Ni(),s=r&2;try{$r(-1),s&&e.length>Ce&&BC(t,e,Ce,!1),ye(s?2:0,i,n),n(r,i)}finally{$r(o),ye(s?3:1,i,n)}}function xy(t,e,n){C1(t,e,n),(n.flags&64)===64&&S1(t,e,n)}function Oy(t,e,n=on){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function _1(t,e,n,r){let o=r.get(dy,sC)||n===ur.ShadowDom,s=t.selectRootElement(e,o);return E1(s),s}function E1(t){JC(t)}var JC=()=>null;function I1(t){zD(t)?LC(t):Ek(t)}function ZC(){JC=I1}function w1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function T1(t,e,n,r,i,o){let s=e[q];if(Fy(t,s,e,n,r)){ar(t)&&D1(e,t.index);return}t.type&3&&(n=w1(n)),b1(t,e,n,r,i,o)}function b1(t,e,n,r,i,o){if(t.type&3){let s=on(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function D1(t,e){let n=sn(e,t);n[K]&16||(n[K]|=64)}function C1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ar(n)&&Wk(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||vd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=_d(e,t,s,n);if(es(u,e),o!==null&&M1(e,s-r,u,a,n,o),Mn(a)){let l=sn(n.index,e);l[dt]=_d(e,t,s,n)}}}function S1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Pb();try{$r(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Xl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&A1(u,l)}}finally{$r(-1),Xl(s)}}function A1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function XC(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Fk(e,o.selectors,!1)&&(r??=[],Mn(o)?r.unshift(o):r.push(o))}return r}function R1(t,e,n,r,i,o){let s=on(t,e);N1(e[De],s,o,t.value,n,r,i)}function N1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ba(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function M1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Km(r,n,u,l)}}function P1(t,e,n,r,i){let o=Ce+n,s=e[q],a=i(s,e,t,r,n);e[o]=a,Ko(t,!0);let u=t.type===2;return u?(VC(e[De],a,t),(_b()===0||Ya(t))&&es(a,e),Eb()):es(a,e),nd()&&(!u||!jd(t))&&My(s,e,a,t),t}function x1(t){let e=t;return gm()?Cb():(e=e.parent,Ko(e,!1)),e}function ky(t,e){let n=t[rn];if(!n)return;let r;try{r=n.get(vt,null)}catch{r=null}r?.(e)}function Fy(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Km(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Km(h,l,r,i),a=!0}return a}function O1(t,e){let n=sn(e,t),r=n[q];k1(r,n);let i=n[St];i!==null&&n[qt]===null&&(n[qt]=EC(i,n[rn])),ye(18),Ly(r,n,n[dt]),ye(19,n[dt])}function k1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ly(t,e,n){ed(e);try{let r=t.viewQuery;r!==null&&Wm(1,r,n);let i=t.template;i!==null&&YC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ci]?.finishViewCreation(t),t.staticContentQueries&&CC(t,e),t.staticViewQueries&&Wm(2,t.viewQuery,n);let o=t.components;o!==null&&F1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,td()}}function F1(t,e){for(let n=0;n<e.length;n++)O1(t,e[n])}function Vy(t,e,n,r){let i=J(null);try{let o=e.tView,a=t[K]&4096?4096:16,u=Ty(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[bi]=l;let h=t[Ci];return h!==null&&(u[Ci]=h.createEmbeddedView(o)),Ly(o,u,n),u}finally{J(i)}}function Dd(t,e){return!e||e.firstChild===null||Ed(t)}function oc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Kt(o)),Wt(o)&&e0(o,r);let s=n.type;if(s&8)oc(t,e,n.child,r);else if(s&32){let a=Dy(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=QC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Vr(e[Vt]);oc(u[q],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function e0(t,e){for(let n=yt;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&oc(r[q],r,i,e)}t[Nn]!==t[St]&&e.push(t[Nn])}function t0(t){if(t[Si]!==null){for(let e of t[Si])e.impl.addSequence(e);t[Si].length=0}}var n0=[];function L1(t){return t[zt]??V1(t)}function V1(t){let e=n0.pop()??Object.create(U1);return e.lView=t,e}function j1(t){t.lView[zt]!==t&&(t.lView=null,n0.push(t))}var U1=ie(P({},To),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Wo(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function B1(t){let e=t[zt]??Object.create($1);return e.lView=t,e}var $1=ie(P({},To),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Vr(t.lView);for(;e&&!r0(e[q]);)e=Vr(e);e&&lm(e)},consumerOnSignalRead(){this.lView[zt]=this}});function r0(t){return t.type!==2}function i0(t){if(t[Ga]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ga])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[K]&8192)}}var H1=100;function o0(t,e=0){let r=t[Rn].rendererFactory,i=!1;i||r.begin?.();try{q1(t,e)}finally{i||r.end?.()}}function q1(t,e){let n=mm();try{ym(!0),Zm(t,e);let r=0;for(;Ja(t);){if(r===H1)throw new j(103,!1);r++,Zm(t,1)}}finally{ym(n)}}function z1(t,e,n,r){if(Ur(e))return;let i=e[K],o=!1,s=!1;ed(e);let a=!0,u=null,l=null;o||(r0(t)?(l=L1(e),u=Do(l)):sl()===null?(a=!1,l=B1(e),u=Do(l)):e[zt]&&(Pa(e[zt]),e[zt]=null));try{um(e),Ab(t.bindingStartIndex),n!==null&&YC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&ud(e,y,null)}else{let y=t.preOrderHooks;y!==null&&ld(e,y,0,null),Sm(e,0)}if(s||G1(e),i0(e),s0(e,0),t.contentQueries!==null&&CC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&ud(e,y)}else{let y=t.contentHooks;y!==null&&ld(e,y,1),Sm(e,1)}K1(t,e);let p=t.components;p!==null&&c0(e,p,0);let m=t.viewQuery;if(m!==null&&Wm(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&ud(e,y)}else{let y=t.viewHooks;y!==null&&ld(e,y,2),Sm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Yl]){for(let y of e[Yl])y();e[Yl]=null}o||(t0(e),e[K]&=-73)}catch(h){throw o||Wo(e),h}finally{l!==null&&(Na(l,u),a&&j1(l)),td()}}function s0(t,e){for(let n=KD(t);n!==null;n=QD(n))for(let r=yt;r<n.length;r++){let i=n[r];a0(i,e)}}function G1(t){for(let e=KD(t);e!==null;e=QD(e)){if(!(e[K]&2))continue;let n=e[Qa];for(let r=0;r<n.length;r++){let i=n[r];lm(i)}}}function W1(t,e,n){ye(18);let r=sn(e,t);a0(r,n),ye(19,r[dt])}function a0(t,e){Jl(t)&&Zm(t,e)}function Zm(t,e){let r=t[q],i=t[K],o=t[zt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ma(o)),s||=!1,o&&(o.dirty=!1),t[K]&=-9217,s)z1(r,t,r.template,t[dt]);else if(i&8192){let a=J(null);try{i0(t),s0(t,1);let u=r.components;u!==null&&c0(t,u,1),t0(t)}finally{J(a)}}}function c0(t,e,n){for(let r=0;r<e.length;r++)W1(t,e[r],n)}function K1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)$r(~i);else{let o=i,s=n[++r],a=n[++r];Mb(s,o);let u=e[o];ye(24,u),a(2,u),ye(25,u)}}}finally{$r(-1)}}function Wd(t,e){let n=mm()?64:1088;for(t[Rn].changeDetectionScheduler?.notify(e);t;){t[K]|=n;let r=Vr(t);if(Ai(t)&&!r)return t;t=r}return null}function u0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Q1(t,e){let n=yt+e;if(n<t.length)return t[n]}function jy(t,e,n,r=!0){let i=e[q];if(Y1(i,e,t,n),r){let s=Jm(n,t),a=e[De],u=a.parentNode(t[Nn]);u!==null&&s1(i,t[nn],a,e,u,s)}let o=e[qt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function l0(t,e){let n=Cd(t,e);return n!==void 0&&Ny(n[q],n),n}function Cd(t,e){if(t.length<=yt)return;let n=yt+e,r=t[n];if(r){let i=r[bi];i!==null&&i!==t&&Ry(i,r),e>0&&(t[n-1][tn]=r[tn]);let o=$a(t,yt+e);o1(r[q],r);let s=o[Ci];s!==null&&s.detachView(o[q]),r[$e]=null,r[tn]=null,r[K]&=-129}return r}function Y1(t,e,n,r){let i=yt+r,o=n.length;r>0&&(n[i-1][tn]=e),r<o-yt?(e[tn]=n[i],Jg(n,yt+r,e)):(n.push(e),e[tn]=null),e[$e]=n;let s=e[bi];s!==null&&n!==s&&d0(s,e);let a=e[Ci];a!==null&&a.insertView(t),Zl(e),e[K]|=128}function d0(t,e){let n=t[Qa],r=e[$e];if(Gt(r))t[K]|=2;else{let i=r[$e][Vt];e[Vt]!==i&&(t[K]|=2)}n===null?t[Qa]=[e]:n.push(e)}var qr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[q];return oc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[dt]}set context(e){this._lView[dt]=e}get destroyed(){return Ur(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[$e];if(Wt(e)){let n=e[Ka],r=n?n.indexOf(this):-1;r>-1&&(Cd(e,r),$a(n,r))}this._attachedToViewContainer=!1}Ny(this._lView[q],this._lView)}onDestroy(e){dm(this._lView,e)}markForCheck(){Wd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Zl(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,o0(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ai(this._lView),n=this._lView[bi];n!==null&&!e&&Ry(n,this._lView),KC(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let n=Ai(this._lView),r=this._lView[bi];r!==null&&!n&&d0(r,this._lView),Zl(this._lView)}};var Kd=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=J1;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Vy(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new qr(o)}}return t})();function J1(){return Z1(Nt(),Ie())}function Z1(t,e){return t.type&4?new Kd(e,t,Od(t,e)):null}function Qd(t,e,n,r,i){let o=t.data[e];if(o===null)o=X1(t,e,n,r,i),Nb()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Db();o.injectorIndex=s===null?-1:s.injectorIndex}return Ko(o,!0),o}function X1(t,e,n,r,i){let o=pm(),s=gm(),a=s?o:o&&o.parent,u=t.data[e]=tF(t,a,n,e,r,i);return eF(t,u,o,s),u}function eF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function tF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return fm()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var nF=new RegExp(`^(\\d+)*(${ZD}|${JD})*(.*)`);function rF(t){let e=t.match(nF),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function iF(t){return!t.prev&&t.parent?.type===8}function Mm(t){return t.index-Ce}function oF(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Yd(t,e,n,r){let i=Mm(r),o=oF(t,i);if(o===void 0){let s=t.data[nC];if(s?.[i])o=aF(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(iF(r)){let l=Mm(r.parent);o=Gm(t,l)}else{let l=on(u,n);if(a)o=l.firstChild;else{let h=Mm(u),p=Gm(t,h);if(u.type===2&&p){let y=my(t,h)+1;o=Jd(y,p)}else o=l.nextSibling}}}}return o}function Jd(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function sF(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case fk:n=n.firstChild;break;case pk:n=n.nextSibling;break}}return n}function aF(t,e){let[n,...r]=rF(t),i;if(n===JD)i=e[Vt][St];else if(n===ZD)i=MC(e[Vt][St]);else{let o=Number(n);i=Kt(e[o+Ce])}return sF(i,r)}var cF=!1;function h0(t){cF=t}function uF(t){let e=t[qt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[De];for(let o of r.values())lF(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function lF(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Ce);i&&Iy(t,i,!1)}}function Uy(t){let e=t[gn]??[],r=t[$e][De],i=[];for(let o of e)o.data[rC]!==void 0?i.push(o):f0(o,r);t[gn]=i}function dF(t){let{lContainer:e}=t,n=e[gn];if(n===null)return;let i=e[$e][De];for(let o of n)f0(o,i)}function f0(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[rc];for(;n<i;){let o=r.nextSibling;Iy(e,r,!1),r=o,n++}}}function Zd(t){Uy(t);let e=t[St];Gt(e)&&Sd(e);for(let n=yt;n<t.length;n++)Sd(t[n])}function Sd(t){uF(t);let e=t[q];for(let n=Ce;n<e.bindingStartIndex;n++)if(Wt(t[n])){let r=t[n];Zd(r)}else Gt(t[n])&&Sd(t[n])}function By(t){let e=t._views;for(let n of e){let r=IC(n);r!==null&&r[St]!==null&&(Gt(r)?Sd(r):Zd(r))}}function hF(t,e,n,r){t!==null&&(n.cleanup(e),Zd(t.lContainer),By(r))}function fF(t,e){let n=[];for(let r of e)for(let i=0;i<(r[uy]??1);i++){let o={data:r,firstChild:null};r[rc]>0&&(o.firstChild=t,t=Jd(r[rc],t)),n.push(o)}return[t,n]}var p0=()=>null,g0=()=>null;function m0(){p0=pF,g0=gF}function pF(t,e){return y0(t,e)?t[gn].shift():(Uy(t),null)}function Xm(t,e){return p0(t,e)}function gF(t,e,n){if(e.tView.ssrId===null)return null;let r=Xm(t,e.tView.ssrId);return n[q].firstUpdatePass&&r===null&&yF(n,e),r}function mF(t,e,n){return g0(t,e,n)}function yF(t,e){let n=e;for(;n;){if(oD(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(oD(t,n))return;n=n.next}}function y0(t,e){let n=t[gn];return!e||n===null||n.length===0?!1:n[0].data[tC]===e}function oD(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return Wt(r)&&y0(r,n)?(Uy(r),!0):!1}var v0=class{},Xd=class{},ey=class{resolveComponentFactory(e){throw new j(917,!1)}},gc=class{static NULL=new ey},Oi=class{},Ui=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>vF()}return t})();function vF(){let t=Ie(),e=Nt(),n=sn(e.index,t);return(Gt(n)?n:t)[De]}var _0=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();var hd={},Zo=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,hd,r);return i!==hd||n===hd?i:this.parentInjector.get(e,n,r)}};function sD(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Bg(i,a);else if(o==2){let u=a,l=e[++s];r=Bg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function le(t,e=0){let n=Ie();if(n===null)return te(t,e);let r=Nt();return UD(r,n,lt(t),e)}function E0(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}IF(t,e,n,a,o,u,l)}o!==null&&r!==null&&_F(n,r,o)}function _F(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function EF(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function IF(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Mn(y)&&(u=!0,EF(t,n,m)),Bm(vd(n,e),t,y.type)}SF(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=UC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=nc(n.mergedAttrs,y.hostAttrs),TF(t,n,e,p,y),CF(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let D=y.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}wF(t,n,o)}function wF(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))aD(0,e,i,r),aD(1,e,i,r),uD(e,r,!1);else{let o=n.get(i);cD(0,e,o,r),cD(1,e,o,r),uD(e,r,!0)}}}function aD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),I0(e,o)}}function cD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),I0(e,s)}}function I0(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function uD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||_y(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function TF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Lr(i.type,!0)),s=new xi(o,Mn(i),le,null);t.blueprint[r]=s,n[r]=s,bF(t,e,r,UC(t,n,i.hostVars,Fn),i)}function bF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;DF(s)!=a&&s.push(a),s.push(n,r,o)}}function DF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function CF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mn(e)&&(n[""]=t)}}function SF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function w0(t,e,n,r,i,o,s,a){let u=e[q],l=u.consts,h=Br(l,s),p=Qd(u,t,n,r,h);return o&&E0(u,e,p,Br(l,a),i),p.mergedAttrs=nc(p.mergedAttrs,p.attrs),p.attrs!==null&&sD(p,p.attrs,!1),p.mergedAttrs!==null&&sD(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function T0(t,e){MD(t,e),sm(e)&&t.queries.elementEnd(e)}function $y(t){return D0(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function b0(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function D0(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function AF(t,e,n){return t[e]=n}function os(t,e,n){if(n===Fn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Pm(t,e,n){return function r(i){let o=ar(t)?sn(t.index,e):e;Wd(o,5);let s=e[dt],a=lD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=lD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function lD(t,e,n,r){let i=J(null);try{return ye(6,e,n),n(r)!==!1}catch(o){return ky(t,o),!1}finally{ye(7,e,n),J(i)}}function RF(t,e,n,r,i,o,s,a){let u=Ya(t),l=!1,h=null;if(!r&&u&&(h=MF(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=on(t,n),m=r?r(p):p;gk(n,m,o,a);let y=i.listen(m,o,a);if(!NF(o)){let D=r?N=>r(Kt(N[t.index])):t.index;C0(D,e,n,o,a,y,!1)}}return l}function NF(t){return t.startsWith("animation")||t.startsWith("transition")}function MF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[zo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function C0(t,e,n,r,i,o,s){let a=e.firstCreatePass?vb(e):null,u=yb(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function dD(t,e,n,r,i,o){let s=e[n],a=e[q],l=a.data[n].outputs[r],p=s[l].subscribe(o);C0(t.index,a,e,i,o,p,!0)}var ty=Symbol("BINDING");var Ad=class extends gc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=sr(e);return new ns(n,this.ngModule)}};function PF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Hd.SignalBased)!==0};return i&&(o.transform=i),o})}function xF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function OF(t,e,n){let r=e instanceof ke?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Zo(n,r):n}function kF(t){let e=t.get(Oi,null);if(e===null)throw new j(407,!1);let n=t.get(_0,null),r=t.get(Sn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function FF(t,e){let n=S0(t);return Ey(e,n,n==="svg"?db:n==="math"?hb:null)}function S0(t){return(t.selectors[0][0]||"div").toLowerCase()}var ns=class extends Xd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=PF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=xF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Uk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ye(22);let a=J(null);try{let u=this.componentDef,l=LF(r,u,s,o),h=OF(u,i||this.ngModule,e),p=kF(h),m=p.rendererFactory.createRenderer(null,u),y=r?_1(m,r,u.encapsulation,h):FF(u,m),D=s?.some(hD)||o?.some(L=>typeof L!="function"&&L.bindings.some(hD)),N=Ty(null,l,null,512|jC(u),null,null,p,m,h,null,EC(y,h,!0));N[Ce]=y,ed(N);let R=null;try{let L=w0(Ce,N,2,"#host",()=>l.directiveRegistry,!0,0);VC(m,y,L),es(y,N),xy(l,N,L),SC(l,L,N),T0(l,L),n!==void 0&&jF(L,this.ngContentSelectors,n),R=sn(L.index,N),N[dt]=R[dt],Ly(l,N,null)}catch(L){throw R!==null&&Hm(R),Hm(N),L}finally{ye(23),td()}return new Rd(this.componentType,N,!!D)}finally{J(a)}}};function LF(t,e,n,r){let i=t?["ng-version","20.3.9"]:Bk(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[ty].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[ty].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Kl(p);u.push(m)}return wy(0,null,VF(o,s),1,a,u,null,null,null,[i],null)}function VF(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function hD(t){let e=t[ty].kind;return e==="input"||e==="twoWay"}var Rd=class extends v0{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ri(n[q],Ce),this.location=Od(this._tNode,n),this.instance=sn(this._tNode.index,n)[dt],this.hostView=this.changeDetectorRef=new qr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Fy(r,i[q],i,e,n);this.previousInputValues.set(e,n);let s=sn(r.index,i);Wd(s,1)}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function jF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ss=(()=>{class t{static __NG_ELEMENT_ID__=UF}return t})();function UF(){let t=Nt();return $F(t,Ie())}var BF=ss,A0=class extends BF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Od(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){let e=sy(this._hostTNode,this._hostLView);if(OD(e)){let n=md(e,this._hostLView),r=gd(e),i=n[q].data[r+8];return new Pi(i,n)}else return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=fD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Xm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Dd(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!jO(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new ns(sr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let L=(u?p:this.parentInjector).get(ke,null);L&&(o=L)}let m=sr(h.componentType??{}),y=Xm(this._lContainer,m?.id??null),D=y?.firstChild??null,N=h.create(p,i,D,o,s,a);return this.insertImpl(N.hostView,l,Dd(this._hostTNode,y)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(pb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[$e],l=new A0(u,u[nn],u[$e]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return jy(s,i,o,r),e.attachToViewContainerRef(),Jg(xm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=fD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cd(this._lContainer,n);r&&($a(xm(this._lContainer),n),Ny(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cd(this._lContainer,n);return r&&$a(xm(this._lContainer),n)!=null?new qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function fD(t){return t[Ka]}function xm(t){return t[Ka]||(t[Ka]=[])}function $F(t,e){let n,r=e[t.index];return Wt(r)?n=r:(n=u0(r,e,null,t),e[t.index]=n,by(e,n)),R0(n,e,t,r),new A0(n,t,e)}function HF(t,e){let n=t[De],r=n.createComment(""),i=on(e,t),o=n.parentNode(i);return wd(n,o,r,n.nextSibling(i),!1),r}var R0=N0,Hy=()=>!1;function qF(t,e,n){return Hy(t,e,n)}function N0(t,e,n,r){if(t[Nn])return;let i;n.type&8?i=Kt(r):i=HF(e,n),t[Nn]=i}function zF(t,e,n){if(t[Nn]&&t[gn])return!0;let r=n[qt],i=e.index-Ce;if(!r||GD(e)||bC(r,i))return!1;let s=Gm(r,i),a=r.data[Ld]?.[i],[u,l]=fF(s,a);return t[Nn]=u,t[gn]=l,!0}function GF(t,e,n,r){Hy(t,n,e)||N0(t,e,n,r)}function M0(){R0=GF,Hy=zF}var ki=class{},eh=class{};var Nd=class extends ki{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ad(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=em(e);this._bootstrapComponents=PC(o.bootstrap),this._r3Injector=Tm(e,n,[{provide:ki,useValue:this},{provide:gc,useValue:this.componentFactoryResolver},...r],ir(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Md=class extends eh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Nd(this.moduleType,e,[])}};var sc=class extends ki{injector;componentFactoryResolver=new Ad(this);instance=null;constructor(e){super();let n=new Ei([...e.providers,{provide:ki,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],e.parent||qa(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function as(t,e,n=null){return new sc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var WF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ql(!1,n.type),i=r.length>0?as([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(te(ke))})}return t})();function _n(t){return is(()=>{let e=P0(t),n=ie(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ay.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(WF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ur.Emulated,styles:t.styles||Ht,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&an("NgStandalone"),x0(n);let r=t.dependencies;return n.directiveDefs=pD(r,KF),n.pipeDefs=pD(r,tm),n.id=JF(n),n})}function KF(t){return sr(t)||Kl(t)}function dr(t){return is(()=>({type:t.type,bootstrap:t.bootstrap||Ht,declarations:t.declarations||Ht,imports:t.imports||Ht,exports:t.exports||Ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function QF(t,e){if(t==null)return jr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Hd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function YF(t){if(t==null)return jr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function nt(t){return is(()=>{let e=P0(t);return x0(e),e})}function qy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function P0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||jr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:QF(t.inputs,e),outputs:YF(t.outputs),debugInfo:null}}function x0(t){t.features?.forEach(e=>e(t))}function pD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function JF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ZF(t){return Object.getPrototypeOf(t.prototype).constructor}function Ln(t){let e=ZF(t.type),n=!0,r=[t];for(;e;){let i;if(Mn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Om(t.inputs),s.declaredInputs=Om(t.declaredInputs),s.outputs=Om(t.outputs);let a=i.hostBindings;a&&rL(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&tL(t,u),l&&nL(t,l),XF(t,i),YT(t.outputs,i.outputs),Mn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ln&&(n=!1)}}e=Object.getPrototypeOf(e)}eL(r)}function XF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function eL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nc(i.hostAttrs,n=nc(n,i.hostAttrs))}}function Om(t){return t===jr?{}:t===Ht?[]:t}function tL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function nL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function rL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function O0(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=nc(t.mergedAttrs,t.attrs);let h=t.tView=wy(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Ko(t,!1);let u=F0(n,e,t,r);nd()&&My(n,e,u,t),es(u,e);let l=u0(u,e,u,t);e[r+Ce]=l,by(e,l),qF(l,t,e)}function iL(t,e,n,r,i,o,s,a,u,l,h){let p=n+Ce,m;return e.firstCreatePass?(m=Qd(e,p,4,s||null,a||null),hm()&&E0(e,t,m,Br(e.consts,l),XC),MD(e,m)):m=e.data[p],O0(m,t,e,n,r,i,o,u),Ya(m)&&xy(e,t,m),l!=null&&Oy(t,m,h),m}function k0(t,e,n,r,i,o,s,a,u,l,h){let p=n+Ce,m;if(e.firstCreatePass){if(m=Qd(e,p,4,s||null,a||null),l!=null){let y=Br(e.consts,l);m.localNames=[];for(let D=0;D<y.length;D+=2)m.localNames.push(y[D],-1)}}else m=e.data[p];return O0(m,t,e,n,r,i,o,u),l!=null&&Oy(t,m,h),m}function mc(t,e,n,r,i,o,s,a){let u=Ie(),l=jt(),h=Br(l.consts,o);return iL(u,l,t,e,n,r,i,h,void 0,s,a),mc}var F0=L0;function L0(t,e,n,r){return cr(!0),e[De].createComment("")}function oL(t,e,n,r){let i=!Bd(e,n);cr(i);let o=e[qt]?.data[eC]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return L0(t,e);let s=e[qt],a=Yd(s,t,e,n);Ud(s,r,a);let u=my(s,r);return Jd(u,a)}function V0(){F0=oL}var Qt=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(Qt||{}),gD=0,sL=1,Ge=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Ge||{});var aL=0,yc=1;var cL=4,uL=5;var lL=7,Xo=8,dL=9,zy=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(zy||{});function fd(t,e){let n=fL(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function hL(t){fd(1,t),fd(0,t),fd(2,t)}function fL(t){let e=cL;return t===1?e=uL:t===2&&(e=dL),e}function j0(t){return t+1}function cs(t,e){let n=t[q],r=j0(e.index);return t[r]}function vc(t,e){let n=j0(e.index);return t.data[n]}function pL(t,e,n){let r=e[q],i=vc(r,n);switch(t){case Ge.Complete:return i.primaryTmplIndex;case Ge.Loading:return i.loadingTmplIndex;case Ge.Error:return i.errorTmplIndex;case Ge.Placeholder:return i.placeholderTmplIndex;default:return null}}function mD(t,e){return e===Ge.Placeholder?t.placeholderBlockConfig?.[gD]??null:e===Ge.Loading?t.loadingBlockConfig?.[gD]??null:null}function gL(t){return t.loadingBlockConfig?.[sL]??null}function yD(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function mL(t,e){let n=e.primaryTmplIndex+Ce;return Ri(t,n)}var yL=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?as(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:t,providedIn:"environment",factory:()=>new t})}return t})();var U0=new V("");function km(t,e,n){return t.get(yL).getOrCreateInjector(e,t,n,"")}function vL(t,e,n){if(t instanceof Zo){let i=t.injector,o=t.parentInjector,s=km(o,e,n);return new Zo(i,s)}let r=t.get(ke);if(r!==t){let i=km(r,e,n);return new Zo(t,i)}return km(t,e,n)}function Mi(t,e,n,r=!1){let i=n[$e],o=i[q];if(Ur(i))return;let s=cs(i,e),a=s[yc],u=s[lL];if(!(u!==null&&t<u)&&vD(a,t)&&vD(s[aL]??-1,t)){let l=vc(o,e),p=!r&&!0&&(gL(l)!==null||mD(l,Ge.Loading)!==null||mD(l,Ge.Placeholder))?IL:EL;try{p(t,s,n,e,i)}catch(m){ky(i,m)}}}function _L(t,e){let n=t[gn]?.findIndex(i=>i.data[iC]===e[yc])??-1;return{dehydratedView:n>-1?t[gn][n]:null,dehydratedViewIx:n}}function EL(t,e,n,r,i){ye(20);let o=pL(t,i,r);if(o!==null){e[yc]=t;let s=i[q],a=o+Ce,u=Ri(s,a),l=0;l0(n,l);let h;if(t===Ge.Complete){let D=vc(s,r),N=D.providers;N&&N.length>0&&(h=vL(i[rn],D,N))}let{dehydratedView:p,dehydratedViewIx:m}=_L(n,e),y=Vy(i,u,null,{injector:h,dehydratedView:p});if(jy(n,y,l,Dd(u,p)),Wd(y,2),m>-1&&n[gn]?.splice(m,1),(t===Ge.Complete||t===Ge.Error)&&Array.isArray(e[Xo])){for(let D of e[Xo])D();e[Xo]=null}}ye(21)}function vD(t,e){return t<e}function _D(t,e,n){t.loadingPromise.then(()=>{t.loadingState===Qt.COMPLETE?Mi(Ge.Complete,e,n):t.loadingState===Qt.FAILED&&Mi(Ge.Error,e,n)})}var IL=null;var th=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Gy=new V("");function hr(t){return!!t&&typeof t.then=="function"}function nh(t){return!!t&&typeof t.subscribe=="function"}var B0=new V("");var Wy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=A(B0,{optional:!0})??[];injector=A(He);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=qe(this.injector,i);if(hr(o))n.push(o);else if(nh(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Wr=new V("");function $0(){lg(()=>{let t="";throw new j(600,t)})}function H0(t){return t.isBoundToModule}var wL=10;var Mt=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(vt);afterRenderManager=A(Ay);zonelessEnabled=A(Qo);rootEffectScheduler=A(Cm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ue;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=A(yn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(oe(n=>!n))}constructor(){A(ji,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=A(ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=He.NULL){return this._injector.get(we).run(()=>{ye(10);let s=n instanceof Xd;if(!this._injector.get(Wy).done){let D="";throw new j(405,D)}let u;s?u=n:u=this._injector.get(gc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=H0(u)?void 0:this._injector.get(ki),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Gy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),tc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ye(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ye(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let n=J(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,J(n),this.afterTick.next(),ye(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Oi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<wL;)ye(14),this.synchronizeOnce(),ye(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ja(i))continue;let o=r&&!this.zonelessEnabled?0:1;o0(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ja(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;tc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Wr,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>tc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function TL(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function q0(t,e,n){let r=e[rn],i=e[q];if(t.loadingState!==Qt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=cs(e,n),s=mL(i,t);t.loadingState=Qt.IN_PROGRESS,fd(1,o);let a=t.dependencyResolverFn,u=r.get(Hr).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(l=>{let h=!1,p=[],m=[];for(let y of l)if(y.status==="fulfilled"){let D=y.value,N=sr(D)||Kl(D);if(N)p.push(N);else{let R=tm(D);R&&m.push(R)}}else{h=!0;break}if(h){if(t.loadingState=Qt.FAILED,t.errorTmplIndex===null){let D=new j(-750,!1);ky(e,D)}}else{t.loadingState=Qt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=yD(y.directiveRegistry,p);let D=p.map(R=>R.type),N=Ql(!1,...D);t.providers=N}m.length>0&&(y.pipeRegistry=yD(y.pipeRegistry,m))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Qt.COMPLETE,u()}),t.loadingPromise)}function bL(t,e){return e[rn].get(U0,null,{optional:!0})?.behavior!==zy.Manual}function DL(t,e,n){let r=e[q],i=e[n.index];if(!bL(t,e))return;let o=cs(e,n),s=vc(r,n);switch(hL(o),s.loadingState){case Qt.NOT_STARTED:Mi(Ge.Loading,n,i),q0(s,e,n),s.loadingState===Qt.IN_PROGRESS&&_D(s,n,i);break;case Qt.IN_PROGRESS:Mi(Ge.Loading,n,i),_D(s,n,i);break;case Qt.COMPLETE:Mi(Ge.Complete,n,i);break;case Qt.FAILED:Mi(Ge.Error,n,i);break;default:}}async function z0(t,e,n){let r=t.get(Vd);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=Tk(e,t);if(s.length===0)return;o!==null&&s.shift(),AL(r,s),o!==null&&await o;let a=s[0];r.has(a)?await ED(t,s,n):r.awaitParentBlock(a,async()=>await ED(t,s,n))}async function ED(t,e,n){let r=t.get(Vd),i=r.hydrating,o=t.get(yn),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],h=r.get(l);if(h!=null){if(await NL(h),await RL(t),CL(h)){dF(h),ID(e.slice(u),r);break}i.get(l).resolve()}else{SL(u,e,r),ID(e.slice(u),r);break}}let a=e[e.length-1];await i.get(a)?.promise,o.remove(s),n&&n(e),hF(r.get(a),e,r,t.get(Mt))}function CL(t){return cs(t.lView,t.tNode)[yc]===Ge.Error}function SL(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Zd(i.lContainer)}function ID(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function AL(t,e){for(let n of e)t.hydrating.set(n,TL())}function RL(t){return new Promise(e=>zd(e,{injector:t}))}async function NL(t){let{tNode:e,lView:n}=t,r=cs(n,e);return new Promise(i=>{ML(r,i),DL(2,n,e)})}function ML(t,e){Array.isArray(t[Xo])||(t[Xo]=[]),t[Xo].push(e)}function us(t,e,n,r){let i=Ie(),o=Za();if(os(i,o,e)){let s=jt(),a=Im();R1(a,i,t,e,n,r)}return us}var RK=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Bi(t,e,n,r,i,o,s,a){an("NgControlFlow");let u=Ie(),l=jt(),h=Br(l.consts,o);return k0(u,l,t,e,n,r,i,h,256,s,a),Ky}function Ky(t,e,n,r,i,o,s,a){an("NgControlFlow");let u=Ie(),l=jt(),h=Br(l.consts,o);return k0(u,l,t,e,n,r,i,h,512,s,a),Ky}function $i(t,e){an("NgControlFlow");let n=Ie(),r=Za(),i=n[r]!==Fn?n[r]:-1,o=i!==-1?wD(n,Ce+i):void 0,s=0;if(os(n,r,t)){let a=J(null);try{if(o!==void 0&&l0(o,s),t!==-1){let u=Ce+t,l=wD(n,u),h=PL(n[q],u),p=mF(l,h,n),m=Vy(n,h,e,{dehydratedView:p});jy(l,m,s,Dd(h,p))}}finally{J(a)}}else if(o!==void 0){let a=Q1(o,s);a!==void 0&&(a[dt]=e)}}function wD(t,e){return t[e]}function PL(t,e){return Ri(t,e)}function Vn(t,e,n){let r=Ie(),i=Za();if(os(r,i,e)){let o=jt(),s=Im();T1(s,r,t,e,r[De],n)}return Vn}function TD(t,e,n,r,i){Fy(e,t,n,i?"class":"style",r)}function x(t,e,n,r){let i=Ie(),o=i[q],s=t+Ce,a=o.firstCreatePass?w0(s,i,2,e,XC,hm(),n,r):o.data[s];if(P1(a,i,t,e,G0),Ya(a)){let u=i[q];xy(u,i,a),SC(u,a,i)}return r!=null&&Oy(i,a),x}function F(){let t=jt(),e=Nt(),n=x1(e);return t.firstCreatePass&&T0(t,n),wb(n)&&bb(),Ib(),n.classesWithoutHost!=null&&zO(n)&&TD(t,n,Ie(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&GO(n)&&TD(t,n,Ie(),n.stylesWithoutHost,!1),F}function _t(t,e,n,r){return x(t,e,n,r),F(),_t}var G0=(t,e,n,r,i)=>(cr(!0),Ey(e[De],r,wm()));function xL(t,e,n,r,i){let o=!Bd(e,n);if(cr(o),o)return Ey(e[De],r,wm());let s=e[qt],a=Yd(s,t,e,n);return TC(s,i)&&Ud(s,i,a.nextSibling),s&&(qD(n)||zD(a))&&ar(n)&&(Tb(n),LC(a)),a}function W0(){G0=xL}var OL=(t,e,n,r,i)=>(cr(!0),kC(e[De],""));function kL(t,e,n,r,i){let o,s=!Bd(e,n);if(cr(s),s)return kC(e[De],"");let a=e[qt],u=Yd(a,t,e,n),l=Ik(a,i);return Ud(a,i,u),o=Jd(l,u),o}function K0(){OL=kL}function ls(){return Ie()}var _c="en-US";var FL=_c;function Q0(t){typeof t=="string"&&(FL=t.toLowerCase().replace(/_/g,"-"))}function Oe(t,e,n){let r=Ie(),i=jt(),o=Nt();return LL(i,r,r[De],o,t,e,n),Oe}function LL(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Pm(r,e,o),RF(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Pm(r,e,o),dD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Pm(r,e,o),dD(r,e,p,i,i,u)}}function rt(t=1){return Lb(t)}function cd(t,e){return t<<17|e<<2}function Fi(t){return t>>17&32767}function VL(t){return(t&2)==2}function jL(t,e){return t&131071|e<<17}function ny(t){return t|2}function rs(t){return(t&131068)>>2}function Fm(t,e){return t&-131069|e<<2}function UL(t){return(t&1)===1}function ry(t){return t|1}function BL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Fi(s),u=rs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||qo(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Fi(t[a+1]);t[r+1]=cd(m,a),m!==0&&(t[m+1]=Fm(t[m+1],r)),t[a+1]=jL(t[a+1],r)}else t[r+1]=cd(a,0),a!==0&&(t[a+1]=Fm(t[a+1],r)),a=r;else t[r+1]=cd(u,0),a===0?a=r:t[u+1]=Fm(t[u+1],r),u=r;l&&(t[r+1]=ny(t[r+1])),bD(t,h,r,!0),bD(t,h,r,!1),$L(e,h,t,r,o),s=cd(a,u),o?e.classBindings=s:e.styleBindings=s}function $L(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&qo(o,e)>=0&&(n[r+1]=ry(n[r+1]))}function bD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Fi(i):rs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];HL(u,e)&&(a=!0,t[s+1]=r?ry(l):ny(l)),s=r?Fi(l):rs(l)}a&&(t[n+1]=r?ny(i):ry(i))}function HL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qo(t,e)>=0:!1}function Kr(t,e){return qL(t,e,null,!0),Kr}function qL(t,e,n,r){let i=Ie(),o=jt(),s=Rb(2);if(o.firstUpdatePass&&GL(o,t,s,r),e!==Fn&&os(i,s,e)){let a=o.data[Ni()];JL(o,a,i,i[De],t,i[s+1]=ZL(e,n),r,s)}}function zL(t,e){return e>=t.expandoStartIndex}function GL(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ni()],s=zL(t,n);XL(o,r)&&e===null&&!s&&(e=!1),e=WL(i,o,e,r),BL(i,o,e,n,s,r)}}function WL(t,e,n,r){let i=xb(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Lm(null,t,e,n,r),n=ac(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Lm(i,t,e,n,r),o===null){let u=KL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Lm(null,t,e,u[1],r),u=ac(u,e.attrs,r),QL(t,e,r,u))}else o=YL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function KL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(rs(r)!==0)return t[Fi(r)]}function QL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Fi(i)]=r}function YL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ac(r,s,n)}return ac(r,e.attrs,n)}function Lm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ac(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ac(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rb(t,s,n?!0:e[++o]))}return t===void 0?null:t}function JL(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=UL(l)?DD(u,e,n,i,rs(l),s):void 0;if(!Pd(h)){Pd(o)||VL(l)&&(o=DD(u,null,n,i,a,s));let p=am(Ni(),n);v1(r,s,p,i,o)}}function DD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Fn&&(m=p?Ht:void 0);let y=p?Wl(m,r):h===r?m:void 0;if(l&&!Pd(y)&&(y=Wl(u,r)),Pd(y)&&(a=y,s))return a;let D=t[i+1];i=s?Fi(D):rs(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Wl(u,r))}return a}function Pd(t){return t!==void 0}function ZL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ir(hc(t)))),t}function XL(t,e){return(t.flags&(e?8:16))!==0}function U(t,e=""){let n=Ie(),r=jt(),i=t+Ce,o=r.firstCreatePass?Qd(r,i,1,e,null):r.data[i],s=Y0(r,n,o,e,t);n[i]=s,nd()&&My(r,n,s,o),Ko(o,!1)}var Y0=(t,e,n,r,i)=>(cr(!0),OC(e[De],r));function eV(t,e,n,r,i){let o=!Bd(e,n);if(cr(o),o)return OC(e[De],r);let s=e[qt];return Yd(s,t,e,n)}function J0(){Y0=eV}function tV(t,e,n,r=""){return os(t,Za(),n)?e+Ba(n)+r:Fn}function fr(t){return Qy("",t),fr}function Qy(t,e,n){let r=Ie(),i=tV(r,t,e,n);return i!==Fn&&nV(r,Ni(),i),Qy}function nV(t,e,n){let r=am(e,t);$k(t[De],r,n)}function rV(t,e,n){let r=jt();if(r.firstCreatePass){let i=Mn(t);iy(n,r.data,r.blueprint,i,!0),iy(e,r.data,r.blueprint,i,!1)}}function iy(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let o=0;o<t.length;o++)iy(t[o],e,n,r,i);else{let o=jt(),s=Ie(),a=Nt(),u=_i(t)?t:lt(t.provide),l=rm(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(_i(t)||!t.multi){let y=new xi(l,i,le,null),D=jm(u,e,i?h:h+m,p);D===-1?(Bm(vd(a,s),o,u),Vm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{let y=jm(u,e,h+m,p),D=jm(u,e,h,h+m),N=y>=0&&n[y],R=D>=0&&n[D];if(i&&!R||!i&&!N){Bm(vd(a,s),o,u);let L=sV(i?oV:iV,n.length,i,r,l,t);!i&&R&&(n[D].providerFactory=L),Vm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=Z0(n[i?D:y],l,!i&&r);Vm(o,t,y>-1?y:D,L)}!i&&r&&R&&n[D].componentProviders++}}}function Vm(t,e,n,r){let i=_i(e),o=cb(e);if(i||o){let u=(o?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Z0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function jm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function iV(t,e,n,r,i){return oy(this.multi,[])}function oV(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=_d(r,r[q],this.providerFactory.index,i);s=u.slice(0,a),oy(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],oy(o,s);return s}function oy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function sV(t,e,n,r,i,o){let s=new xi(t,n,le,null);return s.multi=[],s.index=e,s.componentProviders=0,Z0(s,i,r&&!n),s}function ds(t,e=[]){return n=>{n.providersResolver=(r,i)=>rV(r,i?i(t):t,e)}}function aV(t,e){let n=t[e];return n===Fn?void 0:n}function cV(t,e,n,r,i,o){let s=e+n;return os(t,s,i)?AF(t,s+1,o?r.call(o,i):r(i)):aV(t,s+1)}function rh(t,e){let n=jt(),r,i=t+Ce;n.firstCreatePass?(r=uV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Lr(r.type,!0)),s,a=Dt(le);try{let u=yd(!1),l=o();return yd(u),cm(n,Ie(),i,l),l}finally{Dt(a)}}function uV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ih(t,e,n){let r=t+Ce,i=Ie(),o=fb(i,r);return lV(i,r)?cV(i,Sb(),e,o.transform,n,o):o.transform(n)}function lV(t,e){return t[q].data[e].pure}var xd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yy=(()=>{class t{compileModuleSync(n){return new Md(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=em(n),o=PC(i.declarations).reduce((s,a)=>{let u=sr(a);return u&&s.push(new ns(u)),s},[]);return new xd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dV=(()=>{class t{zone=A(we);changeDetectionScheduler=A(Sn);applicationRef=A(Mt);applicationErrorHandler=A(vt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function X0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(ie(P({},eS()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:en,multi:!0,useFactory:()=>{let r=A(dV,{optional:!0});return()=>r.initialize()}},{provide:en,multi:!0,useFactory:()=>{let r=A(hV);return()=>{r.initialize()}}},e===!0?{provide:Dm,useValue:!0}:[],{provide:id,useValue:n??$C},{provide:vt,useFactory:()=>{let r=A(we),i=A(ke),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(pn),o.handleError(s))})}}}]}function eS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hV=(()=>{class t{subscription=new Pe;initialized=!1;zone=A(we);pendingTasks=A(yn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jy=(()=>{class t{applicationErrorHandler=A(vt);appRef=A(Mt);taskService=A(yn);ngZone=A(we);zonelessEnabled=A(Qo);tracing=A(ji,{optional:!0});disableScheduling=A(Dm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Td):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(id,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ic||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Xb:HC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Td+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Xb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zy(){return an("NgZoneless"),Ct([{provide:Sn,useExisting:Jy},{provide:we,useClass:ic},{provide:Qo,useValue:!0},{provide:id,useValue:!1},[]])}function fV(){return typeof $localize<"u"&&$localize.locale||_c}var oh=new V("",{providedIn:"root",factory:()=>A(oh,{optional:!0,skipSelf:!0})||fV()});function Ke(t){return WT(t)}function Hi(t,e){return ll(t,e?.equal)}var tS=class{[bt];constructor(e){this[bt]=e}destroy(){this[bt].destroy()}};var rv={JSACTION:"__jsaction",OWNER:"__owner"},oS={};function pV(t){return t[rv.JSACTION]}function nS(t,e){t[rv.JSACTION]=e}function gV(t){return oS[t]}function mV(t,e){oS[t]=e}var z={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},yV=[z.MOUSEENTER,z.MOUSELEAVE,"pointerenter","pointerleave"],HK=[z.CLICK,z.DBLCLICK,z.FOCUSIN,z.FOCUSOUT,z.KEYDOWN,z.KEYUP,z.KEYPRESS,z.MOUSEOVER,z.MOUSEOUT,z.SUBMIT,z.TOUCHSTART,z.TOUCHEND,z.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],vV=[z.FOCUS,z.BLUR,z.ERROR,z.LOAD,z.TOGGLE],iv=t=>vV.indexOf(t)>=0;function _V(t){return t===z.MOUSEENTER?z.MOUSEOVER:t===z.MOUSELEAVE?z.MOUSEOUT:t===z.POINTERENTER?z.POINTEROVER:t===z.POINTERLEAVE?z.POINTEROUT:t}function EV(t,e,n,r){let i=!1;iv(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function IV(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function wV(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var rS=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function TV(t){return t.which===2||t.which==null&&t.button===4}function bV(t){return rS&&t.metaKey||!rS&&t.ctrlKey||TV(t)||t.shiftKey}function DV(t,e,n){let r=t.relatedTarget;return(t.type===z.MOUSEOVER&&e===z.MOUSEENTER||t.type===z.MOUSEOUT&&e===z.MOUSELEAVE||t.type===z.POINTEROVER&&e===z.POINTERENTER||t.type===z.POINTEROUT&&e===z.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function CV(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===z.MOUSEOVER?n.type=z.MOUSEENTER:t.type===z.MOUSEOUT?n.type=z.MOUSELEAVE:t.type===z.POINTEROVER?n.type=z.POINTERENTER:n.type=z.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var SV=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),uh=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){SV&&(this.element.style.cursor="pointer"),this.handlerInfos.push(EV(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)IV(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},AV={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Qr(t){return t.eventType}function ov(t,e){t.eventType=e}function ah(t){return t.event}function sS(t,e){t.event=e}function aS(t){return t.targetElement}function cS(t,e){t.targetElement=e}function uS(t){return t.eic}function RV(t,e){t.eic=e}function NV(t){return t.timeStamp}function MV(t,e){t.timeStamp=e}function ch(t){return t.eia}function lS(t,e,n){t.eia=[e,n]}function Xy(t){t.eia=void 0}function sh(t){return t[1]}function PV(t){return t.eirp}function dS(t,e){t.eirp=e}function hS(t){return t.eir}function fS(t,e){t.eir=e}function pS(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function xV(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var ev=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Qr(this.eventInfo)}setEventType(e){ov(this.eventInfo,e)}getEvent(){return ah(this.eventInfo)}setEvent(e){sS(this.eventInfo,e)}getTargetElement(){return aS(this.eventInfo)}setTargetElement(e){cS(this.eventInfo,e)}getContainer(){return uS(this.eventInfo)}setContainer(e){RV(this.eventInfo,e)}getTimestamp(){return NV(this.eventInfo)}setTimestamp(e){MV(this.eventInfo,e)}getAction(){let e=ch(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Xy(this.eventInfo);return}lS(this.eventInfo,e.name,e.element)}getIsReplay(){return PV(this.eventInfo)}setIsReplay(e){dS(this.eventInfo,e)}getResolved(){return hS(this.eventInfo)}setResolved(e){fS(this.eventInfo,e)}clone(){return new t(pS(this.eventInfo))}},OV={},kV=/\s*;\s*/,FV=z.CLICK,tv=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&Qr(e)===z.CLICK&&bV(ah(e))?ov(e,z.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){hS(e)||(this.populateAction(e,aS(e)),fS(e,!0))}resolveParentAction(e){let n=ch(e),r=n&&sh(n);Xy(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==uS(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!ch(e));)r=this.getParentNode(r);let i=ch(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Qr(e)===z.MOUSEENTER||Qr(e)===z.MOUSELEAVE||Qr(e)===z.POINTERENTER||Qr(e)===z.POINTERLEAVE)))if(DV(ah(e),Qr(e),sh(i))){let o=CV(ah(e),sh(i));sS(e,o),cS(e,sh(i))}else Xy(e)}getParentNode(e){let n=e[rv.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[Qr(n)];i!==void 0&&lS(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=pV(e);if(!n){let r=e.getAttribute(od.JSACTION);if(!r)n=OV,nS(e,n);else{if(n=gV(r),!n){n={};let i=r.split(kV);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(AV.EVENT_ACTION_SEPARATOR),u=a!==-1,l=u?s.substr(0,a).trim():FV,h=u?s.substr(a+1).trim():s;n[l]=h}mV(r,n)}nS(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},gS=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(gS||{}),nv=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new ev(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&LV(r.element,n)&&wV(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function LV(t,e){return t.tagName==="A"&&(e.getEventType()===z.CLICK||e.getEventType()===z.CLICKMOD)}var mS=Symbol.for("propagationStopped"),sv={REPLAY:101};var VV="`preventDefault` called during event replay.";var jV="`composedPath` called during event replay.",lh=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new tv({clickModSupport:n}),this.dispatcher=new nv(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&$V(e),UV(e);e.getAction();){if(HV(e),iv(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),BV(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function UV(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[mS]=!0,n()};qi(e,"stopPropagation",r),qi(e,"stopImmediatePropagation",r)}function BV(t){return!!t.getEvent()[mS]}function $V(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);qi(e,"target",n),qi(e,"eventPhase",sv.REPLAY),qi(e,"preventDefault",()=>{throw r(),new Error(VV+"")}),qi(e,"composedPath",()=>{throw new Error(jV+"")})}function HV(t){let e=t.getEvent(),n=t.getAction()?.element;n&&qi(e,"currentTarget",n,{configurable:!0})}function qi(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function yS(t,e){t.ecrd(n=>{e.dispatch(n)},gS.I_AM_THE_JSACTION_FRAMEWORK)}function qV(t){return t?.q??[]}function zV(t){t&&(iS(t.c,t.et,t.h),iS(t.c,t.etc,t.h,!0))}function iS(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var GV=!1,vS=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=GV;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=xV(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){dS(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&yV.indexOf(n)>=0)return;let o=(a,u,l)=>{this.handleEvent(a,u,l)};this.eventHandlers[n]=o;let s=_V(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>u=>{o(n,u,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),zV(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=pS(i);ov(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function _S(t,e=window){return qV(e._ejsas?.[t])}function av(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var SS=Symbol("InputSignalNode#UNSET"),I2=ie(P({},dl),{transformFn:void 0,applyValueToInputSignal(t,e){So(t,e)}});function AS(t,e){let n=Object.create(I2);n.value=t,n.transformFn=e?.transform;function r(){if(bo(n),n.value===SS){let i=null;throw new j(-950,i)}return n.value}return r[bt]=n,r}var ph=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>cc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},w2=new V("");w2.__NG_ELEMENT_ID__=t=>{let e=Nt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new j(204,!1)};function ES(t,e){return AS(t,e)}function T2(t){return AS(SS,t)}var RS=(ES.required=T2,ES);var cv=new V(""),b2=new V("");function Ec(t){return!t.moduleRef}function D2(t){let e=Ec(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{Ec(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(vt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ec(t)){let o=()=>e.destroy(),s=t.platformInjector.get(cv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(cv);s.add(o),t.moduleRef.onDestroy(()=>{tc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return S2(r,n,()=>{let o=e.get(yn),s=o.add(),a=e.get(Wy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(oh,_c);if(Q0(u||_c),!e.get(b2,!0))return Ec(t)?e.get(Mt):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ec(t)){let h=e.get(Mt);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return C2?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var C2;function S2(t,e,n){try{let r=n();return hr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var hh=null;function A2(t=[],e){return He.create({name:e,providers:[{provide:Ha,useValue:"platform"},{provide:cv,useValue:new Set([()=>hh=null])},...t]})}function R2(t=[]){if(hh)return hh;let e=A2(t);return hh=e,$0(),N2(e),e}function N2(t){let e=t.get(kd,null);qe(t,()=>{e?.forEach(n=>n())})}function fv(){return!1}var zi=(()=>{class t{static __NG_ELEMENT_ID__=M2}return t})();function M2(t){return P2(Nt(),Ie(),(t&16)===16)}function P2(t,e,n){if(ar(t)&&!n){let r=sn(t.index,e);return new qr(r,r)}else if(t.type&175){let r=e[Vt];return new qr(r,e)}return null}var uv=class{constructor(){}supports(e){return $y(e)}create(e){return new lv(e)}},x2=(t,e)=>e,lv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||x2}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<IS(r,i,o)?n:r,a=IS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,D=y+m;h<=D&&D<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!$y(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,b0(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new dv(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new gh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},hv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},gh=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new hv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IS(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function wS(){return new pv([new uv])}var pv=(()=>{class t{factories;static \u0275prov=H({token:t,providedIn:"root",factory:wS});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=A(t,{optional:!0,skipSelf:!0});return t.create(n,r||wS())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function NS(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ye(8);try{let o=i?.injector??R2(r),s=[X0({}),{provide:Sn,useExisting:Jy},jb,...n||[]],a=new sc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return D2({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ye(9)}}var dh=new WeakSet,TS="",fh=[];function bS(t){return t.get(hy,aC)}function MS(){let t=[{provide:hy,useFactory:()=>{let e=!0;{let n=A(kn);e=!!window._ejsas?.[n]}return e&&an("NgEventReplay"),e}}];return t.push({provide:en,useValue:()=>{let e=A(Mt),{injector:n}=e;if(!dh.has(e)){let r=A(fy);if(bS(n)){gC();let i=n.get(kn),o=fC(i,(s,a,u)=>{s.nodeType===Node.ELEMENT_NODE&&(uC(s,a,u),lC(s,r))});e.onDestroy(o)}}},multi:!0},{provide:Wr,useFactory:()=>{let e=A(Mt),{injector:n}=e;return()=>{if(!bS(n)||dh.has(e))return;dh.add(e);let r=n.get(kn);e.onDestroy(()=>{dh.delete(e),av(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get(hC);O2(i,n);let o=n.get(fy);o.get(TS)?.forEach(dC),o.delete(TS);let s=i.instance;wC(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var O2=(t,e)=>{let n=e.get(kn),r=window._ejsas[n],i=t.instance=new vS(new uh(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=_S(n);i.replayEarlyEventInfos(o),av(n);let s=new lh(a=>{k2(e,a,a.currentTarget)});yS(i,s)};function k2(t,e,n){let r=(n&&n.getAttribute(dc))??"";/d\d+/.test(r)?F2(r,t,e,n):e.eventPhase===sv.REPLAY&&py(e,n)}function F2(t,e,n,r){fh.push({event:n,currentTarget:r}),z0(e,t,L2)}function L2(t){let e=[...fh],n=new Set(t);fh=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(dc);n.has(o)?py(r,i):fh.push({event:r,currentTarget:i})}}var DS=!1;function V2(){DS||(DS=!0,_C(),W0(),J0(),K0(),V0(),M0(),m0(),ZC())}function j2(t){return t.whenStable()}function PS(){let t=[{provide:lc,useFactory:()=>{let e=!0;return e=!!A(Vi,{optional:!0})?.get(gy,null),e&&an("NgHydration"),e}},{provide:en,useValue:()=>{h0(!1),A(lc)&&(DC(uc()),V2())},multi:!0}];return t.push({provide:dy,useFactory:()=>A(lc)},{provide:Wr,useFactory:()=>{if(A(lc)){let e=A(Mt);return()=>{j2(e).then(()=>{e.destroyed||By(e)})}}return()=>{}},multi:!0}),Ct(t)}function Gi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var kS=null;function cn(){return kS}function gv(t){kS??=t}var Ic=class{},mv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>A(FS),providedIn:"platform"})}return t})();var FS=(()=>{class t extends mv{_location;_history;_doc=A(Xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cn().getBaseHref(this._doc)}onPopState(n){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function LS(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function xS(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Yr(t){return t&&t[0]!=="?"?`?${t}`:t}var hs=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>A(jS),providedIn:"root"})}return t})(),VS=new V(""),jS=(()=>{class t extends hs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return LS(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Yr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Yr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Yr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(te(mv),te(VS,8))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fs=(()=>{class t{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=$2(xS(OS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yr(r))}normalize(n){return t.stripTrailingSlash(B2(this._basePath,OS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Yr;static joinWithSlash=LS;static stripTrailingSlash=xS;static \u0275fac=function(r){return new(r||t)(te(hs))};static \u0275prov=H({token:t,factory:()=>U2(),providedIn:"root"})}return t})();function U2(){return new fs(te(hs))}function B2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function OS(t){return t.replace(/\/index.html$/,"")}function $2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var yh=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vh=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new yh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),US(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);US(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(le(ss),le(Kd),le(pv))};static \u0275dir=nt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function US(t,e){t.context.$implicit=e.item}function H2(t,e){return new j(2100,!1)}var yv=class{createSubscription(e,n,r){return Ke(()=>e.subscribe({next:n,error:r}))}dispose(e){Ke(()=>e.unsubscribe())}},vv=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},q2=new vv,z2=new yv,_v=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=A(vt);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(hr(n))return q2;if(nh(n))return z2;throw H2(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(le(zi,16))};static \u0275pipe=qy({name:"async",type:t,pure:!1})}return t})();var ps=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=dr({type:t});static \u0275inj=An({})}return t})();function Ev(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wc=class{};var BS="browser";var Tc=class{_doc;constructor(e){this._doc=e}manager},_h=(()=>{class t extends Tc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(te(Xe))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Ih=new V(""),Dv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof _h));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof _h);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(te(Ih),te(we))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Iv="ng-app-id";function HS(t){for(let e of t)e.remove()}function qS(t,e){let n=e.createElement("style");return n.textContent=t,n}function G2(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Iv}="${e}"],link[${Iv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Iv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Tv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Cv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,G2(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,qS);r?.forEach(i=>this.addUsage(i,this.external,Tv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(HS(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])HS(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,qS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Tv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(te(Xe),te(kn),te(Fd,8),te(Gr))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),wv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sv=/%COMP%/g;var GS="%COMP%",W2=`_nghost-${GS}`,K2=`_ngcontent-${GS}`,Q2=!0,Y2=new V("",{providedIn:"root",factory:()=>Q2});function J2(t){return K2.replace(Sv,t)}function Z2(t){return W2.replace(Sv,t)}function WS(t,e){return e.map(n=>n.replace(Sv,t))}var Av=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new bc(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Eh?i.applyToHost(n):i instanceof Dc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case ur.Emulated:o=new Eh(u,l,r,this.appId,h,s,a,p,m);break;case ur.ShadowDom:return new bv(u,l,n,r,s,a,this.nonce,p,m);default:o=new Dc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(te(Dv),te(Cv),te(kn),te(Y2),te(Xe),te(Gr),te(we),te(Fd),te(ji,8))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),bc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(wv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(zS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(zS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=wv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=wv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(xn.DashCase|xn.Important)?e.style.setProperty(n,r,i&xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=cn().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function zS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var bv=class extends bc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=WS(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=Tv(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Dc=class extends bc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?WS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ts.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Eh=class extends Dc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=J2(h),this.hostAttr=Z2(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var wh=class t extends Ic{supportsDOMEvents=!0;static makeCurrent(){gv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=X2();return n==null?null:ej(n)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ev(document.cookie,e)}},Cc=null;function X2(){return Cc=Cc||document.head.querySelector("base"),Cc?Cc.getAttribute("href"):null}function ej(t){return new URL(t,document.baseURI).pathname}var tj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),KS=["alt","control","meta","shift"],nj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},QS=(()=>{class t extends Tc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),KS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=nj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),KS.forEach(s=>{if(s!==i){let a=rj[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(te(Xe))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function Rv(t,e,n){let r=P({rootComponent:t,platformRef:n?.platformRef},ij(e));return NS(r)}function ij(t){return{appProviders:[...uj,...t?.providers??[]],platformProviders:cj}}function oj(){wh.makeCurrent()}function sj(){return new pn}function aj(){return cy(document),document}var cj=[{provide:Gr,useValue:BS},{provide:kd,useValue:oj,multi:!0},{provide:Xe,useFactory:aj}];var uj=[{provide:Ha,useValue:"root"},{provide:pn,useFactory:sj},{provide:Ih,useClass:_h,multi:!0,deps:[Xe]},{provide:Ih,useClass:QS,multi:!0,deps:[Xe]},Av,Cv,Dv,{provide:Oi,useExisting:Av},{provide:wc,useClass:tj},[]];var Sc=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var lj="X-Request-URL",dj="text/plain",hj="application/json",ine=`${hj}, ${dj}, */*`;var Mv=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Mv||{}),Nv=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new Sc,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}};var Th=class t extends Nv{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Mv.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}};var YS=new V("");var one=RegExp(`^${lj}:`,"m");var fj=new V(""),pj="b",gj="h",mj="s",yj="st",vj="u",_j="rt",Pv=new V(""),Ej=["GET","HEAD"];function Ij(t,e){let y=A(Pv),{isCacheActive:n}=y,r=fT(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Ej.includes(o)||!r.includeRequestsWithAuthHeaders&&wj(t)||r.filter?.(t)===!1)return e(t);let s=A(Vi);if(A(fj,{optional:!0}))throw new j(2803,!1);let u=t.url,l=Tj(t,u),h=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),h){let{[pj]:D,[_j]:N,[gj]:R,[mj]:L,[yj]:X,[vj]:Y}=h,me=D;switch(N){case"arraybuffer":me=new TextEncoder().encode(D).buffer;break;case"blob":me=new Blob([D]);break}let at=new Sc(R);return W(new Th({body:me,headers:at,status:L,statusText:X,url:Y}))}return e(t)}function wj(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function JS(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function Tj(t,e){let{params:n,method:r,responseType:i}=t,o=JS(n),s=t.serializeBody();s instanceof URLSearchParams?s=JS(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=bj(a);return u}function bj(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function ZS(t){return[{provide:Pv,useFactory:()=>(an("NgHttpTransferCache"),P({isCacheActive:!0},t))},{provide:YS,useValue:Ij,multi:!0},{provide:Wr,multi:!0,useFactory:()=>{let e=A(Mt),n=A(Pv);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var XS=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(te(Xe))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bh=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(bh||{});function Dj(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function eA(){return Dj(bh.EventReplay,MS())}function tA(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(bh.HttpTransferCacheOptions);return Ct([[],[],PS(),n.has(bh.NoHttpTransferCache)||r?[]:ZS({}),e])}var ne="primary",$c=Symbol("RouteTitle"),Lv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qi(t){return new Lv(t)}function uA(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jn(t[n],e[n]))return!1;return!0}function jn(t,e){let n=t?Vv(t):void 0,r=e?Vv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!lA(t[i],e[i]))return!1;return!0}function Vv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function lA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function dA(t){return t.length>0?t[t.length-1]:null}function mr(t){return Dg(t)?t:hr(t)?Re(Promise.resolve(t)):W(t)}var Aj={exact:fA,subset:pA},hA={exact:Rj,subset:Nj,ignored:()=>!0};function nA(t,e,n){return Aj[n.paths](t.root,e.root,n.matrixParams)&&hA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Rj(t,e){return jn(t,e)}function fA(t,e,n){if(!Wi(t.segments,e.segments)||!Sh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fA(t.children[r],e.children[r],n))return!1;return!0}function Nj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lA(t[n],e[n]))}function pA(t,e,n){return gA(t,e,e.segments,n)}function gA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Wi(i,n)||e.hasChildren()||!Sh(i,n,r))}else if(t.segments.length===n.length){if(!Wi(t.segments,n)||!Sh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Wi(t.segments,i)||!Sh(t.segments,i,r)||!t.children[ne]?!1:gA(t.children[ne],e,o,r)}}function Sh(t,e,n){return e.every((r,i)=>hA[n](t[i].parameters,r.parameters))}var Bn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){return xj.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ah(this)}},Jr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qi(this.parameters),this._parameterMap}toString(){return yA(this)}};function Mj(t,e){return Wi(t,e)&&t.every((n,r)=>jn(n.parameters,e[r].parameters))}function Wi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Pj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var Hc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new Yi,providedIn:"root"})}return t})(),Yi=class{parse(e){let n=new Uv(e);return new Bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ac(e.root,!0)}`,r=Fj(e.queryParams),i=typeof e.fragment=="string"?`#${Oj(e.fragment)}`:"";return`${n}${r}${i}`}},xj=new Yi;function Ah(t){return t.segments.map(e=>yA(e)).join("/")}function Ac(t,e){if(!t.hasChildren())return Ah(t);if(e){let n=t.children[ne]?Ac(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${Ac(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Pj(t,(r,i)=>i===ne?[Ac(t.children[ne],!1)]:[`${i}:${Ac(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Ah(t)}/${n[0]}`:`${Ah(t)}/(${n.join("//")})`}}function mA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dh(t){return mA(t).replace(/%3B/gi,";")}function Oj(t){return encodeURI(t)}function jv(t){return mA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rh(t){return decodeURIComponent(t)}function rA(t){return Rh(t.replace(/\+/g,"%20"))}function yA(t){return`${jv(t.path)}${kj(t.parameters)}`}function kj(t){return Object.entries(t).map(([e,n])=>`;${jv(e)}=${jv(n)}`).join("")}function Fj(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Dh(n)}=${Dh(i)}`).join("&"):`${Dh(n)}=${Dh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Lj=/^[^\/()?;#]+/;function xv(t){let e=t.match(Lj);return e?e[0]:""}var Vj=/^[^\/()?;=#]+/;function jj(t){let e=t.match(Vj);return e?e[0]:""}var Uj=/^[^=?&#]+/;function Bj(t){let e=t.match(Uj);return e?e[0]:""}var $j=/^[^&#]+/;function Hj(t){let e=t.match($j);return e?e[0]:""}var Uv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ve(e,n)),r}parseSegment(){let e=xv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Jr(Rh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xv(this.remaining);i&&(r=i,this.capture(r))}e[Rh(n)]=Rh(r)}parseQueryParam(e){let n=Bj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Hj(this.remaining);s&&(r=s,this.capture(r))}let i=rA(n),o=rA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ne]:new ve([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function vA(t){return t.segments.length>0?new ve([],{[ne]:t}):t}function _A(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=_A(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ve(t.segments,e);return qj(n)}function qj(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new ve(t.segments.concat(e.segments),e.children)}return t}function Zr(t){return t instanceof Bn}function EA(t,e,n=null,r=null){let i=IA(t);return wA(i,e,n,r)}function IA(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ve(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=vA(r);return e??i}function wA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ov(i,i,i,n,r);let o=zj(e);if(o.toRoot())return Ov(i,i,new ve([],{}),n,r);let s=Gj(o,i,t),a=s.processChildren?Nc(s.segmentGroup,s.index,o.commands):bA(s.segmentGroup,s.index,o.commands);return Ov(i,s.segmentGroup,a,n,r)}function Nh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xc(t){return typeof t=="object"&&t!=null&&t.outlets}function Ov(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=TA(t,e,n);let a=vA(_A(s));return new Bn(a,o,i)}function TA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=TA(o,e,n)}),new ve(t.segments,r)}var Mh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Nh(r[0]))throw new j(4003,!1);let i=r.find(xc);if(i&&i!==dA(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Mh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Mh(n,e,r)}var ys=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Gj(t,e,n){if(t.isAbsolute)return new ys(e,!0,0);if(!n)return new ys(e,!1,NaN);if(n.parent===null)return new ys(n,!0,0);let r=Nh(t.commands[0])?0:1,i=n.segments.length-1+r;return Wj(n,i,t.numberOfDoubleDots)}function Wj(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new ys(r,!1,i-o)}function Kj(t){return xc(t[0])?t[0].outlets:{[ne]:t}}function bA(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return Nc(t,e,n);let r=Qj(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ve(t.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ve(t.segments.slice(r.pathIndex),t.children),Nc(o,0,i)}else return r.match&&i.length===0?new ve(t.segments,{}):r.match&&!t.hasChildren()?Bv(t,e,n):r.match?Nc(t,0,i):Bv(t,e,n)}function Nc(t,e,n){if(n.length===0)return new ve(t.segments,{});{let r=Kj(n),i={};if(Object.keys(r).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=Nc(t.children[ne],e,n);return new ve(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=bA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(t.segments,i)}}function Qj(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(xc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!oA(u,l,s))return o;r+=2}else{if(!oA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Bv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(xc(o)){let u=Yj(o.outlets);return new ve(r,u)}if(i===0&&Nh(n[0])){let u=t.segments[e];r.push(new Jr(u.path,iA(n[0]))),i++;continue}let s=xc(o)?o.outlets[ne]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Nh(a)?(r.push(new Jr(s,iA(a))),i+=2):(r.push(new Jr(s,{})),i++)}return new ve(r,{})}function Yj(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Bv(new ve([],{}),0,r))}),e}function iA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function oA(t,e,n){return t==n.path&&jn(e,n.parameters)}var Mc="imperative",it=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(it||{}),Zt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ji=class extends Zt{type=it.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$n=class extends Zt{urlAfterRedirects;type=it.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Pt||{}),Oc=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Oc||{}),Un=class extends Zt{reason;code;type=it.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pr=class extends Zt{reason;code;type=it.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},_s=class extends Zt{error;target;type=it.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kc=class extends Zt{urlAfterRedirects;state;type=it.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ph=class extends Zt{urlAfterRedirects;state;type=it.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xh=class extends Zt{urlAfterRedirects;state;shouldActivate;type=it.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Oh=class extends Zt{urlAfterRedirects;state;type=it.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kh=class extends Zt{urlAfterRedirects;state;type=it.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fh=class{route;type=it.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lh=class{route;type=it.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vh=class{snapshot;type=it.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jh=class{snapshot;type=it.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uh=class{snapshot;type=it.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bh=class{snapshot;type=it.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Fc=class{},Es=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Jj(t){return!(t instanceof Fc)&&!(t instanceof Es)}function Zj(t,e){return t.providers&&!t._injector&&(t._injector=as(t.providers,e,`Route: ${t.path}`)),t._injector??e}function En(t){return t.outlet||ne}function Xj(t,e){let n=t.filter(r=>En(r)===e);return n.push(...t.filter(r=>En(r)!==e)),n}function Ts(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $h=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ts(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new bs(this.rootInjector)}},bs=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $h(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(te(ke))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=$v(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=$v(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Hv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hv(e,this._root).map(n=>n.value)}};function $v(t,e){if(t===e.value)return e;for(let n of e.children){let r=$v(t,n);if(r)return r}return null}function Hv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Hv(t,n);if(r.length)return r.unshift(e),r}return[]}var Jt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ms(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Lc=class extends Hh{snapshot;constructor(e,n){super(e),this.snapshot=n,Jv(this,e)}toString(){return this.snapshot.toString()}};function DA(t){let e=eU(t),n=new ut([new Jr("",{})]),r=new ut({}),i=new ut({}),o=new ut({}),s=new ut(""),a=new gr(n,r,o,s,i,ne,t,e.root);return a.snapshot=e.root,new Lc(new Jt(a,[]),e)}function eU(t){let e={},n={},r={},o=new Ki([],e,r,"",n,ne,t,null,{});return new Vc("",new Jt(o,[]))}var gr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[$c]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Qi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Qi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&SA(i)&&(r.resolve[$c]=i.title),r}var Ki=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$c]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vc=class extends Hh{url;constructor(e,n){super(n),this.url=e,Jv(this,n)}toString(){return CA(this._root)}};function Jv(t,e){e.value._routerState=t,e.children.forEach(n=>Jv(t,n))}function CA(t){let e=t.children.length>0?` { ${t.children.map(CA).join(", ")} } `:"";return`${t.value}${e}`}function kv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),jn(e.params,n.params)||t.paramsSubject.next(n.params),Sj(e.url,n.url)||t.urlSubject.next(n.url),jn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qv(t,e){let n=jn(t.params,e.params)&&Mj(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||qv(t.parent,e.parent))}function SA(t){return typeof t.title=="string"||t.title===null}var AA=new V(""),qc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new ze;deactivateEvents=new ze;attachEvents=new ze;detachEvents=new ze;routerOutletData=RS(void 0);parentContexts=A(bs);location=A(ss);changeDetector=A(zi);inputBinder=A(Kh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new zv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=nt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[lr]})}return t})(),zv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===gr?this.route:e===bs?this.childContexts:e===AA?this.outletData:this.parent.get(e,n)}},Kh=new V("");var Zv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=_n({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_t(0,"router-outlet")},dependencies:[qc],encapsulation:2})}return t})();function Xv(t){let e=t.children&&t.children.map(Xv),n=e?ie(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=Zv),n}function tU(t,e,n){let r=jc(t,e._root,n?n._root:void 0);return new Lc(r,e)}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nU(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>jc(t,a)),s}}let r=rU(e.value),i=e.children.map(o=>jc(t,o));return new Jt(r,i)}}function nU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jc(t,r,i);return jc(t,r)})}function rU(t){return new gr(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var Is=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},RA="ngNavigationCancelingError";function zh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Zr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NA(!1,Pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function NA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[RA]=!0,n.cancellationCode=e,n}function iU(t){return MA(t)&&Zr(t.url)}function MA(t){return!!t&&t[RA]}var oU=(t,e,n,r)=>oe(i=>(new Gv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Gv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),kv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ms(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Bh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(kv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Gh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function sU(t,e,n){let r=t._root,i=e?e._root:null;return Rc(r,i,n,[r.value])}function aU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ds(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Hg(t)?t:e.get(t):r}function Rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ms(e);return t.children.forEach(s=>{cU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Pc(a,n.getContext(s),i)),i}function cU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=uU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Gh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Rc(t,e,a?a.children:null,r,i):Rc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,s))}else s&&Pc(e,a,i),i.canActivateChecks.push(new Gh(r)),o.component?Rc(t,null,a?a.children:null,r,i):Rc(t,null,n,r,i);return i}function uU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wi(t.url,e.url)||!jn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qv(t,e)||!jn(t.queryParams,e.queryParams);case"paramsChange":default:return!qv(t,e)}}function Pc(t,e,n){let r=ms(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Pc(s,e.children.getContext(o),n):Pc(s,null,n):Pc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new vs(e.outlet.component,i)):n.canDeactivateChecks.push(new vs(null,i)):n.canDeactivateChecks.push(new vs(null,i))}function zc(t){return typeof t=="function"}function lU(t){return typeof t=="boolean"}function dU(t){return t&&zc(t.canLoad)}function hU(t){return t&&zc(t.canActivate)}function fU(t){return t&&zc(t.canActivateChild)}function pU(t){return t&&zc(t.canDeactivate)}function gU(t){return t&&zc(t.canMatch)}function PA(t){return t instanceof er||t?.name==="EmptyError"}var Ch=Symbol("INITIAL_VALUE");function ws(){return Lt(t=>kl(t.map(e=>e.pipe(tr(1),Vl(Ch)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===Ch)return Ch;if(n===!1||mU(n))return n}return!0}),$t(e=>e!==Ch),tr(1)))}function mU(t){return Zr(t)||t instanceof Is}function yU(t,e){return Ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?W(ie(P({},n),{guardsResult:!0})):vU(s,r,i,t).pipe(Ze(a=>a&&lU(a)?_U(r,o,t,e):W(a)),oe(a=>ie(P({},n),{guardsResult:a})))})}function vU(t,e,n,r){return Re(t).pipe(Ze(i=>bU(i.component,i.route,n,e,r)),nr(i=>i!==!0,!0))}function _U(t,e,n,r){return Re(e).pipe(Uo(i=>jo(IU(i.route.parent,r),EU(i.route,r),TU(t,i.path,n),wU(t,i.route,n))),nr(i=>i!==!0,!0))}function EU(t,e){return t!==null&&e&&e(new Uh(t)),W(!0)}function IU(t,e){return t!==null&&e&&e(new Vh(t)),W(!0)}function wU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>ka(()=>{let s=Ts(e)??n,a=Ds(o,s),u=hU(a)?a.canActivate(e,t):qe(s,()=>a(e,t));return mr(u).pipe(nr())}));return W(i).pipe(ws())}function TU(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>aU(s)).filter(s=>s!==null).map(s=>ka(()=>{let a=s.guards.map(u=>{let l=Ts(s.node)??n,h=Ds(u,l),p=fU(h)?h.canActivateChild(r,t):qe(l,()=>h(r,t));return mr(p).pipe(nr())});return W(a).pipe(ws())}));return W(o).pipe(ws())}function bU(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=Ts(e)??i,l=Ds(a,u),h=pU(l)?l.canDeactivate(t,e,n,r):qe(u,()=>l(t,e,n,r));return mr(h).pipe(nr())});return W(s).pipe(ws())}function DU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Ds(s,t),u=dU(a)?a.canLoad(e,n):qe(t,()=>a(e,n));return mr(u)});return W(o).pipe(ws(),xA(r))}function xA(t){return ml(tt(e=>{if(typeof e!="boolean")throw zh(t,e)}),oe(e=>e===!0))}function CU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Ds(s,t),u=gU(a)?a.canMatch(e,n):qe(t,()=>a(e,n));return mr(u)});return W(o).pipe(ws(),xA(r))}var Uc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Bc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function gs(t){return Vo(new Uc(t))}function SU(t){return Vo(new j(4e3,!1))}function AU(t){return Vo(NA(!1,Pt.GuardRejected))}var Wv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ne])return SU(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,o){return RU(n,i,o).pipe(oe(s=>{if(s instanceof Bn)throw new Bc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Bc(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Bn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function RU(t,e,n){if(typeof t=="string")return W(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return mr(qe(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var Kv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NU(t,e,n,r,i){let o=OA(t,e,n);return o.matched?(r=Zj(e,r),CU(r,e,n,i).pipe(oe(s=>s===!0?o:P({},Kv)))):W(o)}function OA(t,e,n){if(e.path==="**")return MU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},Kv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uA)(n,t,e);if(!i)return P({},Kv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function MU(t){return{matched:!0,parameters:t.length>0?dA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function sA(t,e,n,r){return n.length>0&&OU(t,n,r)?{segmentGroup:new ve(e,xU(r,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&kU(t,n,r)?{segmentGroup:new ve(t.segments,PU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function PU(t,e,n,r){let i={};for(let o of n)if(Qh(t,e,o)&&!r[En(o)]){let s=new ve([],{});i[En(o)]=s}return P(P({},r),i)}function xU(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&En(r)!==ne){let i=new ve([],{});n[En(r)]=i}return n}function OU(t,e,n){return n.some(r=>Qh(t,e,r)&&En(r)!==ne)}function kU(t,e,n){return n.some(r=>Qh(t,e,r))}function Qh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FU(t,e,n){return e.length===0&&!t.children[n]}var Qv=class{};function LU(t,e,n,r,i,o,s="emptyOnly"){return new Yv(t,e,n,r,i,s,o).recognize()}var VU=31,Yv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wv(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=sA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new Jt(r,n),o=new Vc("",i),s=EA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ki([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(oe(r=>({children:r,rootSnapshot:n})),Or(r=>{if(r instanceof Bc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Uc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof Jt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(Uo(s=>{let a=r.children[s],u=Xj(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Ll((s,a)=>(s.push(...a),s)),kr(null),Sg(),Ze(s=>{if(s===null)return gs(r);let a=kA(s);return jU(a),W(a)}))}processSegment(e,n,r,i,o,s,a){return Re(n).pipe(Uo(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Or(l=>{if(l instanceof Uc)return W(null);throw l}))),nr(u=>!!u),Or(u=>{if(PA(u))return FU(r,i,o)?W(new Qv):gs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return En(r)!==s&&(s===ne||!Qh(i,o,r))?gs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):gs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=OA(n,i,o);if(!u)return gs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VU&&(this.allowRedirects=!1));let y=new Ki(o,l,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,aA(i),En(i),i.component??i._loadedComponent??null,i,cA(i)),D=qh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(D.params),y.data=Object.freeze(D.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Lt(R=>this.applyRedirects.lineralizeSegments(i,R)),Ze(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=NU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Lt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Lt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,D=new Ki(m,p,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,aA(r),En(r),r.component??r._loadedComponent??null,r,cA(r)),N=qh(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(N.params),D.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:L}=sA(n,m,y,l);if(L.length===0&&R.hasChildren())return this.processChildren(h,l,R,D).pipe(oe(Y=>new Jt(D,Y)));if(l.length===0&&L.length===0)return W(new Jt(D,[]));let X=En(r)===o;return this.processSegment(h,l,R,L,X?ne:o,!0,D).pipe(oe(Y=>new Jt(D,Y instanceof Jt?[Y]:[])))}))):gs(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):DU(e,n,r,this.urlSerializer).pipe(Ze(i=>i?this.configLoader.loadChildren(e,n).pipe(tt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):AU(n))):W({routes:[],injector:e})}};function jU(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function UU(t){let e=t.value.routeConfig;return e&&e.path===""}function kA(t){let e=[],n=new Set;for(let r of t){if(!UU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=kA(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function aA(t){return t.data||{}}function cA(t){return t.resolve||{}}function BU(t,e,n,r,i,o){return Ze(s=>LU(t,e,n,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:u})=>ie(P({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function $U(t,e){return Ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of FA(u))s.add(l);let a=0;return Re(s).pipe(Uo(u=>o.has(u)?HU(u,r,t,e):(u.data=qh(u,u.parent,t).resolve,W(void 0))),tt(()=>a++),Bo(1),Ze(u=>a===s.size?W(n):kt))})}function FA(t){let e=t.children.map(n=>FA(n)).flat();return[t,...e]}function HU(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!SA(i)&&(o[$c]=i.title),ka(()=>(t.data=qh(t,t.parent,n).resolve,qU(o,t,e,r).pipe(oe(s=>(t._resolvedData=s,t.data=P(P({},t.data),s),null)))))}function qU(t,e,n,r){let i=Vv(t);if(i.length===0)return W({});let o={};return Re(i).pipe(Ze(s=>zU(t[s],e,n,r).pipe(nr(),tt(a=>{if(a instanceof Is)throw zh(new Yi,a);o[s]=a}))),Bo(1),oe(()=>o),Or(s=>PA(s)?kt:Vo(s)))}function zU(t,e,n,r){let i=Ts(e)??r,o=Ds(t,i),s=o.resolve?o.resolve(e,n):qe(i,()=>o(e,n));return mr(s)}function Fv(t){return Lt(e=>{let n=t(e);return n?Re(n).pipe(oe(()=>e)):W(e)})}var e_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[$c]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>A(LA),providedIn:"root"})}return t})(),LA=(()=>{class t extends e_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(te(XS))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cs=new V("",{providedIn:"root",factory:()=>({})}),Gc=new V(""),VA=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(Yy);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=mr(qe(n,()=>r.loadComponent())).pipe(oe(UA),Lt(BA),tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Fa(()=>{this.componentLoaders.delete(r)})),o=new Oo(i,()=>new Ue).pipe(xo());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=jA(r,this.compiler,n,this.onLoadEndListener).pipe(Fa(()=>{this.childrenLoaders.delete(r)})),s=new Oo(o,()=>new Ue).pipe(xo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jA(t,e,n,r){return mr(qe(n,()=>t.loadChildren())).pipe(oe(UA),Lt(BA),Ze(i=>i instanceof eh||Array.isArray(i)?W(i):Re(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Gc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xv),injector:o}}))}function GU(t){return t&&typeof t=="object"&&"default"in t}function UA(t){return GU(t)?t.default:t}function BA(t){return W(t)}var Yh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>A(WU),providedIn:"root"})}return t})(),WU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$A=new V("");var HA=new V(""),qA=(()=>{class t{currentNavigation=xe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortWithErrorSubject=new Ue;configLoader=A(VA);environmentInjector=A(ke);destroyRef=A(mn);urlSerializer=A(Hc);rootContexts=A(bs);location=A(fs);inputBindingEnabled=A(Kh,{optional:!0})!==null;titleStrategy=A(e_);options=A(Cs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(Yh);createViewTransition=A($A,{optional:!0});navigationErrorHandler=A(HA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Fh(i)),r=i=>this.events.next(new Lh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Ke(()=>{this.transitions?.next(ie(P({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new ut(null),this.transitions.pipe($t(r=>r!==null),Lt(r=>{let i=!1;return W(r).pipe(Lt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),kt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ie(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new pr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Oc.IgnoredSameUrlNavigation)),o.resolve(!1),kt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(Lt(u=>(this.events.next(new Ji(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?kt:Promise.resolve(u))),BU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new kc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Ji(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let D=DA(this.rootComponentType).snapshot;return this.currentTransition=r=ie(P({},o),{targetSnapshot:D,urlAfterRedirects:l,extras:ie(P({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(N=>(N.finalUrl=l,N)),W(r)}else return this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Oc.IgnoredByUrlHandlingStrategy)),o.resolve(!1),kt}),tt(o=>{let s=new Ph(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),oe(o=>(this.currentTransition=r=ie(P({},o),{guards:sU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),yU(this.environmentInjector,o=>this.events.next(o)),tt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw zh(this.urlSerializer,o.guardsResult);let s=new xh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),$t(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Pt.GuardRejected),!1)),Fv(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(tt(s=>{let a=new Oh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Lt(s=>{let a=!1;return W(s).pipe($U(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Pt.NoDataFromResolver)}}))}),tt(s=>{let a=new kh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Fv(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Ts(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(tt(h=>{a.component=h}),oe(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return kl(s(o.targetSnapshot.root)).pipe(kr(null),tr(1))}),Fv(()=>this.afterPreactivation()),Lt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Re(a).pipe(oe(()=>r)):W(r)}),oe(o=>{let s=tU(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ie(P({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),tt(()=>{this.events.next(new Fc)}),oU(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),tr(1),jl(new ee(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe($t(()=>!i&&!r.targetRouterState),tt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Pt.Aborted)}))),tt({next:o=>{i=!0,this.lastSuccessfulNavigation=Ke(this.currentNavigation),this.events.next(new $n(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),jl(this.transitionAbortWithErrorSubject.pipe(tt(o=>{throw o}))),Fa(()=>{i||this.cancelNavigationTransition(r,"",Pt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Or(o=>{if(this.destroyed)return r.resolve(!1),kt;if(i=!0,MA(o))this.events.next(new Un(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),iU(o)?this.events.next(new Es(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new _s(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=qe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Is){let{message:u,cancellationCode:l}=zh(this.urlSerializer,a);this.events.next(new Un(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Es(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return kt}))}))}cancelNavigationTransition(n,r,i){let o=new Un(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ke(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function KU(t){return t!==Mc}var zA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>A(QU),providedIn:"root"})}return t})(),Wh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},QU=(()=>{class t extends Wh{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),GA=(()=>{class t{urlSerializer=A(Hc);options=A(Cs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=A(fs);urlHandlingStrategy=A(Yh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Bn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Bn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=DA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>A(YU),providedIn:"root"})}return t})(),YU=(()=>{class t extends GA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ji?this.updateStateMemento():n instanceof pr?this.commitTransition(r):n instanceof kc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Fc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Un&&n.code!==Pt.SupersededByNewNavigation&&n.code!==Pt.Redirect?this.restoreHistory(r):n instanceof _s?this.restoreHistory(r,!0):n instanceof $n&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=P(P({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=P(P({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})();static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function t_(t,e){t.events.pipe($t(n=>n instanceof $n||n instanceof Un||n instanceof _s||n instanceof pr),oe(n=>n instanceof $n||n instanceof pr?0:(n instanceof Un?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?2:1),$t(n=>n!==2),tr(1)).subscribe(()=>{e()})}var JU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wc=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(th);stateManager=A(GA);options=A(Cs,{optional:!0})||{};pendingTasks=A(yn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(qA);urlSerializer=A(Hc);location=A(fs);urlHandlingStrategy=A(Yh);injector=A(ke);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(zA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(Gc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(Kh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Ke(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Un&&r.code!==Pt.Redirect&&r.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $n)this.navigated=!0;else if(r instanceof Es){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=P({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||KU(i.source)},s);this.scheduleNavigation(a,Mc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Jj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=P({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(vt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ke(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Xv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=IA(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return wA(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Zr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Mc,null,r)}navigate(n,r={skipLocationChange:!1}){return XU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=P({},JU):r===!1?i=P({},ZU):i=r,Zr(n))return nA(this.currentUrlTree,n,i);let o=this.parseUrl(n);return nA(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return t_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}var Hn=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=xe(null);get href(){return Ke(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;applicationErrorHandler=A(vt);options=A(Cs,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(A(new ph("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof $n&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Zr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(le(Wc),le(gr),cc("tabindex"),le(Ui),le(zr),le(hs))};static \u0275dir=nt({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Oe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&us("href",i.reactiveHref(),vy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Gi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Gi],replaceUrl:[2,"replaceUrl","replaceUrl",Gi],routerLink:"routerLink"},features:[lr]})}return t})();var tB=new V("");function n_(t,...e){return Ct([{provide:Gc,multi:!0,useValue:t},[],{provide:gr,useFactory:nB,deps:[Wc]},{provide:Wr,multi:!0,useFactory:rB},e.map(n=>n.\u0275providers)])}function nB(t){return t.routerState.root}function rB(){let t=A(He);return e=>{let n=t.get(Mt);if(e!==n.components[0])return;let r=t.get(Wc),i=t.get(iB);t.get(oB)===1&&r.initialNavigation(),t.get(sB,null,{optional:!0})?.setUpPreloading(),t.get(tB,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var iB=new V("",{factory:()=>new Ue}),oB=new V("",{providedIn:"root",factory:()=>1});var sB=new V("");var WA=()=>{};var YA=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aB=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Jh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new i_;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},i_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},cB=function(t){let e=YA(t);return Jh.encodeByteArray(e,!0)},Qc=function(t){return cB(t).replace(/\./g,"")},Zh=function(t){try{return Jh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function s_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var uB=()=>s_().__FIREBASE_DEFAULTS__,lB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Zh(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return WA()||uB()||lB()||dB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JA=t=>{var e,n;return(n=(e=Xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZA=t=>{let e=JA(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a_=()=>{var t;return(t=Xh())===null||t===void 0?void 0:t.config},XA=t=>{var e;return(e=Xh())===null||e===void 0?void 0:e[`_${t}`]};var Zi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Xi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c_(t){return(await fetch(t,{credentials:"include"})).ok}function eR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qc(JSON.stringify(n)),Qc(JSON.stringify(s)),""].join(".")}var Kc={};function hB(){let t={prod:[],emulator:[]};for(let e of Object.keys(Kc))Kc[e]?t.emulator.push(e):t.prod.push(e);return t}function fB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var KA=!1;function u_(t,e){if(typeof window>"u"||typeof document>"u"||!Xi(window.location.host)||Kc[t]===e||Kc[t]||KA)return;Kc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=hB().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{KA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=fB(r),y=n("text"),D=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),L=n("preprendIcon"),X=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Y=m.element;a(Y),h(R,N);let me=l();u(X,L),Y.append(X,D,R,me),document.body.appendChild(Y)}o?(D.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function pB(){var t;let e=(t=Xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){return!pB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yc(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var gB="FirebaseError",un=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}},In=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?mB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new un(i,a,r)}};function mB(t,e){return t.replace(yB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yB=/\{\$([^}]+)}/g;function eo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(QA(o)&&QA(s)){if(!eo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function QA(t){return t!==null&&typeof t=="object"}function l_(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aR(t,e){let n=new o_(t,e);return n.subscribe.bind(n)}var o_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=r_),i.error===void 0&&(i.error=r_),i.complete===void 0&&(i.complete=r_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function r_(){}var Lre=14400*1e3;function yr(t){return t&&t._delegate?t._delegate:t}var xt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var to="[DEFAULT]";var d_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Zi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EB(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_B(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _B(t){return t===to?void 0:t}function EB(t){return t.instantiationMode==="EAGER"}var ef=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new d_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var IB=[],ce=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ce||{}),wB={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},TB=ce.INFO,bB={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},DB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=bB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qn=class{constructor(e){this.name=e,this._logLevel=TB,this._logHandler=DB,this._userLogHandler=null,IB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var CB=(t,e)=>e.some(n=>t instanceof n),cR,uR;function SB(){return cR||(cR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AB(){return uR||(uR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lR=new WeakMap,f_=new WeakMap,dR=new WeakMap,h_=new WeakMap,g_=new WeakMap;function RB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(zn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&lR.set(n,t)}).catch(()=>{}),g_.set(e,t),e}function NB(t){if(f_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});f_.set(t,e)}var p_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return f_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hR(t){p_=t(p_)}function MB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(tf(this),e,...n);return dR.set(r,e.sort?e.sort():[e]),zn(r)}:AB().includes(t)?function(...e){return t.apply(tf(this),e),zn(lR.get(this))}:function(...e){return zn(t.apply(tf(this),e))}}function PB(t){return typeof t=="function"?MB(t):(t instanceof IDBTransaction&&NB(t),CB(t,SB())?new Proxy(t,p_):t)}function zn(t){if(t instanceof IDBRequest)return RB(t);if(h_.has(t))return h_.get(t);let e=PB(t);return e!==t&&(h_.set(t,e),g_.set(e,t)),e}var tf=t=>g_.get(t);function pR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=zn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(zn(s.result),u.oldVersion,u.newVersion,zn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var xB=["get","getKey","getAll","getAllKeys","count"],OB=["put","add","delete","clear"],m_=new Map;function fR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(m_.get(e))return m_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=OB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xB.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return m_.set(e,o),o}hR(t=>ie(P({},t),{get:(e,n,r)=>fR(e,n)||t.get(e,n,r),has:(e,n)=>!!fR(e,n)||t.has(e,n)}));var v_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function kB(t){let e=t.getComponent();return e?.type==="VERSION"}var __="@firebase/app",gR="0.13.2";var vr=new qn("@firebase/app"),FB="@firebase/app-compat",LB="@firebase/analytics-compat",VB="@firebase/analytics",jB="@firebase/app-check-compat",UB="@firebase/app-check",BB="@firebase/auth",$B="@firebase/auth-compat",HB="@firebase/database",qB="@firebase/data-connect",zB="@firebase/database-compat",GB="@firebase/functions",WB="@firebase/functions-compat",KB="@firebase/installations",QB="@firebase/installations-compat",YB="@firebase/messaging",JB="@firebase/messaging-compat",ZB="@firebase/performance",XB="@firebase/performance-compat",e$="@firebase/remote-config",t$="@firebase/remote-config-compat",n$="@firebase/storage",r$="@firebase/storage-compat",i$="@firebase/firestore",o$="@firebase/ai",s$="@firebase/firestore-compat",a$="firebase",c$="11.10.0";var E_="[DEFAULT]",u$={[__]:"fire-core",[FB]:"fire-core-compat",[VB]:"fire-analytics",[LB]:"fire-analytics-compat",[UB]:"fire-app-check",[jB]:"fire-app-check-compat",[BB]:"fire-auth",[$B]:"fire-auth-compat",[HB]:"fire-rtdb",[qB]:"fire-data-connect",[zB]:"fire-rtdb-compat",[GB]:"fire-fn",[WB]:"fire-fn-compat",[KB]:"fire-iid",[QB]:"fire-iid-compat",[YB]:"fire-fcm",[JB]:"fire-fcm-compat",[ZB]:"fire-perf",[XB]:"fire-perf-compat",[e$]:"fire-rc",[t$]:"fire-rc-compat",[n$]:"fire-gcs",[r$]:"fire-gcs-compat",[i$]:"fire-fst",[s$]:"fire-fst-compat",[o$]:"fire-vertex","fire-js":"fire-js",[a$]:"fire-js-all"};var Jc=new Map,l$=new Map,I_=new Map;function mR(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){let e=t.name;if(I_.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;I_.set(e,t);for(let n of Jc.values())mR(n,t);for(let n of l$.values())mR(n,t);return!0}function nf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t==null?!1:t.settings!==void 0}var d$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new In("app","Firebase",d$);var w_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}};var Ss=c$;function D_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:E_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Xr.create("bad-app-name",{appName:String(i)});if(n||(n=a_()),!n)throw Xr.create("no-options");let o=Jc.get(i);if(o){if(eo(n,o.options)&&eo(r,o.config))return o;throw Xr.create("duplicate-app",{appName:i})}let s=new ef(i);for(let u of I_.values())s.addComponent(u);let a=new w_(n,r,s);return Jc.set(i,a),a}function As(t=E_){let e=Jc.get(t);if(!e&&t===E_&&a_())return D_();if(!e)throw Xr.create("no-app",{appName:t});return e}function rf(){return Array.from(Jc.values())}function Fe(t,e,n){var r;let i=(r=u$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}wn(new xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var h$="firebase-heartbeat-database",f$=1,Zc="firebase-heartbeat-store",y_=null;function ER(){return y_||(y_=pR(h$,f$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xr.create("idb-open",{originalErrorMessage:t.message})})),y_}async function p$(t){try{let n=(await ER()).transaction(Zc),r=await n.objectStore(Zc).get(IR(t));return await n.done,r}catch(e){if(e instanceof un)vr.warn(e.message);else{let n=Xr.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}}async function yR(t,e){try{let r=(await ER()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,IR(t)),await r.done}catch(n){if(n instanceof un)vr.warn(n.message);else{let r=Xr.create("idb-set",{originalErrorMessage:n?.message});vr.warn(r.message)}}}function IR(t){return`${t.name}!${t.options.appId}`}var g$=1024,m$=30,T_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new b_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>m$){let s=v$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=vR(),{heartbeatsToSend:r,unsentEntries:i}=y$(this._heartbeatsCache.heartbeats),o=Qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return vr.warn(n),""}}};function vR(){return new Date().toISOString().substring(0,10)}function y$(t,e=g$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_R(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_R(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var b_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yc()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await p$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return yR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return yR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function _R(t){return Qc(JSON.stringify({version:2,heartbeats:t})).length}function v$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function _$(t){wn(new xt("platform-logger",e=>new v_(e),"PRIVATE")),wn(new xt("heartbeat",e=>new T_(e),"PRIVATE")),Fe(__,gR,t),Fe(__,gR,"esm2017"),Fe("fire-js","")}_$("");var E$="firebase",I$="11.10.0";Fe(E$,I$,"app");function wR(t){t===void 0&&(t=A(He));let e=t.get(Hr);return n=>new ee(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ro=new Fr("ANGULARFIRE2_VERSION");function sf(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ns=(t,e)=>{let n=e?[e]:rf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Rs=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Rs||{}),TR=fv()&&typeof Zone<"u"?Rs.WARN:Rs.SILENT;var of=class{zone;delegate;constructor(e,n=Tg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},io=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=A(we);this.outsideAngular=n.runOutsideAngular(()=>new of(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new of(typeof Zone>"u"?void 0:Zone.current,wg))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bR=!1;function w$(t,e){!bR&&(TR>Rs.SILENT||fv())&&(bR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),TR>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function T$(t){let e=A(we,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function no(t){let e=A(we,{optional:!0});return e?e.run(()=>t()):t()}var b$=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),qe(n,()=>no(()=>t.apply(void 0,r)))),ei=(t,e,n)=>(n||=e?Rs.WARN:Rs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=A(io),s=A(Hr),a=A(ke)}catch{return w$(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=no(()=>s.add())),i[l]=b$(i[l],r,a));let u=T$(()=>t.apply(this,i));return e?u instanceof ee?u.pipe(xr(o.outsideAngular),Pr(o.insideAngular),wR(a)):u instanceof Promise?no(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>qe(a,()=>no(()=>h(m))),m=>qe(a,()=>no(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:no(()=>u):u instanceof ee?u.pipe(xr(o.outsideAngular),Pr(o.insideAngular)):no(()=>u)});var oo=class{constructor(e){return e}},Xc=class{constructor(){return rf()}};function D$(t){return t&&t.length===1?t[0]:new oo(As())}var C_=new V("angularfire2._apps"),C$={provide:oo,useFactory:D$,deps:[[new On,C_]]},S$={provide:Xc,deps:[[new On,C_]]};function A$(t){return(e,n)=>{let r=n.get(Gr);Fe("angularfire",ro.full,"core"),Fe("angularfire",ro.full,"app"),Fe("angular",Ug.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new oo(i)}}function DR(t,...e){return Ct([C$,S$,{provide:C_,useFactory:A$(t),multi:!0,deps:[we,He,io,...e]}])}var CR=ei(D_,!0);var R$=new Map,N$={activated:!1,tokenObservers:[]},M$={initialized:!1,enabled:!1};function Tn(t){return R$.get(t)||Object.assign({},N$)}function NR(){return M$}var P$="https://content-firebaseappcheck.googleapis.com/v1";var x$="exchangeDebugToken",SR={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Lie=1440*60*1e3;var R_=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Zi,this.pending.promise.catch(n=>{}),await O$(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Zi,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function O$(t){return new Promise(e=>{setTimeout(e,t)})}var k$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ti=new In("appCheck","AppCheck",k$);function MR(t){if(!Tn(t).activated)throw ti.create("use-before-activation",{appName:t.name})}async function PR({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw ti.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw ti.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw ti.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function xR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${P$}/projects/${n}/apps/${r}:${x$}?key=${i}`,body:{debug_token:e}}}var F$="firebase-app-check-database",L$=1,N_="firebase-app-check-store";var af=null;function V$(){return af||(af=new Promise((t,e)=>{try{let n=indexedDB.open(F$,L$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ti.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(N_,{keyPath:"compositeKey"})}}}catch(n){e(ti.create("storage-open",{originalErrorMessage:n?.message}))}}),af)}function j$(t,e){return U$(B$(t),e)}async function U$(t,e){let r=(await V$()).transaction(N_,"readwrite"),o=r.objectStore(N_).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ti.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function B$(t){return`${t.options.appId}-${t.name}`}var eu=new qn("@firebase/app-check");function S_(t,e){return Yc()?j$(t,e).catch(n=>{eu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function OR(){return NR().enabled}async function kR(){let t=NR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var $$={error:"UNKNOWN_ERROR"};function H$(t){return Jh.encodeString(JSON.stringify(t),!1)}async function M_(t,e=!1,n=!1){let r=t.app;MR(r);let i=Tn(r),o=i.token,s;if(o&&!tu(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(tu(l)?o=l:await S_(r,void 0))}if(!e&&o&&tu(o))return{token:o.token};let a=!1;if(OR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=PR(xR(r,await kR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await S_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?eu.warn(l.message):n&&eu.error(l),A_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await Tn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?eu.warn(l.message):n&&eu.error(l),s=l}let u;return o?s?tu(o)?u={token:o.token,internalError:s}:u=A_(s):(u={token:o.token},i.token=o,await S_(r,o)):u=A_(s),a&&W$(r,u),u}async function q$(t){let e=t.app;MR(e);let{provider:n}=Tn(e);if(OR()){let r=await kR(),{token:i}=await PR(xR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function z$(t,e,n,r){let{app:i}=t,o=Tn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&tu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),AR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>AR(t))}function FR(t,e){let n=Tn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function AR(t){let{app:e}=t,n=Tn(e),r=n.tokenRefresher;r||(r=G$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function G$(t){let{app:e}=t;return new R_(async()=>{let n=Tn(e),r;if(n.token?r=await M_(t,!0):r=await M_(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=Tn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},SR.RETRIAL_MIN_WAIT,SR.RETRIAL_MAX_WAIT)}function W$(t,e){let n=Tn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function tu(t){return t.expireTimeMillis-Date.now()>0}function A_(t){return{token:H$($$),error:t}}var P_=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Tn(this.app);for(let n of e)FR(this.app,n.next);return Promise.resolve()}};function K$(t,e){return new P_(t,e)}function Q$(t){return{getToken:e=>M_(t,e),getLimitedUseToken:()=>q$(t),addTokenListener:e=>z$(t,"INTERNAL",e),removeTokenListener:e=>FR(t.app,e)}}var Y$="@firebase/app-check",J$="0.10.1";var Z$="app-check",RR="app-check-internal";function X$(){wn(new xt(Z$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return K$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(RR).initialize()})),wn(new xt(RR,t=>{let e=t.getProvider("app-check").getImmediate();return Q$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Fe(Y$,J$)}X$();var eH="app-check";var cf=class{constructor(){return Ns(eH)}};var tH=["localhost","0.0.0.0","127.0.0.1"],Qie=typeof window<"u"&&tH.includes(window.location.hostname);function qR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zR=qR,GR=new In("auth","Firebase",qR());var hf=new qn("@firebase/auth");function nH(t,...e){hf.logLevel<=ce.WARN&&hf.warn(`Auth (${Ss}): ${t}`,...e)}function lf(t,...e){hf.logLevel<=ce.ERROR&&hf.error(`Auth (${Ss}): ${t}`,...e)}function LR(t,...e){throw q_(t,...e)}function H_(t,...e){return q_(t,...e)}function WR(t,e,n){let r=Object.assign(Object.assign({},zR()),{[e]:n});return new In("auth","Firebase",r).create(e,{appName:t.name})}function df(t){return WR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GR.create(t,...e)}function _e(t,e,...n){if(!t)throw q_(e,...n)}function nu(t){let e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function ff(t,e){t||nu(e)}function rH(){return VR()==="http:"||VR()==="https:"}function VR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function iH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rH()||rR()||"connection"in navigator)?navigator.onLine:!0}function oH(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var co=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ff(n>e,"Short delay should be less than long delay!"),this.isMobile=tR()||iR()}get(){return iH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sH(t,e){ff(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var pf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uH=new co(3e4,6e4);function KR(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _f(t,e,n,r,i={}){return QR(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=l_(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return nR()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&Xi(t.emulatorConfig.host)&&(l.credentials="include"),pf.fetch()(await YR(t,t.config.apiHost,n,a),l)})}async function QR(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},aH),e);try{let i=new k_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw uf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw uf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw uf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WR(t,h,l);LR(t,h)}}catch(i){if(i instanceof un)throw i;LR(t,"network-request-failed",{message:String(i)})}}async function YR(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?sH(t.config,i):`${t.config.apiScheme}://${i}`;return cH.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var k_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(H_(this.auth,"network-request-failed")),uH.get())})}};function uf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=H_(t,e,r);return i.customData._tokenResponse=n,i}async function lH(t,e){return _f(t,"POST","/v1/accounts:delete",e)}async function gf(t,e){return _f(t,"POST","/v1/accounts:lookup",e)}function ru(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z_(t,e=!1){let n=yr(t),r=await n.getIdToken(e),i=JR(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ru(x_(i.auth_time)),issuedAtTime:ru(x_(i.iat)),expirationTime:ru(x_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function x_(t){return Number(t)*1e3}function JR(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Zh(n);return i?JSON.parse(i):(lf("Failed to decode base64 JWT payload"),null)}catch(i){return lf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jR(t){let e=JR(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function F_(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof un&&dH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var L_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var ou=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function mf(t){var e;let n=t.auth,r=await t.getIdToken(),i=await F_(t,gf(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ZR(o.providerUserInfo):[],a=hH(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ou(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function G_(t){let e=yr(t);await mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hH(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZR(t){return t.map(e=>{var{providerId:n}=e,r=bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function fH(t,e){let n=await QR(t,{},async()=>{let r=l_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await YR(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xi(t.emulatorConfig.host)&&(u.credentials="include"),pf.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pH(t,e){return _f(t,"POST","/v2/accounts:revokeToken",KR(t,e))}var iu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let n=jR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await fH(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return nu("not implemented")}};function ni(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var so=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ou(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await F_(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z_(this,e)}reload(){return G_(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(df(this.auth));let e=await this.getIdToken();return await F_(this,lH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,X=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:me,isAnonymous:at,providerData:Te,stsTokenManager:w}=n;_e(Y&&w,e,"internal-error");let v=iu.fromJSON(this.name,w);_e(typeof Y=="string",e,"internal-error"),ni(p,e.name),ni(m,e.name),_e(typeof me=="boolean",e,"internal-error"),_e(typeof at=="boolean",e,"internal-error"),ni(y,e.name),ni(D,e.name),ni(N,e.name),ni(R,e.name),ni(L,e.name),ni(X,e.name);let E=new t({uid:Y,auth:e,email:m,emailVerified:me,displayName:p,isAnonymous:at,photoURL:D,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:L,lastLoginAt:X});return Te&&Array.isArray(Te)&&(E.providerData=Te.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new iu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mf(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ZR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new iu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ou(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var UR=new Map;function ao(t){ff(t instanceof Function,"Expected a class definition");let e=UR.get(t);return e?(ff(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UR.set(t,e),e)}var gH=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),V_=gH;function O_(t,e,n){return`firebase:${t}:${e}:${n}`}var yf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=O_(this.userKey,i.apiKey,o),this.fullPersistenceKey=O_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await gf(this.auth,{idToken:e}).catch(()=>{});return n?so._fromGetAccountInfoResponse(this.auth,n,e):null}return so._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(ao(V_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||ao(V_),s=O_(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await gf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await so._fromGetAccountInfoResponse(e,m,h)}else p=so._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function BR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_H(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IH(e))return"Blackberry";if(wH(e))return"Webos";if(yH(e))return"Safari";if((e.includes("chrome/")||vH(e))&&!e.includes("edge/"))return"Chrome";if(EH(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mH(t=Xt()){return/firefox\//i.test(t)}function yH(t=Xt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vH(t=Xt()){return/crios\//i.test(t)}function _H(t=Xt()){return/iemobile/i.test(t)}function EH(t=Xt()){return/android/i.test(t)}function IH(t=Xt()){return/blackberry/i.test(t)}function wH(t=Xt()){return/webos/i.test(t)}function XR(t,e=[]){let n;switch(t){case"Browser":n=BR(Xt());break;case"Worker":n=`${BR(Xt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ss}/${r}`}var j_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function TH(t,e={}){return _f(t,"GET","/v2/passwordPolicy",KR(t,e))}var bH=6,U_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:bH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var B_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vf(this),this.idTokenSubscription=new vf(this),this.beforeStateQueue=new j_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ao(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await yf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await gf(this,{idToken:e}),r=await so._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(df(this));let n=e?yr(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(df(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(df(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ao(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await TH(this),n=new U_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new In("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pH(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&ao(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await yf.create(this,[ao(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(_r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&nH(`Error while retrieving App Check token: ${n.error}`),n?.token}};function DH(t){return yr(t)}var vf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var CH={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SH(t){CH=t}function AH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function RH(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ao);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var aoe=AH("rcb"),coe=new co(3e4,6e4);var uoe=new co(2e3,1e4);var loe=600*1e3;var doe=new co(3e4,6e4);var hoe=new co(5e3,15e3);var foe=encodeURIComponent("fac");var $R="@firebase/auth",HR="1.10.8";var $_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function NH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MH(t){wn(new xt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XR(t)},l=new B_(r,i,o,u);return RH(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new xt("auth-internal",e=>{let n=DH(e.getProvider("auth").getImmediate());return(r=>new $_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe($R,HR,NH(t)),Fe($R,HR,"esm2017")}var PH=300,poe=XA("authIdTokenMaxAge")||PH;function xH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SH({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=H_("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",xH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MH("Browser");var M4="auth";var Ef=class{constructor(){return Ns(M4)}};var eN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tN={};var Er,W_;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,T,C){for(var _=Array(arguments.length-2),Jn=2;Jn<arguments.length;Jn++)_[Jn-2]=arguments[Jn];return v.prototype[T].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],T=w.g[2];var C=w.g[3],_=v+(C^E&(T^C))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[2]+606105819&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[6]+2821735955&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[10]+4294925233&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(C^E&(T^C))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(T^v&(E^T))+I[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=T+(E^C&(v^E))+I[14]+2792965006&4294967295,T=C+(_<<17&4294967295|_>>>15),_=E+(v^T&(C^v))+I[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^C&(E^T))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[11]+643717713&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[15]+3634488961&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[3]+4107603335&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^C&(E^T))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^T&(v^E))+I[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(C^v))+I[7]+1735328473&4294967295,T=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(T^C))+I[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^C)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[11]+1839030562&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[7]+4139469664&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[3]+3572445317&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^C)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^T)+I[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=T+(C^v^E)+I[15]+530742520&4294967295,T=C+(_<<16&4294967295|_>>>16),_=E+(T^C^v)+I[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~C))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[14]+2878612391&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[10]+4293915773&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[6]+2734768916&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~C))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~T))+I[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=T+(v^(C|~E))+I[2]+718787259&4294967295,T=C+(_<<15&4294967295|_>>>17),_=E+(C^(T|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,T=this.h,C=0;C<v;){if(T==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(I[T++]=w.charCodeAt(C++),T==this.blockSize){i(this,I),T=0;break}}else for(;C<v;)if(I[T++]=w[C++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,T=w.length-1;0<=T;T--){var C=w[T]|0;I&&C==v||(E[T]=C,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,T=0;T<w.length;T+=8){var C=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D(this))return"0";if(N(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var T=me(E,v).g;E=L(E,T.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=T,D(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function D(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function N(w){return w.h==-1}t.l=function(w){return w=L(this,w),N(w)?-1:D(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,T=0;T<=v;T++){var C=I+(this.i(T)&65535)+(w.i(T)&65535),_=(C>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=_>>>16,C&=65535,_&=65535,E[T]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function L(w,v){return w.add(R(v))}t.j=function(w){if(D(this)||D(w))return p;if(N(this))return N(w)?R(this).j(R(w)):R(R(this).j(w));if(N(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var C=this.i(I)>>>16,_=this.i(I)&65535,Jn=w.i(T)>>>16,la=w.i(T)&65535;E[2*I+2*T]+=_*la,X(E,2*I+2*T),E[2*I+2*T+1]+=C*la,X(E,2*I+2*T+1),E[2*I+2*T+1]+=_*Jn,X(E,2*I+2*T+1),E[2*I+2*T+2]+=C*Jn,X(E,2*I+2*T+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function X(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Y(w,v){this.g=w,this.h=v}function me(w,v){if(D(v))throw Error("division by zero");if(D(w))return new Y(p,p);if(N(w))return v=me(R(w),v),new Y(R(v.g),R(v.h));if(N(v))return v=me(w,R(v)),new Y(R(v.g),v.h);if(30<w.g.length){if(N(w)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=at(E),I=at(I);var T=Te(E,1),C=Te(I,1);for(I=Te(I,2),E=Te(E,2);!D(I);){var _=C.add(I);0>=_.l(w)&&(T=T.add(E),C=_),I=Te(I,1),E=Te(E,1)}return v=L(w,T.j(v)),new Y(T,v)}for(T=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(E),_=C.j(v);N(_)||0<_.l(w);)E-=I,C=l(E),_=C.j(v);D(C)&&(C=m),T=T.add(C),w=L(w,_)}return new Y(T,w)}t.A=function(w){return me(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function at(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function Te(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,T=[],C=0;C<I;C++)T[C]=0<v?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,W_=tN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Er=tN.Integer=s}).apply(typeof eN<"u"?eN:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={};var K_,P4,Ms,Q_,su,wf,Y_,J_,Z_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var O=Array(arguments.length-2),be=2;be<arguments.length;be++)O[be-2]=arguments[be];return d.prototype[b].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let O=0;O<S;O++)c[b+O]=g[O]}else c.push(g)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var at=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function Te(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function _(){var c=Op;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Jn{constructor(){this.h=this.g=null}add(d,f){let g=la.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var la=new L(()=>new KP,c=>c.reset());class KP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let da,ha=!1,Op=new Jn,uw=()=>{let c=a.Promise.resolve(void 0);da=()=>{c.then(QP)}};var QP=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){C(f)}var d=la;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ha=!1};function Sr(){this.s=this.s,this.C=this.C}Sr.prototype.s=!1,Sr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Sr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var YP=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function fa(c,d){if(ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(at){e:{try{me(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:JP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fa.aa.h.call(this)}}D(fa,ht);var JP={2:"touch",3:"pen",4:"mouse"};fa.prototype.h=function(){fa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pa="closure_listenable_"+(1e6*Math.random()|0),ZP=0;function XP(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++ZP,this.da=this.fa=!1}function Lu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vu(c){this.src=c,this.g={},this.h=0}Vu.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var O=Fp(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new XP(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function kp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Lu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Fp(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var Lp="closure_lm_"+(1e6*Math.random()|0),Vp={};function lw(c,d,f,g,b){if(g&&g.once)return hw(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)lw(c,d[S],f,g,b);return null}return f=$p(f),c&&c[pa]?c.K(d,f,l(g)?!!g.capture:!!g,b):dw(c,d,f,!1,g,b)}function dw(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,be=Up(c);if(be||(c[Lp]=be=new Vu(c)),f=be.add(d,f,g,O,S),f.proxy)return f;if(g=ex(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)YP||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(pw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ex(){function c(f){return d.call(c.src,c.listener,f)}let d=tx;return c}function hw(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)hw(c,d[S],f,g,b);return null}return f=$p(f),c&&c[pa]?c.L(d,f,l(g)?!!g.capture:!!g,b):dw(c,d,f,!0,g,b)}function fw(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)fw(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=$p(f),c&&c[pa]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Fp(S,f,g,b),-1<f&&(Lu(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=Up(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Fp(d,f,g,b)),(f=-1<c?d[c]:null)&&jp(f))}function jp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[pa])kp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(pw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Up(d))?(kp(f,c),f.h==0&&(f.src=null,d[Lp]=null)):Lu(c)}}}function pw(c){return c in Vp?Vp[c]:Vp[c]="on"+c}function tx(c,d){if(c.da)c=!0;else{d=new fa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&jp(c),c=f.call(g,d)}return c}function Up(c){return c=c[Lp],c instanceof Vu?c:null}var Bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function $p(c){return typeof c=="function"?c:(c[Bp]||(c[Bp]=function(d){return c.handleEvent(d)}),c[Bp])}function ft(){Sr.call(this),this.i=new Vu(this),this.M=this,this.F=null}D(ft,Sr),ft.prototype[pa]=!0,ft.prototype.removeEventListener=function(c,d,f,g){fw(this,c,d,f,g)};function wt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ht(d,c);else if(d instanceof ht)d.target=d.target||c;else{var b=d;d=new ht(g,c),I(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];b=ju(O,g,!0,d)&&b}if(O=d.g=c,b=ju(O,g,!0,d)&&b,b=ju(O,g,!1,d)&&b,f)for(S=0;S<f.length;S++)O=d.g=f[S],b=ju(O,g,!1,d)&&b}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Lu(f[g]);delete c.g[d],c.h--}}this.F=null},ft.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ft.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function ju(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var be=O.listener,ct=O.ha||O.src;O.fa&&kp(c.i,O),b=be.call(ct,g)!==!1&&b}}return b&&!g.defaultPrevented}function gw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function mw(c){c.g=gw(()=>{c.g=null,c.i&&(c.i=!1,mw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class nx extends Sr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:mw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(c){Sr.call(this),this.h=c,this.g={}}D(ga,Sr);var yw=[];function vw(c){Te(c.g,function(d,f){this.g.hasOwnProperty(f)&&jp(d)},c),c.g={}}ga.prototype.N=function(){ga.aa.N.call(this),vw(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hp=a.JSON.stringify,rx=a.JSON.parse,ix=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function qp(){}qp.prototype.h=null;function _w(c){return c.h||(c.h=c.i())}function Ew(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zp(){ht.call(this,"d")}D(zp,ht);function Gp(){ht.call(this,"c")}D(Gp,ht);var ui={},Iw=null;function Uu(){return Iw=Iw||new ft}ui.La="serverreachability";function ww(c){ht.call(this,ui.La,c)}D(ww,ht);function ya(c){let d=Uu();wt(d,new ww(d))}ui.STAT_EVENT="statevent";function Tw(c,d){ht.call(this,ui.STAT_EVENT,c),this.stat=d}D(Tw,ht);function Tt(c){let d=Uu();wt(d,new Tw(d,c))}ui.Ma="timingevent";function bw(c,d){ht.call(this,ui.Ma,c),this.size=d}D(bw,ht);function va(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function _a(){this.g=!0}_a.prototype.xa=function(){this.g=!1};function ox(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var O="",be=S.split("&"),ct=0;ct<be.length;ct++){var ge=be[ct].split("=");if(1<ge.length){var pt=ge[0];ge=ge[1];var gt=pt.split("_");O=2<=gt.length&&gt[1]=="type"?O+(pt+"="+ge+"&"):O+(pt+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function sx(c,d,f,g,b,S,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+O})}function vo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+cx(c,f)+(g?" "+g:"")})}function ax(c,d){c.info(function(){return"TIMEOUT: "+d})}_a.prototype.info=function(){};function cx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Hp(f)}catch{return d}}var Bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wp;function $u(){}D($u,qp),$u.prototype.g=function(){return new XMLHttpRequest},$u.prototype.i=function(){return{}},Wp=new $u;function Ar(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cw}function Cw(){this.i=null,this.g="",this.h=!1}var Sw={},Kp={};function Qp(c,d,f){c.L=1,c.v=Gu(Zn(d)),c.m=f,c.P=!0,Aw(c,null)}function Aw(c,d){c.F=Date.now(),Hu(c),c.A=Zn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),$w(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Cw,c.g=sT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new nx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(yw[0]=b.toString()),b=yw);for(var S=0;S<b.length;S++){var O=lw(f,b[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ya(),ox(c.i,c.u,c.A,c.l,c.R,c.m)}Ar.prototype.ca=function(c){c=c.target;let d=this.M;d&&Xn(c)==3?d.j():this.Y(c)},Ar.prototype.Y=function(c){try{if(c==this.g)e:{let gt=Xn(this.g);var d=this.g.Ba();let Io=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Qw(this.g)))){this.J||gt!=4||d==7||(d==8||0>=Io?ya(3):ya(2)),Yp(this);var f=this.g.Z();this.X=f;t:if(Rw(this)){var g=Qw(this.g);c="";var b=g.length,S=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){li(this),Ea(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,sx(this.i,this.u,this.A,this.l,this.R,gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ct=this.g;if((be=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(be)){var ge=be;break t}}ge=null}if(f=ge)vo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jp(this,f);else{this.o=!1,this.s=3,Tt(12),li(this),Ea(this);break e}}if(this.P){f=!0;let hn;for(;!this.J&&this.C<O.length;)if(hn=ux(this,O),hn==Kp){gt==4&&(this.s=4,Tt(14),f=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Sw){this.s=4,Tt(15),vo(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else vo(this.i,this.l,hn,null),Jp(this,hn);if(Rw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||O.length!=0||this.h.h||(this.s=1,Tt(16),f=!1),this.o=this.o&&f,!f)vo(this.i,this.l,O,"[Invalid Chunked Response]"),li(this),Ea(this);else if(0<O.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),rg(pt),pt.M=!0,Tt(11))}}else vo(this.i,this.l,O,null),Jp(this,O);gt==4&&li(this),this.o&&!this.J&&(gt==4?nT(this.j,this):(this.o=!1,Hu(this)))}else Cx(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),li(this),Ea(this)}}}catch{}finally{}};function Rw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ux(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Kp:(f=Number(d.substring(f,g)),isNaN(f)?Sw:(g+=1,g+f>d.length?Kp:(d=d.slice(g,g+f),c.C=g+f,d)))}Ar.prototype.cancel=function(){this.J=!0,li(this)};function Hu(c){c.S=Date.now()+c.I,Nw(c,c.I)}function Nw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=va(m(c.ba,c),d)}function Yp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ar.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ax(this.i,this.A),this.L!=2&&(ya(),Tt(17)),li(this),this.s=2,Ea(this)):Nw(this,this.S-c)};function Ea(c){c.j.G==0||c.J||nT(c.j,c)}function li(c){Yp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,vw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Jp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Zp(f.h,c))){if(!c.K&&Zp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Ju(f),Qu(f);else break e;ng(f),Tt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=va(m(f.Za,f),6e3));if(1>=xw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else hi(f,11)}else if((c.K||f.g==c)&&Ju(f),!X(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let pt=ge[3];pt!=null&&(f.la=pt,f.j.info("VER="+f.la));let gt=ge[4];gt!=null&&(f.Aa=gt,f.j.info("SVER="+f.Aa));let Io=ge[5];Io!=null&&typeof Io=="number"&&0<Io&&(g=1.5*Io,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let hn=c.g;if(hn){let Xu=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var S=g.h;S.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Xp(S,S.h),S.h=null))}if(g.D){let ig=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ig&&(g.ya=ig,Se(g.I,g.D,ig))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=oT(g,g.J?g.ia:null,g.W),O.K){Ow(g.h,O);var be=O,ct=g.L;ct&&(be.I=ct),be.B&&(Yp(be),Hu(be)),g.g=O}else eT(g);0<f.i.length&&Yu(f)}else ge[0]!="stop"&&ge[0]!="close"||hi(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?hi(f,7):tg(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}ya(4)}catch{}}var lx=class{constructor(c,d){this.g=c,this.map=d}};function Mw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xw(c){return c.h?1:c.g?c.g.size:0}function Zp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Xp(c,d){c.g?c.g.add(d):c.h=d}function Ow(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Mw.prototype.cancel=function(){if(this.i=kw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function kw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function dx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function hx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Fw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=hx(c),g=dx(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var Lw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof di){this.h=c.h,qu(this,c.j),this.o=c.o,this.g=c.g,zu(this,c.s),this.l=c.l;var d=c.i,f=new Ta;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Vw(this,f),this.m=c.m}else c&&(d=String(c).match(Lw))?(this.h=!1,qu(this,d[1]||"",!0),this.o=Ia(d[2]||""),this.g=Ia(d[3]||"",!0),zu(this,d[4]),this.l=Ia(d[5]||"",!0),Vw(this,d[6]||"",!0),this.m=Ia(d[7]||"")):(this.h=!1,this.i=new Ta(null,this.h))}di.prototype.toString=function(){var c=[],d=this.j;d&&c.push(wa(d,jw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(wa(d,jw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(wa(f,f.charAt(0)=="/"?mx:gx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",wa(f,vx)),c.join("")};function Zn(c){return new di(c)}function qu(c,d,f){c.j=f?Ia(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function zu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Vw(c,d,f){d instanceof Ta?(c.i=d,_x(c.i,c.h)):(f||(d=wa(d,yx)),c.i=new Ta(d,c.h))}function Se(c,d,f){c.i.set(d,f)}function Gu(c){return Se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ia(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,px),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function px(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var jw=/[#\/\?@]/g,gx=/[#\?:]/g,mx=/[#\?]/g,yx=/[#\?@]/g,vx=/#/g;function Ta(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Rr(c){c.g||(c.g=new Map,c.h=0,c.i&&fx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ta.prototype,t.add=function(c,d){Rr(this),this.i=null,c=_o(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Uw(c,d){Rr(c),d=_o(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Bw(c,d){return Rr(c),d=_o(c,d),c.g.has(d)}t.forEach=function(c,d){Rr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},t.na=function(){Rr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},t.V=function(c){Rr(this);let d=[];if(typeof c=="string")Bw(this,c)&&(d=d.concat(this.g.get(_o(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Rr(this),this.i=null,c=_o(this,c),Bw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function $w(c,d,f){Uw(c,d),0<f.length&&(c.i=null,c.g.set(_o(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=S;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function _o(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function _x(c,d){d&&!c.j&&(Rr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(Uw(this,g),$w(this,b,f))},c)),c.j=d}function Ex(c,d){let f=new _a;if(a.Image){let g=new Image;g.onload=y(Nr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Nr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Nr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Nr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function Ix(c,d){let f=new _a,g=new AbortController,b=setTimeout(()=>{g.abort(),Nr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?Nr(f,"TestPingServer: ok",!0,d):Nr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Nr(f,"TestPingServer: error",!1,d)})}function Nr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function wx(){this.g=new ix}function Tx(c,d,f){let g=f||"";try{Fw(c,function(b,S){let O=b;l(b)&&(O=Hp(b)),d.push(g+S+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function ba(c){this.l=c.Ub||null,this.j=c.eb||!1}D(ba,qp),ba.prototype.g=function(){return new Wu(this.l,this.j)},ba.prototype.i=(function(c){return function(){return c}})({});function Wu(c,d){ft.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Wu,ft),t=Wu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ca(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Da(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Da(this):Ca(this),this.readyState==3&&Hw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Da(this))},t.Qa=function(c){this.g&&(this.response=c,Da(this))},t.ga=function(){this.g&&Da(this)};function Da(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ca(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ca(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qw(c){let d="";return Te(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function eg(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=qw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Se(c,d,f))}function Me(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Me,ft);var bx=/^https?$/i,Dx=["POST","PUT"];t=Me.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wp.g(),this.v=this.o?_w(this.o):_w(Wp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){zw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Dx,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){zw(this,S)}};function zw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Gw(c),Ku(c)}function Gw(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),Ku(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ku(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ww(this):this.bb())},t.bb=function(){Ww(this)};function Ww(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Xn(c)!=4||c.Z()!=2)){if(c.u&&Xn(c)==4)gw(c.Ea,0,c);else if(wt(c,"readystatechange"),Xn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(Lw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!bx.test(b?b.toLowerCase():"")}f=g}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var S=2<Xn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",Gw(c)}}finally{Ku(c)}}}}function Ku(c,d){if(c.g){Kw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Kw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),rx(d)}};function Qw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Cx(c){let d={};c=(c.g&&2<=Xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(X(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Yw(c){this.Aa=0,this.i=[],this.j=new _a,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,c),this.cb=Sa("retryDelaySeedMs",1e4,c),this.Wa=Sa("forwardChannelMaxRetries",2,c),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mw(c&&c.concurrentRequestLimit),this.Da=new wx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Yw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Tt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=oT(this,null,this.W),Yu(this)};function tg(c){if(Jw(c),c.G==3){var d=c.U++,f=Zn(c.I);if(Se(f,"SID",c.K),Se(f,"RID",d),Se(f,"TYPE","terminate"),Aa(c,f),d=new Ar(c,c.j,d),d.L=2,d.v=Gu(Zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=sT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Hu(d)}iT(c)}function Qu(c){c.g&&(rg(c),c.g.cancel(),c.g=null)}function Jw(c){Qu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ju(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Yu(c){if(!Pw(c.h)&&!c.s){c.s=!0;var d=c.Ga;da||uw(),ha||(da(),ha=!0),Op.add(d,c),c.B=0}}function Sx(c,d){return xw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=va(m(c.Ga,c,d),rT(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Ar(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Xw(this,b,d),f=Zn(this.I),Se(f,"RID",c),Se(f,"CVER",22),this.D&&Se(f,"X-HTTP-Session-Id",this.D),Aa(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(qw(S)))+"&"+d:this.m&&eg(f,this.m,S)),Xp(this.h,b),this.Ua&&Se(f,"TYPE","init"),this.P?(Se(f,"$req",d),Se(f,"SID","null"),b.T=!0,Qp(b,f,null)):Qp(b,f,d),this.G=2}}else this.G==3&&(c?Zw(this,c):this.i.length==0||Pw(this.h)||Zw(this))};function Zw(c,d){var f;d?f=d.l:f=c.U++;let g=Zn(c.I);Se(g,"SID",c.K),Se(g,"RID",f),Se(g,"AID",c.T),Aa(c,g),c.m&&c.o&&eg(g,c.m,c.o),f=new Ar(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Xw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xp(c.h,f),Qp(f,g,d)}function Aa(c,d){c.H&&Te(c.H,function(f,g){Se(d,g,f)}),c.l&&Fw({},function(f,g){Se(d,g,f)})}function Xw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let be=!0;for(let ct=0;ct<f;ct++){let ge=b[ct].g,pt=b[ct].map;if(ge-=S,0>ge)S=Math.max(0,b[ct].g-100),be=!1;else try{Tx(pt,O,"req"+ge+"_")}catch{g&&g(pt)}}if(be){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function eT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;da||uw(),ha||(da(),ha=!0),Op.add(d,c),c.v=0}}function ng(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=va(m(c.Fa,c),rT(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,tT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=va(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Qu(this),tT(this))};function rg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function tT(c){c.g=new Ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Zn(c.qa);Se(d,"RID","rpc"),Se(d,"SID",c.K),Se(d,"AID",c.T),Se(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Se(d,"TO",c.ja),Se(d,"TYPE","xmlhttp"),Aa(c,d),c.m&&c.o&&eg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Gu(Zn(d)),f.m=null,f.P=!0,Aw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Qu(this),ng(this),Tt(19))};function Ju(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function nT(c,d){var f=null;if(c.g==d){Ju(c),rg(c),c.g=null;var g=2}else if(Zp(c.h,d))f=d.D,Ow(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Uu(),wt(g,new bw(g,f)),Yu(c)}else eT(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&Sx(c,d)||g==2&&ng(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:hi(c,5);break;case 4:hi(c,10);break;case 3:hi(c,6);break;default:hi(c,2)}}}function rT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function hi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new di(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||qu(g,"https"),Gu(g),b?Ex(g.toString(),f):Ix(g.toString(),f)}else Tt(2);c.G=0,c.l&&c.l.sa(d),iT(c),Jw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function iT(c){if(c.G=0,c.ka=[],c.l){let d=kw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function oT(c,d,f){var g=f instanceof di?Zn(f):new di(f);if(g.g!="")d&&(g.g=d+"."+g.g),zu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new di(null);g&&qu(S,g),d&&(S.g=d),b&&zu(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Se(g,f,d),Se(g,"VER",c.la),Aa(c,g),g}function sT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new ba({eb:f})):new Me(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aT(){}t=aT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zu(){}Zu.prototype.g=function(c,d){return new Ut(c,d)};function Ut(c,d){ft.call(this),this.g=new Yw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!X(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Eo(this)}D(Ut,ft),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){tg(this.g)},Ut.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Hp(c),c=f);d.i.push(new lx(d.Ya++,c)),d.G==3&&Yu(d)},Ut.prototype.N=function(){this.g.l=null,delete this.j,tg(this.g),delete this.g,Ut.aa.N.call(this)};function cT(c){zp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(cT,zp);function uT(){Gp.call(this),this.status=1}D(uT,Gp);function Eo(c){this.g=c}D(Eo,aT),Eo.prototype.ua=function(){wt(this.g,"a")},Eo.prototype.ta=function(c){wt(this.g,new cT(c))},Eo.prototype.sa=function(c){wt(this.g,new uT)},Eo.prototype.ra=function(){wt(this.g,"b")},Zu.prototype.createWebChannel=Zu.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Z_=Ir.createWebChannelTransport=function(){return new Zu},J_=Ir.getStatEventTarget=function(){return Uu()},Y_=Ir.Event=ui,wf=Ir.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bu.NO_ERROR=0,Bu.TIMEOUT=8,Bu.HTTP_ERROR=6,su=Ir.ErrorCode=Bu,Dw.COMPLETE="complete",Q_=Ir.EventType=Dw,Ew.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ms=Ir.WebChannel=Ew,P4=Ir.FetchXmlHttpFactory=ba,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,K_=Ir.XhrIo=Me}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});var nN="@firebase/firestore",rN="4.8.0";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var ra="11.10.0";var go=new qn("@firebase/firestore");function Ps(){return go.logLevel}function B(t,...e){if(go.logLevel<=ce.DEBUG){let n=e.map(PI);go.debug(`Firestore (${ra}): ${t}`,...n)}}function Tr(t,...e){if(go.logLevel<=ce.ERROR){let n=e.map(PI);go.error(`Firestore (${ra}): ${t}`,...n)}}function ii(t,...e){if(go.logLevel<=ce.WARN){let n=e.map(PI);go.warn(`Firestore (${ra}): ${t}`,...n)}}function PI(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,KN(t,r,n)}function KN(t,e,n){let r=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tr(r),new Error(r)}function Ne(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||KN(e,i,r)}function fe(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ri=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Rf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},iE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},oE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},sE=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ri,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ri)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new Rf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new ot(e)}},aE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},cE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new aE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Nf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},uE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Nf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function x4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function QN(){return new TextEncoder}var Mf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=x4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function lE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=QN(),s=O4(o.encode(iN(t,n)),o.encode(iN(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function iN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function O4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var oN="__name__",Pf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):lE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}},Le=class t extends Pf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},k4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bn=class t extends Pf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return k4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oN}static keyField(){return new t([oN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};function F4(t,e,n){if(!n)throw new $(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function L4(t,e,n,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sN(t){if(G.isDocumentKey(t))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function V4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function j4(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function Cf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=j4(t);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Je(t,e){let n={typeString:t};return e&&(n.value=e),n}function Su(t,e){if(!V4(t))throw new $(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new $(k.INVALID_ARGUMENT,n);return!0}var aN=-62135596800,cN=1e6,Ot=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aN)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cN}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-aN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:Je("string",Ot._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};var re=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ot(0,0))}static max(){return new t(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fu=-1,dE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};dE.UNKNOWN_ID=-1;function U4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new mo(i,G.empty(),e)}function B4(t){return new mo(t.readTime,t.key,fu)}var mo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),G.empty(),fu)}static max(){return new t(re.max(),G.empty(),fu)}};function $4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var H4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function op(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==H4)throw t;B("LocalStore","Unexpectedly lost primary lease")}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function q4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ia(t){return t.name==="IndexedDbTransactionError"}var xI=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),z4=-1;function sp(t){return t==null}function xf(t){return t===0&&1/t==-1/0}var YN="";function G4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uN(e)),e=W4(t.get(n),e);return uN(e)}function W4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case YN:n+="";break;default:n+=o}}return n}function uN(t){return t+YN+""}var K4="remoteDocuments",JN="owner";var ZN="mutationQueues";var XN="mutations";var eM="documentMutations",Q4="remoteDocumentsV14";var tM="remoteDocumentGlobal";var nM="targets";var rM="targetDocuments";var iM="targetGlobal",oM="collectionParents";var sM="clientMetadata";var aM="bundles";var cM="namedQueries";var Y4="indexConfiguration";var J4="indexState";var Z4="indexEntries";var uM="documentOverlays";var X4="globals";var e3=[ZN,XN,eM,K4,nM,JN,iM,rM,sM,tM,oM,aM,cM],yse=[...e3,uM],t3=[ZN,XN,eM,Q4,nM,JN,iM,rM,sM,tM,oM,aM,cM,uM],n3=t3,r3=[...n3,Y4,J4,Z4];var vse=[...r3,X4];function lN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Au(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function i3(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ve=class t{constructor(e,n){this.comparator=e,this.root=n||Gn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fs(this.root,e,this.comparator,!0)}},Fs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};Gn.EMPTY=null,Gn.RED=!0,Gn.BLACK=!1;Gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var st=class t{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Of(this.data.getIterator())}getIteratorFrom(e){return new Of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Of=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var uo=class t{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new t([])}unionWith(e){let n=new st(bn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var kf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var It=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};It.EMPTY_BYTE_STRING=new It("");var o3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(Ne(!!t,39018),typeof t=="string"){let e=0,n=o3.exec(t);if(Ne(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Dr(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}var lM="server_timestamp",dM="__type__",hM="__previous_value__",fM="__local_write_time__";function OI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dM])===null||n===void 0?void 0:n.stringValue)===lM}function ap(t){let e=t.mapValue.fields[hM];return OI(e)?ap(e):e}function pu(t){let e=br(t.mapValue.fields[fM].timestampValue);return new Ot(e.seconds,e.nanos)}var fE=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Ff="(default)",Lf=class t{constructor(e,n){this.projectId=e,this.database=n||Ff}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var pM="__type__",gM="__max__",Tf={mapValue:{fields:{__type__:{stringValue:gM}}}},mM="__vector__",gu="value";function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?OI(t)?4:vM(t)?9007199254740991:yM(t)?10:11:Q(28295,{value:t})}function Qn(t,e){if(t===e)return!0;let n=oi(t);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pu(t).isEqual(pu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=br(i.timestampValue),a=br(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Dr(i.bytesValue).isEqual(Dr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?xf(s)===xf(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(lN(s)!==lN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Qn(s[u],a[u])))return!1;return!0})(t,e);default:return Q(52216,{left:t})}}function mu(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;let n=oi(t),r=oi(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return dN(t.timestampValue,e.timestampValue);case 4:return dN(pu(t),pu(e));case 5:return lE(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Dr(o),u=Dr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ae(Ae(o.latitude),Ae(s.latitude));return a!==0?a:ae(Ae(o.longitude),Ae(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[gu])===null||a===void 0?void 0:a.arrayValue,D=(u=m[gu])===null||u===void 0?void 0:u.arrayValue,N=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:hN(y,D)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Tf.mapValue&&s===Tf.mapValue)return 0;if(o===Tf.mapValue)return 1;if(s===Tf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=lE(u[p],h[p]);if(m!==0)return m;let y=Gs(a[u[p]],l[h[p]]);if(y!==0)return y}return ae(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Q(23264,{le:n})}}function dN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=br(t),r=br(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function hN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Gs(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function Ws(t){return pE(t)}function pE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=br(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Dr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return G.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=pE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${pE(n.fields[s])}`;return i+"}"})(t.mapValue):Q(61005,{value:t})}function Sf(t){switch(oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ap(t);return e?16+Sf(e):16;case 5:return 2*t.stringValue.length;case 6:return Dr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Sf(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Au(r.fields,(o,s)=>{i+=o.length+Sf(s)}),i})(t.mapValue);default:throw Q(13486,{value:t})}}function gE(t){return!!t&&"integerValue"in t}function kI(t){return!!t&&"arrayValue"in t}function fN(t){return!!t&&"nullValue"in t}function pN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function X_(t){return!!t&&"mapValue"in t}function yM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[pM])===null||n===void 0?void 0:n.stringValue)===mM}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Au(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gM}var Ese={mapValue:{fields:{[pM]:{stringValue:mM},[gu]:{arrayValue:{}}}}};var wr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!X_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=cu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());X_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];X_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Au(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(cu(this.value))}};var Dn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),wr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),wr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ks=class{constructor(e,n){this.position=e,this.inclusive=n}};function gN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=Gs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}var Qs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function s3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Vf=class{},et=class t extends Vf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yE(e,n,r):n==="array-contains"?new EE(e,r):n==="in"?new IE(e,r):n==="not-in"?new wE(e,r):n==="array-contains-any"?new TE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vE(e,r):new _E(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gs(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yn=class t extends Vf{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return _M(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function _M(t){return t.op==="and"}function EM(t){return a3(t)&&_M(t)}function a3(t){for(let e of t.filters)if(e instanceof Yn)return!1;return!0}function mE(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Ws(t.value);if(EM(t))return t.filters.map(e=>mE(e)).join(",");{let e=t.filters.map(n=>mE(n)).join(",");return`${t.op}(${e})`}}function IM(t,e){return t instanceof et?(function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)})(t,e):t instanceof Yn?(function(r,i){return i instanceof Yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&IM(s,i.filters[a]),!0):!1})(t,e):void Q(19439)}function wM(t){return t instanceof et?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ws(n.value)}`})(t):t instanceof Yn?(function(n){return n.op.toString()+" {"+n.getFilters().map(wM).join(" ,")+"}"})(t):"Filter"}var yE=class extends et{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},vE=class extends et{constructor(e,n){super(e,"in",n),this.keys=TM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},_E=class extends et{constructor(e,n){super(e,"not-in",n),this.keys=TM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function TM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var EE=class extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return kI(n)&&mu(n.arrayValue,this.value)}},IE=class extends et{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}},wE=class extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}},TE=class extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!kI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}};var bE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function yN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new bE(t,e,n,r,i,o,s)}function FI(t){let e=fe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),sp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ws(r)).join(",")),e.Pe=n}return e.Pe}function LI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!s3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mN(t.startAt,e.startAt)&&mN(t.endAt,e.endAt)}function DE(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ys=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function c3(t,e,n,r,i,o,s,a){return new Ys(t,e,n,r,i,o,s,a)}function VI(t){return new Ys(t)}function vN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function u3(t){return t.collectionGroup!==null}function uu(t){let e=fe(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new st(bn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Qs(o,r))}),n.has(bn.keyField().canonicalString())||e.Te.push(new Qs(bn.keyField(),r))}return e.Te}function Wn(t){let e=fe(t);return e.Ie||(e.Ie=l3(e,uu(t))),e.Ie}function l3(t,e){if(t.limitType==="F")return yN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Qs(i.field,o)});let n=t.endAt?new Ks(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ks(t.startAt.position,t.startAt.inclusive):null;return yN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function CE(t,e,n){return new Ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cp(t,e){return LI(Wn(t),Wn(e))&&t.limitType===e.limitType}function bM(t){return`${FI(Wn(t))}|lt:${t.limitType}`}function xs(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wM(i)).join(", ")}]`),sp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ws(i)).join(",")),`Target(${r})`})(Wn(t))}; limitType=${t.limitType})`}function up(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of uu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=gN(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,uu(r),i)||r.endAt&&!(function(s,a,u){let l=gN(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,uu(r),i))})(t,e)}function d3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DM(t){return(e,n)=>{let r=!1;for(let i of uu(t)){let o=h3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function h3(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Gs(u,l):Q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}var Cr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Au(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return i3(this.inner)}size(){return this.innerSize}};var f3=new Ve(G.comparator);function si(){return f3}var CM=new Ve(G.comparator);function au(...t){let e=CM;for(let n of t)e=e.insert(n.key,n);return e}function p3(t){let e=CM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lo(){return lu()}function SM(){return lu()}function lu(){return new Cr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Ise=new Ve(G.comparator),g3=new st(G.comparator);function pe(...t){let e=g3;for(let n of t)e=e.add(n);return e}var m3=new st(ae);function y3(){return m3}function v3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(e)?"-0":e}}function _3(t){return{integerValue:""+t}}var Js=class{constructor(){this._=void 0}};function E3(t,e,n){return t instanceof yu?(function(i,o){let s={fields:{[dM]:{stringValue:lM},[fM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&OI(o)&&(o=ap(o)),o&&(s.fields[hM]=o),{mapValue:s}})(n,e):t instanceof Zs?AM(t,e):t instanceof Xs?RM(t,e):(function(i,o){let s=w3(i,o),a=_N(s)+_N(i.Ee);return gE(s)&&gE(i.Ee)?_3(a):v3(i.serializer,a)})(t,e)}function I3(t,e,n){return t instanceof Zs?AM(t,e):t instanceof Xs?RM(t,e):n}function w3(t,e){return t instanceof vu?(function(r){return gE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var yu=class extends Js{},Zs=class extends Js{constructor(e){super(),this.elements=e}};function AM(t,e){let n=NM(e);for(let r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Xs=class extends Js{constructor(e){super(),this.elements=e}};function RM(t,e){let n=NM(e);for(let r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}var vu=class extends Js{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function _N(t){return Ae(t.integerValue||t.doubleValue)}function NM(t){return kI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function T3(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Zs&&i instanceof Zs||r instanceof Xs&&i instanceof Xs?zs(r.elements,i.elements,Qn):r instanceof vu&&i instanceof vu?Qn(r.Ee,i.Ee):r instanceof yu&&i instanceof yu})(t.transform,e.transform)}var du=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Af(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var _u=class{};function MM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SE(t.key,du.none()):new Eu(t.key,t.data,du.none());{let n=t.data,r=wr.empty(),i=new st(bn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ea(t.key,r,new uo(i.toArray()),du.none())}}function b3(t,e,n){t instanceof Eu?(function(i,o,s){let a=i.value.clone(),u=IN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof ea?(function(i,o,s){if(!Af(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=IN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(PM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function hu(t,e,n,r){return t instanceof Eu?(function(o,s,a,u){if(!Af(o.precondition,s))return a;let l=o.value.clone(),h=wN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof ea?(function(o,s,a,u){if(!Af(o.precondition,s))return a;let l=wN(o.fieldTransforms,u,s),h=s.data;return h.setAll(PM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return Af(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function EN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zs(r,i,(o,s)=>T3(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Eu=class extends _u{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ea=class extends _u{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function PM(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function IN(t,e,n){let r=new Map;Ne(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,I3(s,a,n[i]))}return r}function wN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,E3(o,s,e))}return r}var SE=class extends _u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var AE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&b3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=SM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=MM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>EN(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>EN(n,r))}};var RE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var NE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Qe,he;function xM(t){if(t===void 0)return Tr("GRPC error has no .code"),k.UNKNOWN;switch(t){case Qe.OK:return k.OK;case Qe.CANCELLED:return k.CANCELLED;case Qe.UNKNOWN:return k.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return k.INTERNAL;case Qe.UNAVAILABLE:return k.UNAVAILABLE;case Qe.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Qe.NOT_FOUND:return k.NOT_FOUND;case Qe.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Qe.ABORTED:return k.ABORTED;case Qe.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Qe.DATA_LOSS:return k.DATA_LOSS;default:return Q(39323,{code:t})}}(he=Qe||(Qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var TN=null;var D3=new Er([4294967295,4294967295],0);function bN(t){let e=QN().encode(t),n=new W_;return n.update(e),new Uint8Array(n.digest())}function DN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Er([n,r],0),new Er([i,o],0)]}var ME=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ho(`Invalid padding: ${n}`);if(r<0)throw new ho(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ho(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Er.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Er.fromNumber(r)));return i.compare(D3)===1&&(i=new Er([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=bN(e),[r,i]=DN(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=bN(e),[r,i]=DN(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ho=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var jf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new Ve(ae),si(),pe())}},Iu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,pe(),pe(),pe())}};var Ls=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Uf=class{constructor(e,n){this.targetId=e,this.De=n}},Bf=class{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},$f=class{constructor(){this.ve=0,this.Ce=CN(),this.Fe=It.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=pe(),n=pe(),r=pe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new Iu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=CN()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},PE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=si(),this.je=bf(),this.Je=bf(),this.He=new Ve(ae)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(DE(o))if(r===0){let s=new G(o.path);this.Xe(n,s,Dn.newNoDocument(s,re.min()))}else Ne(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}TN?.ct((function(h,p,m,y,D){var N,R,L,X,Y,me;let at={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Te=p.unchangedNames;return Te&&(at.bloomFilter={applied:D===0,hashCount:(N=Te?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(X=(L=(R=Te?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&X!==void 0?X:0,padding:(me=(Y=Te?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&me!==void 0?me:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),at})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Dr(r).toUint8Array()}catch(u){if(u instanceof kf)return ii("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new ME(s,i,o)}catch(u){return ii(u instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&DE(a.target)){let u=new G(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Dn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=pe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new jf(e,n,this.He,this.ze,r);return this.ze=si(),this.je=bf(),this.Je=bf(),this.He=new Ve(ae),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new $f,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new st(ae),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new st(ae),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new $f),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function bf(){return new Ve(G.comparator)}function CN(){return new Ve(G.comparator)}var C3={asc:"ASCENDING",desc:"DESCENDING"},S3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A3={and:"AND",or:"OR"},xE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function OE(t,e){return t.useProto3Json||sp(e)?e:{value:e}}function R3(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vs(t){return Ne(!!t,49232),re.fromTimestamp((function(n){let r=br(n);return new Ot(r.seconds,r.nanos)})(t))}function M3(t,e){return kE(t,e).canonicalString()}function kE(t,e){let n=(function(i){return new Le(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function OM(t){let e=Le.fromString(t);return Ne(jM(e),10190,{key:e.toString()}),e}function eE(t,e){let n=OM(e);if(n.get(1)!==t.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(FM(n))}function kM(t,e){return M3(t.databaseId,e)}function P3(t){let e=OM(t);return e.length===4?Le.emptyPath():FM(e)}function SN(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FM(t){return Ne(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function x3(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ne(h===void 0||typeof h=="string",58123),It.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),It.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?k.UNKNOWN:xM(l.code);return new $(h,l.message||"")})(s);n=new Bf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=eE(t,r.document.name),o=Vs(r.document.updateTime),s=r.document.createTime?Vs(r.document.createTime):re.min(),a=new wr({mapValue:{fields:r.document.fields}}),u=Dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ls(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=eE(t,r.document),o=r.readTime?Vs(r.readTime):re.min(),s=Dn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ls([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=eE(t,r.document),o=r.removedTargetIds||[];n=new Ls([],o,i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new NE(i,o),a=r.targetId;n=new Uf(a,s)}}return n}function O3(t,e){return{documents:[kM(t,e.path)]}}function k3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kM(t,i);let o=(function(l){if(l.length!==0)return VM(Yn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Os(m.field),direction:V3(m.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=OE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function F3(t){let e=P3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ne(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=LM(p);return m instanceof Yn&&EM(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(D){return new Qs(ks(D.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,sp(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ks(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ks(y,m)})(n.endAt)),c3(e,i,s,o,a,"F",u,l)}function L3(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LM(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ks(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ks(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ks(n.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ks(n.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return et.create(ks(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Yn.create(n.compositeFilter.filters.map(r=>LM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}})(n.compositeFilter.op))})(t):Q(30097,{filter:t})}function V3(t){return C3[t]}function j3(t){return S3[t]}function U3(t){return A3[t]}function Os(t){return{fieldPath:t.canonicalString()}}function ks(t){return bn.fromServerFormat(t.fieldPath)}function VM(t){return t instanceof et?(function(n){if(n.op==="=="){if(pN(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(fN(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pN(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(fN(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:j3(n.op),value:n.value}}})(t):t instanceof Yn?(function(n){let r=n.getFilters().map(i=>VM(i));return r.length===1?r[0]:{compositeFilter:{op:U3(n.op),filters:r}}})(t):Q(54877,{filter:t})}function jM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var wu=class t{constructor(e,n,r,i,o=re.min(),s=re.min(),a=It.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var FE=class{constructor(e){this.gt=e}};function B3(t){let e=F3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?CE(e,e.limit,"L"):e}var Hf=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),xf(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=br(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Dr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?vM(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):yM(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Q(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=gu,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Ae(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),G.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Hf.Ut=new Hf;var LE=class{constructor(){this.Dn=new VE}addToCollectionParentIndex(e,n){return this.Dn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(mo.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},VE=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new st(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new st(Le.comparator)).toArray()}};var wse=new Uint8Array(0);var AN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UM=41943040,ln=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(UM,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var Tu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var RN="LruGarbageCollector",$3=1048576;function NN([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var jE=class{constructor(e){this.Tr=e,this.buffer=new st(NN),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();NN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},UE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){B(RN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ia(n)?B(RN,"Ignoring IndexedDB error during garbage collection: ",n):await op(n)}await this.Rr(3e5)})}},BE=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(xI.ue);let r=new jE(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(AN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AN):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ps()<=ce.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function H3(t,e){return new BE(t,e)}var $E=class{constructor(){this.changes=new Cr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var HE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var qE=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hu(r.mutation,i,uo.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){let i=lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=au();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=si(),s=lu(),a=(function(){return lu()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ea)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),hu(h.mutation,l,h.mutation.getFieldMask(),Ot.now())):s.set(l.key,uo.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new HE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=lu(),i=new Ve((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||uo.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=SM();h.forEach(m=>{if(!o.has(m)){let y=MM(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):u3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(lo()),a=fu,u=o;return s.next(l=>M.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,pe())).next(h=>({batchId:a,changes:p3(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=au();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{let l=(function(p,m){return new Ys(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Dn.newInvalidDocument(h)))});let a=au();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&hu(h.mutation,l,uo.empty(),Ot.now()),up(n,l)&&(a=a.insert(u,l))}),a})}};var zE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return M.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Vs(i.createTime)}})(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:B3(i.bundledQuery),readTime:Vs(i.readTime)}})(n)),M.resolve()}};var GE=class{constructor(){this.overlays=new Ve(G.comparator),this.kr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=lo();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=lo(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=lo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=lo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return M.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new RE(n,r));let o=this.kr.get(n);o===void 0&&(o=pe(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var WE=class{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var bu=class{constructor(){this.qr=new st(Ye.Qr),this.$r=new st(Ye.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ye(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ye(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new G(new Le([])),r=new Ye(n,e),i=new Ye(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new G(new Le([])),r=new Ye(n,e),i=new Ye(n,e+1),o=pe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ye(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ye=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return G.comparator(e.key,n.key)||ae(e.Hr,n.Hr)}static Ur(e,n){return ae(e.Hr,n.Hr)||G.comparator(e.key,n.key)}};var KE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new st(Ye.Qr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new AE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ye(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?z4:this.er-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ye(n,0),i=new Ye(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(ae);return n.forEach(i=>{let o=new Ye(i,0),s=new Ye(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),M.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Ye(new G(o),0),a=new st(ae);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),M.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return M.forEach(n.mutations,i=>{let o=new Ye(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ye(n,0),i=this.Yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var QE=class{constructor(e){this.ni=e,this.docs=(function(){return new Ve(G.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dn.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=si(),s=n.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||$4(B4(h),r)<=0||(i.has(h.key)||up(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ri(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YE(this)}getSize(e){return M.resolve(this.size)}},YE=class extends $E{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var JE=class{constructor(e){this.persistence=e,this.ii=new Cr(n=>FI(n),LI),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new bu,this.targetCount=0,this._i=Tu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),M.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Tu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.hr(n),M.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.oi.containsKey(n))}};var qf=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new xI(0),this.ci=!1,this.ci=!0,this.li=new WE,this.referenceDelegate=e(this),this.hi=new JE(this),this.indexManager=new LE,this.remoteDocumentCache=(function(i){return new QE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new FE(n),this.Ti=new zE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new KE(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new ZE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return M.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},ZE=class extends hE{constructor(e){super(),this.currentSequenceNumber=e}},XE=class t{constructor(e){this.persistence=e,this.Ai=new bu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.mi,r=>{let i=G.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return M.or([()=>M.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},zf=class t{constructor(e,n){this.persistence=e,this.gi=new Cr(r=>G4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=H3(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return M.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),M.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sf(e.data.value)),n}Sr(e,n,r){return M.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var eI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=pe(),i=pe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var tI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var nI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return oR()?8:q4(Xt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new tI;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(Ps()<=ce.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),M.resolve()):(Ps()<=ce.DEBUG&&B("QueryEngine","Query:",xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ps()<=ce.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):M.resolve())}ps(e,n){if(vN(n))return M.resolve(null);let r=Wn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=CE(n,null,"F"),r=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=pe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,CE(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return vN(n)||i.isEqual(re.min())?M.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?M.resolve(null):(Ps()<=ce.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xs(n)),this.vs(e,s,n,U4(i,fu)).next(a=>a))})}bs(e,n){let r=new st(DM(e));return n.forEach((i,o)=>{up(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return Ps()<=ce.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",xs(n)),this.gs.getDocumentsMatchingQuery(e,n,mo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var jI="LocalStore",q3=3e8,rI=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ve(ae),this.Ms=new Cr(o=>FI(o),LI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function z3(t,e,n,r){return new rI(t,e,n,r)}async function BM(t,e){let n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=pe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function $M(t){let e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function G3(t,e){let n=fe(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(It.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(N,R,L){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=q3?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=si(),l=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(W3(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(re.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function W3(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=si();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(jI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function K3(t,e){let n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new wu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function iI(t,e,n){let r=fe(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ia(s))throw s;B(jI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function MN(t,e,n){let r=fe(t),i=re.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=fe(u),m=p.Ms.get(h);return m!==void 0?M.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:pe())).next(a=>(Q3(r,d3(e),a),{documents:a,qs:o})))}function Q3(t,e,n){let r=t.xs.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Gf=class{constructor(){this.activeTargetIds=y3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var oI=class{constructor(){this.Fo=new Gf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Gf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var sI=class{xo(e){}shutdown(){}};var PN="ConnectivityMonitor",Wf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){B(PN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){B(PN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Df=null;function aI(){return Df===null?Df=(function(){return 268435456+Math.round(2147483648*Math.random())})():Df++,"0x"+Df.toString(16)}var tE="RestConnection",Y3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},cI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ff?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=aI(),a=this.Go(e,n.toUriEncodedString());B(tE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Xi(l);return this.jo(e,a,u,r,h).then(p=>(B(tE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ii(tE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ra})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=Y3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var uI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Et="WebChannelConnection",lI=class extends cI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=aI();return new Promise((a,u)=>{let l=new K_;l.setWithCredentials(!0),l.listenOnce(Q_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case su.NO_ERROR:let p=l.getResponseJson();B(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case su.TIMEOUT:B(Et,`RPC '${e}' ${s} timed out`),u(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:let m=l.getStatus();if(B(Et,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let D=y?.error;if(D&&D.status&&D.message){let N=(function(L){let X=L.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(X)>=0?X:k.UNKNOWN})(D.status);u(new $(N,D.message))}else u(new $(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(k.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{B(Et,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(Et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=aI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Z_(),a=J_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(Et,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,D=new uI({Ho:R=>{y?B(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(B(Et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),B(Et,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,L,X)=>{R.listen(L,Y=>{try{X(Y)}catch(me){setTimeout(()=>{throw me},0)}})};return N(p,Ms.EventType.OPEN,()=>{y||(B(Et,`RPC '${e}' stream ${i} transport opened.`),D.s_())}),N(p,Ms.EventType.CLOSE,()=>{y||(y=!0,B(Et,`RPC '${e}' stream ${i} transport closed`),D.__(),this.I_(p))}),N(p,Ms.EventType.ERROR,R=>{y||(y=!0,ii(Et,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),D.__(new $(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,Ms.EventType.MESSAGE,R=>{var L;if(!y){let X=R.data[0];Ne(!!X,16349);let Y=X,me=Y?.error||((L=Y[0])===null||L===void 0?void 0:L.error);if(me){B(Et,`RPC '${e}' stream ${i} received error:`,me);let at=me.status,Te=(function(E){let I=Qe[E];if(I!==void 0)return xM(I)})(at),w=me.message;Te===void 0&&(Te=k.INTERNAL,w="Unknown error status: "+at+" with message "+me.message),y=!0,D.__(new $(Te,w)),p.close()}else B(Et,`RPC '${e}' stream ${i} received:`,X),D.a_(X)}}),N(a,Y_.STAT_EVENT,R=>{R.stat===wf.PROXY?B(Et,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===wf.NOPROXY&&B(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.o_()},0),D}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function nE(){return typeof document<"u"?document:null}function HM(t){return new xE(t,!0)}var Kf=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var xN="PersistentStream",dI=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Kf(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return B(xN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(B(xN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},hI=class extends dI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=x3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Vs(s.readTime):re.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=SN(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=DE(u)?{documents:O3(o,u)}:{query:k3(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=N3(o,s.resumeToken);let l=OE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=R3(o,s.snapshotVersion.toTimestamp());let l=OE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=L3(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=SN(this.serializer),n.removeTarget=e,this.k_(n)}};var fI=class{},pI=class extends fI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,kE(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(k.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,kE(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},gI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Tr(n),this._a=!1):B("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ta="RemoteStore",mI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Nu(this)&&(B(ta,"Restarting streams for network reachability change."),await(async function(u){let l=fe(u);l.Ia.add(4),await Ru(l),l.Aa.set("Unknown"),l.Ia.delete(4),await lp(l)})(this))})}),this.Aa=new gI(r,i)}};async function lp(t){if(Nu(t))for(let e of t.da)await e(!0)}async function Ru(t){for(let e of t.da)await e(!1)}function qM(t,e){let n=fe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),HI(n)?$I(n):oa(n).x_()&&BI(n,e))}function UI(t,e){let n=fe(t),r=oa(n);n.Ta.delete(e),r.x_()&&zM(n,e),n.Ta.size===0&&(r.x_()?r.B_():Nu(n)&&n.Aa.set("Unknown"))}function BI(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oa(t).H_(e)}function zM(t,e){t.Ra.$e(e),oa(t).Y_(e)}function $I(t){t.Ra=new PE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),oa(t).start(),t.Aa.aa()}function HI(t){return Nu(t)&&!oa(t).M_()&&t.Ta.size>0}function Nu(t){return fe(t).Ia.size===0}function GM(t){t.Ra=void 0}async function J3(t){t.Aa.set("Online")}async function Z3(t){t.Ta.forEach((e,n)=>{BI(t,e)})}async function X3(t,e){GM(t),HI(t)?(t.Aa.la(e),$I(t)):t.Aa.set("Unknown")}async function eq(t,e,n){if(t.Aa.set("Online"),e instanceof Bf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(t,e)}catch(r){B(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ON(t,r)}else if(e instanceof Ls?t.Ra.Ye(e):e instanceof Uf?t.Ra.it(e):t.Ra.et(e),!n.isEqual(re.min()))try{let r=await $M(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),zM(o,u);let p=new wu(h.target,u,l,h.sequenceNumber);BI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){B(ta,"Failed to raise snapshot:",r),await ON(t,r)}}async function ON(t,e,n){if(!ia(e))throw e;t.Ia.add(1),await Ru(t),t.Aa.set("Offline"),n||(n=()=>$M(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B(ta,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await lp(t)})}async function kN(t,e){let n=fe(t);n.asyncQueue.verifyOperationInProgress(),B(ta,"RemoteStore received new credentials");let r=Nu(n);n.Ia.add(3),await Ru(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await lp(n)}async function tq(t,e){let n=fe(t);e?(n.Ia.delete(2),await lp(n)):e||(n.Ia.add(2),await Ru(n),n.Aa.set("Unknown"))}function oa(t){return t.Va||(t.Va=(function(n,r,i){let o=fe(n);return o.ia(),new hI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:J3.bind(null,t),e_:Z3.bind(null,t),n_:X3.bind(null,t),J_:eq.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),HI(t)?$I(t):t.Aa.set("Unknown")):(await t.Va.stop(),GM(t))})),t.Va}var yI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function WM(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),ia(t))return new $(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Qf=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=au(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Yf=class{constructor(){this.fa=new Ve(G.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},na=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Qf.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var vI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},_I=class{constructor(){this.queries=FN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=fe(n),o=i.queries;i.queries=FN(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new $(k.ABORTED,"Firestore shutting down"))}};function FN(){return new Cr(t=>bM(t),cp)}async function nq(t,e){let n=fe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new vI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=WM(s,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&qI(n)}async function rq(t,e){let n=fe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iq(t,e){let n=fe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&qI(n)}function oq(t,e,n){let r=fe(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function qI(t){t.Da.forEach(e=>{e.next()})}var EI,LN;(LN=EI||(EI={})).Fa="default",LN.Cache="cache";var II=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==EI.Cache}};var Jf=class{constructor(e){this.key=e}},Zf=class{constructor(e){this.key=e}},wI=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=pe(),this.mutatedKeys=pe(),this.Xa=DM(e),this.eu=new Qf(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Yf,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=up(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?D!==N&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,D){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:R})}};return N(y)-N(D)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new na(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Yf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=pe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Zf(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Jf(r))}),n}uu(e){this.Ha=e.qs,this.Za=pe();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return na.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},zI="SyncEngine",TI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},bI=class{constructor(e){this.key=e,this.lu=!1}},DI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Cr(a=>bM(a),cp),this.Tu=new Map,this.Iu=new Set,this.du=new Ve(G.comparator),this.Eu=new Map,this.Au=new bu,this.Ru={},this.Vu=new Map,this.mu=Tu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function sq(t,e,n=!0){let r=ZM(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await KM(r,e,n,!0),i}async function aq(t,e){let n=ZM(t);await KM(n,e,!0,!1)}async function KM(t,e,n,r){let i=await K3(t.localStore,Wn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await cq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&qM(t.remoteStore,i),a}async function cq(t,e,n,r,i){t.gu=(p,m,y)=>(async function(N,R,L,X){let Y=R.view.nu(L);Y.Ds&&(Y=await MN(N.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Y)));let me=X&&X.targetChanges.get(R.targetId),at=X&&X.targetMismatches.get(R.targetId)!=null,Te=R.view.applyChanges(Y,N.isPrimaryClient,me,at);return jN(N,R.targetId,Te._u),Te.snapshot})(t,p,m,y);let o=await MN(t.localStore,e,!0),s=new wI(e,o.qs),a=s.nu(o.documents),u=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);jN(t,n,l._u);let h=new TI(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function uq(t,e,n){let r=fe(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!cp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await iI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&UI(r.remoteStore,i.targetId),CI(r,i.targetId)}).catch(op)):(CI(r,i.targetId),await iI(r.localStore,i.targetId,!0))}async function lq(t,e){let n=fe(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),UI(n.remoteStore,r.targetId))}async function QM(t,e){let n=fe(t);try{let r=await G3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ne(s.lu,14607):i.removedDocuments.size>0&&(Ne(s.lu,42227),s.lu=!1))}),await JM(n,r,e)}catch(r){await op(r)}}function VN(t,e,n){let r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=fe(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&qI(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dq(t,e,n){let r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ve(G.comparator);s=s.insert(o,Dn.newNoDocument(o,re.min()));let a=pe().add(o),u=new jf(re.min(),new Map,new Ve(ae),s,a);await QM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),GI(r)}else await iI(r.localStore,e,!1).then(()=>CI(r,e,n)).catch(op)}function CI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||YM(t,r)})}function YM(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(UI(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),GI(t))}function jN(t,e,n){for(let r of n)r instanceof Jf?(t.Au.addReference(r.key,e),hq(t,r)):r instanceof Zf?(B(zI,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||YM(t,r.key)):Q(19791,{yu:r})}function hq(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(B(zI,"New document in limbo: "+n),t.Iu.add(r),GI(t))}function GI(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new G(Le.fromString(e)),r=t.mu.next();t.Eu.set(r,new bI(n)),t.du=t.du.insert(n,r),qM(t.remoteStore,new wu(Wn(VI(n.path)),r,"TargetPurposeLimboResolution",xI.ue))}}async function JM(t,e,n){let r=fe(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=eI.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=fe(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>M.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ia(p))throw p;B(jI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),D=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(D);h.Fs=h.Fs.insert(m,N)}}})(r.localStore,o))}async function fq(t,e){let n=fe(t);if(!n.currentUser.isEqual(e)){B(zI,"User change. New user:",e.toKey());let r=await BM(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new $(k.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await JM(n,r.Bs)}}function pq(t,e){let n=fe(t),r=n.Eu.get(e);if(r&&r.lu)return pe().add(r.key);{let i=pe(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function ZM(t){let e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dq.bind(null,e),e.hu.J_=iq.bind(null,e.eventManager),e.hu.pu=oq.bind(null,e.eventManager),e}var XM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=HM(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return z3(this.persistence,new nI,n.initialUser,this.serializer)}Du(n){return new qf(XE.Vi,this.serializer)}bu(n){return new oI}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),SI=class extends XM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ne(this.persistence.referenceDelegate instanceof zf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new UE(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new qf(r=>zf.Vi(r,n),this.serializer)}};var gq=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fq.bind(null,this.syncEngine),await tq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new _I})()}createDatastore(n){let r=HM(n.databaseInfo.databaseId),i=(function(s){return new lI(s)})(n.databaseInfo);return(function(s,a,u,l){return new pI(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new mI(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>VN(this.syncEngine,r,0),(function(){return Wf.C()?new Wf:new sI})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let m=new DI(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=fe(o);B(ta,"RemoteStore shutting down."),s.Ia.add(5),await Ru(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var AI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var ai="FirestoreClient",RI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=Mf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{B(ai,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B(ai,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=WM(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function rE(t,e){t.asyncQueue.verifyOperationInProgress(),B(ai,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ii("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{B("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ii("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function UN(t,e){t.asyncQueue.verifyOperationInProgress();let n=await mq(t);B(ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kN(e.remoteStore,i)),t._onlineComponents=e}async function mq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B(ai,"Using user provided OfflineComponentProvider");try{await rE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ii("Error using user provided cache. Falling back to memory cache: "+n),await rE(t,new XM)}}else B(ai,"Using default OfflineComponentProvider"),await rE(t,new SI(void 0));return t._offlineComponents}async function yq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B(ai,"Using user provided OnlineComponentProvider"),await UN(t,t._uninitializedComponentsProvider._online)):(B(ai,"Using default OnlineComponentProvider"),await UN(t,new gq))),t._onlineComponents}async function BN(t){let e=await yq(t),n=e.eventManager;return n.onListen=sq.bind(null,e.syncEngine),n.onUnlisten=uq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lq.bind(null,e.syncEngine),n}function eP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var $N=new Map;var tP="firestore.googleapis.com",HN=!0,Xf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tP,this.ssl=HN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$3)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Du=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new iE;switch(r.type){case"firstParty":return new cE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=$N.get(n);r&&(B("ComponentProvider","Removing Datastore"),$N.delete(n),r.terminate())})(this),Promise.resolve()}};function nP(t,e,n,r={}){var i;t=Cf(t,Du);let o=Xi(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(c_(`https://${u}`),u_("Firestore",!0)),s.host!==tP&&s.host!==u&&ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!eo(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ot.MOCK_USER;else{h=eR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ot(m)}t._authCredentials=new oE(new Rf(h,p))}}var ep=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Kn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Su(n,t._jsonSchema))return new t(e,r||null,new G(Le.fromString(n.referencePath)))}};Kn._jsonSchemaVersion="firestore/documentReference/1.0",Kn._jsonSchema={type:Je("string",Kn._jsonSchemaVersion),referencePath:Je("string")};var js=class t extends ep{constructor(e,n,r){super(e,n,VI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function rP(t,e,...n){if(t=yr(t),F4("collection","path",e),t instanceof Du){let r=Le.fromString(e,...n);return sN(r),new js(t,null,r)}{if(!(t instanceof Kn||t instanceof js))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return sN(r),new js(t.firestore,null,r)}}var qN="AsyncQueue",tp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Kf(this,"async_queue_retry"),this.oc=()=>{let r=nE();r&&B(qN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=nE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=nE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new ri;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ia(e))throw e;B(qN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Tr("INTERNAL UNHANDLED ERROR: ",zN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=yI.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:zN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function zN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function GN(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Cu=class extends Du{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tp,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new tp(e),this._firestoreClient=void 0,await e}}};function iP(t,e){let n=typeof t=="object"?t:As(),r=typeof t=="string"?t:e||Ff,i=nf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ZA("firestore");o&&nP(i,...o)}return i}function vq(t){if(t._terminated)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_q(t),t._firestoreClient}function _q(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new fE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,eP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new RI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var Us=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(It.fromBase64String(e))}catch(n){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Us._jsonSchemaVersion="firestore/bytes/1.0",Us._jsonSchema={type:Je("string",Us._jsonSchemaVersion),bytes:Je("string")};var np=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bs=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Su(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:Je("string",Bs._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};var $s=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new $(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:Je("string",$s._jsonSchemaVersion),vectorValues:Je("object")};var Eq=new RegExp("[~\\*/\\[\\]]");function Iq(t,e,n){if(e.search(Eq)>=0)throw WN(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new np(...e.split("."))._internalPath}catch{throw WN(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function WN(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(k.INVALID_ARGUMENT,a+t+u)}var rp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new NI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(oP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},NI=class extends rp{data(){return super.data()}};function oP(t,e){return typeof e=="string"?Iq(t,e):e instanceof np?e._internalPath:e._delegate._internalPath}function wq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var MI=class{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Au(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[gu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new $s(o)}convertGeoPoint(e){return new Bs(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ap(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){let n=br(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Le.fromString(e);Ne(jM(r),9688,{name:e});let i=new Lf(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};var fo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},po=class t extends rp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(oP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};po._jsonSchemaVersion="firestore/documentSnapshot/1.0",po._jsonSchema={type:Je("string",po._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};var Hs=class extends po{data(e={}){return super.data(e)}},qs=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hs(this._firestore,this._userDataWriter,r.key,r,new fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Hs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Tq(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Tq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:Je("string",qs._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};var ip=class extends MI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}};function WI(t,...e){var n,r,i;t=yr(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||GN(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(GN(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Kn)l=Cf(t.firestore,Cu),h=VI(t._key.path),u={next:p=>{e[s]&&e[s](bq(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Cf(t,ep);l=Cf(p.firestore,Cu),h=p._query;let m=new ip(l);u={next:y=>{e[s]&&e[s](new qs(l,m,p,y))},error:e[s+1],complete:e[s+2]},wq(t._query)}return(function(m,y,D,N){let R=new AI(N),L=new II(y,R,D);return m.asyncQueue.enqueueAndForget(async()=>nq(await BN(m),L)),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(async()=>rq(await BN(m),L))}})(vq(l),h,a,u)}function bq(t,e,n){let r=n.docs.get(e._key),i=new ip(t);return new po(t,i,e._key,r,new fo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ra=i})(Ss),wn(new xt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Cu(new sE(r.getProvider("auth-internal")),new uE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fe(nN,rN,e),Fe(nN,rN,"esm2017")})();var dp=function(){return dp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},dp.apply(this,arguments)};var Sq={includeMetadataChanges:!1};function sP(t,e){return e===void 0&&(e=Sq),new ee(function(n){var r=WI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function aP(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:dp(dp({},r),(n={},n[e.idField]=t.id,n))}function cP(t){return sP(t,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function uP(t,e){return e===void 0&&(e={}),cP(t).pipe(oe(function(n){return n.map(function(r){return aP(r,e)})}))}var yo=class{constructor(e){return e}},lP="firestore",KI=class{constructor(){return Ns(lP)}};var QI=new V("angularfire2.firestore-instances");function Aq(t,e){let n=sf(lP,t,e);return n&&new yo(n)}function Rq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new yo(r)}}var Nq={provide:KI,deps:[[new On,QI]]},Mq={provide:yo,useFactory:Aq,deps:[[new On,QI],oo]};function dP(t,...e){return Fe("angularfire",ro.full,"fst"),Ct([Mq,Nq,{provide:QI,useFactory:Rq(t),multi:!0,deps:[we,He,io,Xc,[new On,Ef],[new On,cf],...e]}])}var YI=ei(uP,!0);var JI=ei(rP,!0,2);var hP=ei(iP,!0);function xq(t,e){if(t&1&&(x(0,"div",12),_t(1,"img",13),x(2,"div",14)(3,"div",15)(4,"h3",16),U(5),F(),x(6,"p",17),U(7),F()()()()),t&2){let n=e.$implicit;We(),Vn("src",n.Imagen,pc)("alt",n.nombre),We(4),fr(n.nombre),We(2),fr(n.Contenido)}}function Oq(t,e){if(t&1&&(x(0,"div",18),_t(1,"img",13),x(2,"h3",19),U(3),F(),x(4,"p",20),U(5),F()()),t&2){let n=e.$implicit;We(),Vn("src",n.Imagen,pc)("alt",n.nombre),We(2),fr(n.Nombre),We(2),fr(n.Descripcion)}}var hp=class t{constructor(e){this.firestore=e;let n=JI(this.firestore,"info/Capturas del Juego/Galeria");this.galeria$=YI(n,{idField:"id"});let r=JI(this.firestore,"info/Capturas del Juego/Personajes");this.personajes$=YI(r,{idField:"id"}),this.galeria$.subscribe(i=>console.log("Datos de la galer\xEDa:",i)),this.personajes$.subscribe(i=>console.log("Datos de personajes:",i))}galeria$;personajes$;static \u0275fac=function(n){return new(n||t)(le(yo))};static \u0275cmp=_n({type:t,selectors:[["app-gallery"]],decls:20,vars:6,consts:[[1,"min-h-screen","bg-gradient-to-br","from-[#2E2B6F]","to-[#1a1a3a]","text-white","p-4","sm:p-6","md:p-8"],[1,"text-center","mb-12"],[1,"text-4xl","sm:text-5xl","md:text-6xl","leading-tight","md:leading-[1.15]","font-bold","mb-6","bg-gradient-to-r","from-yellow-400","to-orange-400","bg-clip-text","text-transparent","fix-heading-crop","py-2"],[1,"text-base","sm:text-lg","md:text-xl","text-gray-300","mb-8"],["routerLink","/",1,"inline-flex","items-center","gap-2","bg-white/10","hover:bg-white/20","text-white","px-4","py-2","rounded-lg","transition-all","duration-300","block","w-full","sm:w-auto","justify-center"],[1,"mb-16"],[1,"text-3xl","font-bold","mb-8","text-center"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6","sm:gap-8"],["class","group relative overflow-hidden rounded-xl border-2 border-yellow-400 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105",4,"ngFor","ngForOf"],[1,"mb-16","px-4","md:px-0"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6"],["class","bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20 text-center hover:bg-white/20 transition-all duration-300",4,"ngFor","ngForOf"],[1,"group","relative","overflow-hidden","rounded-xl","border-2","border-yellow-400","shadow-lg","hover:shadow-2xl","transition-all","duration-300","transform","hover:scale-105"],[1,"block","w-full","h-48","sm:h-56","md:h-64","object-cover",3,"src","alt"],[1,"overlay","absolute","inset-0","bg-gradient-to-t","from-black/80","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-300","flex","items-end","justify-center","p-6"],[1,"text-center"],[1,"text-white","text-xl","font-bold","mb-2"],[1,"text-gray-300"],[1,"bg-white/10","backdrop-blur-sm","rounded-xl","p-6","border","border-white/20","text-center","hover:bg-white/20","transition-all","duration-300"],[1,"text-xl","font-bold","mb-2"],[1,"text-gray-300","text-sm"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"div",1)(2,"h1",2),U(3," \u{1F3AE} Galer\xEDa del Juego "),F(),x(4,"p",3),U(5,"Los intrigantes escenarios y clases de nuestro juego"),F(),x(6,"a",4),U(7," \u2190 Volver al Inicio "),F()(),x(8,"section",5)(9,"h2",6),U(10,"\u{1F4F8} Capturas del Juego"),F(),x(11,"div",7),mc(12,xq,8,4,"div",8),rh(13,"async"),F()(),x(14,"section",9)(15,"h2",6),U(16,"\u{1F465} Clases"),F(),x(17,"div",10),mc(18,Oq,6,4,"div",11),rh(19,"async"),F()()()),n&2&&(We(12),Vn("ngForOf",ih(13,2,r.galeria$)),We(6),Vn("ngForOf",ih(19,4,r.personajes$)))},dependencies:[Hn,ps,vh,_v],styles:[".group[_ngcontent-%COMP%]:focus-within   .overlay[_ngcontent-%COMP%], .group[_ngcontent-%COMP%]:focus   .overlay[_ngcontent-%COMP%]{opacity:1}"]})};var fp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_n({type:t,selectors:[["app-home"]],decls:54,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-screen","bg-gradient-to-br","from-[#2E2B6F]","to-[#1a1a3a]","text-white"],[1,"text-center","mb-12","pt-2"],[1,"text-4xl","sm:text-5xl","md:text-6xl","leading-tight","md:leading-[1.15]","font-bold","mb-6","bg-gradient-to-r","from-yellow-400","to-orange-400","bg-clip-text","text-transparent","fix-heading-crop","py-2"],[1,"text-base","sm:text-lg","md:text-xl","text-gray-300","mb-8","max-w-2xl"],[1,"flex","gap-4","justify-center","flex-wrap","w-full","sm:w-auto"],["routerLink","/galeria",1,"bg-gradient-to-r","from-green-400","to-blue-500","hover:from-green-500","hover:to-blue-600","text-white","font-bold","py-3","px-6","md:px-8","rounded-lg","transition-all","duration-300","transform","hover:scale-105","shadow-lg","w-full","sm:w-auto","text-center"],[1,"bg-gradient-to-r","from-purple-400","to-pink-500","hover:from-purple-500","hover:to-pink-600","text-white","font-bold","py-3","px-6","md:px-8","rounded-lg","transition-all","duration-300","transform","hover:scale-105","shadow-lg","w-full","sm:w-auto"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","max-w-5xl","px-4","md:px-0"],[1,"bg-white/10","backdrop-blur-sm","rounded-xl","p-6","border","border-white/20","hover:bg-white/20","transition-all","duration-300"],[1,"text-4xl","mb-4"],[1,"text-xl","font-bold","mb-3"],[1,"text-gray-300"],[1,"mt-16","grid","grid-cols-2","md:grid-cols-4","gap-8","text-center","px-4","md:px-0"],[1,"text-3xl","font-bold","text-yellow-400"],[1,"text-gray-400"],[1,"text-3xl","font-bold","text-green-400"],[1,"text-3xl","font-bold","text-blue-400"],[1,"text-3xl","font-bold","text-purple-400"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"div",1)(2,"h1",2),U(3," \xA1Bienvenido a nuestro juego! "),F(),x(4,"p",3),U(5," Sum\xE9rgete en una aventura \xE9pica llena de acci\xF3n, misterio y diversi\xF3n. Descubre un mundo incre\xEDble y vive experiencias \xFAnicas. "),F(),x(6,"div",4)(7,"a",5),U(8," Ver Galer\xEDa "),F(),x(9,"button",6),U(10," Registrar reserva "),F()()(),x(11,"div",7)(12,"div",8)(13,"div",9),U(14,"\u2694\uFE0F"),F(),x(15,"h3",10),U(16,"Combate \xC9pico"),F(),x(17,"p",11),U(18,"Lucha contra enemigos poderosos con un sistema de combate din\xE1mico y emocionante."),F()(),x(19,"div",8)(20,"div",9),U(21,"\u{1F5FA}\uFE0F"),F(),x(22,"h3",10),U(23,"Mundos Inmersivos"),F(),x(24,"p",11),U(25,"Explora vastos mundos llenos de secretos, tesoros y aventuras por descubrir."),F()(),x(26,"div",8)(27,"div",9),U(28,"\u{1F4D6}"),F(),x(29,"h3",10),U(30,"Historia Compleja"),F(),x(31,"p",11),U(32,"Descubre una historia interesante y llena de misterio."),F()()(),x(33,"div",12)(34,"div")(35,"div",13),U(36,"1M+"),F(),x(37,"div",14),U(38,"Reservas"),F()(),x(39,"div")(40,"div",15),U(41,"50+"),F(),x(42,"div",14),U(43,"Mapas por explorar"),F()(),x(44,"div")(45,"div",16),U(46,"100+"),F(),x(47,"div",14),U(48,"Armas Diferentes"),F()(),x(49,"div")(50,"div",17),U(51,"24/7"),F(),x(52,"div",14),U(53,"Soporte"),F()()()())},dependencies:[Hn],styles:[".gradient-text[_ngcontent-%COMP%]{background:linear-gradient(45deg,#fbbf24,#f59e0b,#d97706);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-bg[_ngcontent-%COMP%]{background:radial-gradient(ellipse at center,rgba(59,130,246,.1) 0%,transparent 70%)}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.float-animation[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.fix-heading-crop[_ngcontent-%COMP%]{-webkit-text-stroke:.2px transparent}"]})};var pp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_n({type:t,selectors:[["app-team"]],decls:30,vars:0,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-start","bg-[#2E2B6F]","text-white","px-4","py-12"],["routerLink","/",1,"inline-flex","items-center","gap-2","bg-white/10","hover:bg-white/20","text-white","px-4","py-2","rounded-lg","transition-all","duration-300","block","w-full","sm:w-auto","justify-center"],[1,"text-3xl","font-bold","mb-8"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-8"],[1,"bg-white/10","rounded-2xl","p-4","flex","flex-col","items-center","text-center","hover:bg-white/20","transition"],["src","/assets/team1.jpg","alt","Integrante 1",1,"w-32","h-32","object-cover","mb-4"],[1,"text-xl","font-semibold"],[1,"text-gray-300"],["src","/assets/team2.jpg","alt","Integrante 2",1,"w-32","h-32","object-cover","mb-4"],["src","/assets/team3.jpg","alt","Integrante 3",1,"w-32","h-32","object-cover","mb-4"],["src","/assets/team4.jpg","alt","Integrante 4",1,"w-32","h-32","object-cover","mb-4"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"a",1),U(2," \u2190 Volver al Inicio "),F(),x(3,"h2",2),U(4,"Nuestro equipo"),F(),x(5,"div",3)(6,"div",4),_t(7,"img",5),x(8,"h3",6),U(9,"Hassam Juarez"),F(),x(10,"p",7),U(11,"Desarrollador Backend"),F()(),x(12,"div",4),_t(13,"img",8),x(14,"h3",6),U(15,"Marco L\xF3pez"),F(),x(16,"p",7),U(17,"Database Manager"),F()(),x(18,"div",4),_t(19,"img",9),x(20,"h3",6),U(21,"Ever Ponce"),F(),x(22,"p",7),U(23,"Dise\xF1ador UX/UI"),F()(),x(24,"div",4),_t(25,"img",10),x(26,"h3",6),U(27,"Saul Rodriguez"),F(),x(28,"p",7),U(29,"Project Manager y Desarrollador Frontend"),F()()()())},dependencies:[Hn,ps],styles:["img[_ngcontent-%COMP%]{transition:transform .3s ease}img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var fP=[{path:"",component:fp},{path:"galeria",component:hp},{path:"equipo",component:pp}];var pP={providers:[bm(),Zy(),n_(fP),tA(eA()),DR(()=>CR({projectId:"landing-page-a7576",appId:"1:871772196371:web:ef77ae740db3dc8d4b39e6",storageBucket:"landing-page-a7576.firebasestorage.app",apiKey:"AIzaSyCT8-61ziVv8hKLG7XP-H9ZWj1EqOqhFUo",authDomain:"landing-page-a7576.firebaseapp.com",messagingSenderId:"871772196371",measurementId:"G-L0TJ03CEEG"})),dP(()=>hP())]};var TP=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(le(Ui),le(zr))};static \u0275dir=nt({type:t})}return t})(),kq=(()=>{class t extends TP{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})();static \u0275dir=nt({type:t,features:[Ln]})}return t})(),bP=new V("");var Fq={provide:bP,useExisting:or(()=>Tp),multi:!0};function Lq(){let t=cn()?cn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Vq=new V(""),Tp=(()=>{class t extends TP{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Lq())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(le(Ui),le(zr),le(Vq,8))};static \u0275dir=nt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ds([Fq]),Ln]})}return t})();function jq(t){return t==null||Uq(t)===0}function Uq(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var ew=new V(""),DP=new V("");function Bq(t){return jq(t.value)?{required:!0}:null}function gP(t){return null}function CP(t){return t!=null}function SP(t){return hr(t)?Re(t):t}function AP(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function RP(t,e){return e.map(n=>n(t))}function $q(t){return!t.validate}function NP(t){return t.map(e=>$q(e)?e:n=>e.validate(n))}function Hq(t){if(!t)return null;let e=t.filter(CP);return e.length==0?null:function(n){return AP(RP(n,e))}}function tw(t){return t!=null?Hq(NP(t)):null}function qq(t){if(!t)return null;let e=t.filter(CP);return e.length==0?null:function(n){let r=RP(n,e).map(SP);return Cg(r).pipe(oe(AP))}}function nw(t){return t!=null?qq(NP(t)):null}function mP(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function zq(t){return t._rawValidators}function Gq(t){return t._rawAsyncValidators}function ZI(t){return t?Array.isArray(t)?t:[t]:[]}function mp(t,e){return Array.isArray(t)?t.includes(e):t===e}function yP(t,e){let n=ZI(e);return ZI(t).forEach(i=>{mp(n,i)||n.push(i)}),n}function vP(t,e){return ZI(e).filter(n=>!mp(t,n))}var yp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ca=class extends yp{name;get formDirective(){return null}get path(){return null}},Fu=class extends yp{_parent=null;name=null;valueAccessor=null},vp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Wq={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Nce=ie(P({},Wq),{"[class.ng-submitted]":"isSubmitted"}),MP=(()=>{class t extends vp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(le(Fu,2))};static \u0275dir=nt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Kr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ln]})}return t})(),PP=(()=>{class t extends vp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(le(ca,10))};static \u0275dir=nt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Kr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ln]})}return t})();var Mu="VALID",gp="INVALID",sa="PENDING",Pu="DISABLED",ci=class{},_p=class extends ci{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ou=class extends ci{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},ku=class extends ci{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},aa=class extends ci{status;source;constructor(e,n){super(),this.status=e,this.source=n}},XI=class extends ci{source;constructor(e){super(),this.source=e}},Ep=class extends ci{source;constructor(e){super(),this.source=e}};function xP(t){return(bp(t)?t.validators:t)||null}function Kq(t){return Array.isArray(t)?tw(t):t||null}function OP(t,e){return(bp(e)?e.asyncValidators:t)||null}function Qq(t){return Array.isArray(t)?nw(t):t||null}function bp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Yq(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")}function Jq(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new j(1002,"")})}var Ip=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ke(this.statusReactive)}set status(e){Ke(()=>this.statusReactive.set(e))}_status=Hi(()=>this.statusReactive());statusReactive=xe(void 0);get valid(){return this.status===Mu}get invalid(){return this.status===gp}get pending(){return this.status==sa}get disabled(){return this.status===Pu}get enabled(){return this.status!==Pu}errors;get pristine(){return Ke(this.pristineReactive)}set pristine(e){Ke(()=>this.pristineReactive.set(e))}_pristine=Hi(()=>this.pristineReactive());pristineReactive=xe(!0);get dirty(){return!this.pristine}get touched(){return Ke(this.touchedReactive)}set touched(e){Ke(()=>this.touchedReactive.set(e))}_touched=Hi(()=>this.touchedReactive());touchedReactive=xe(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(yP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vP(e,this._rawAsyncValidators))}hasValidator(e){return mp(this._rawValidators,e)}hasAsyncValidator(e){return mp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(P({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ku(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ku(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(P({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ou(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ou(!0,r))}markAsPending(e={}){this.status=sa;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new aa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(P({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Pu,this.errors=null,this._forEachChild(i=>{i.disable(ie(P({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _p(this.value,r)),this._events.next(new aa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mu,this._forEachChild(r=>{r.enable(ie(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mu||this.status===sa)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _p(this.value,n)),this._events.next(new aa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(P({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pu:Mu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=SP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new aa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?Pu:this.errors?gp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(gp)?gp:Mu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ou(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ku(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Kq(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Qq(this._rawAsyncValidators)}},wp=class extends Ip{constructor(e,n,r){super(xP(n),OP(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Jq(this,!0,e),Object.keys(e).forEach(r=>{Yq(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Ep(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var rw=new V("",{providedIn:"root",factory:()=>iw}),iw="always";function Zq(t,e){return[...e.path,t]}function kP(t,e,n=iw){FP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ez(t,e),nz(t,e),tz(t,e),Xq(t,e)}function _P(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Xq(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function FP(t,e){let n=zq(t);e.validator!==null?t.setValidators(mP(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Gq(t);e.asyncValidator!==null?t.setAsyncValidators(mP(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();_P(e._rawValidators,i),_P(e._rawAsyncValidators,i)}function ez(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&LP(t,e)})}function tz(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&LP(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function LP(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function rz(t,e){t==null,FP(t,e)}function iz(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function oz(t){return Object.getPrototypeOf(t.constructor)===kq}function sz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function az(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Tp?n=o:oz(o)?r=o:i=o}),i||r||n||null}var cz={provide:ca,useExisting:or(()=>ow)},xu=Promise.resolve(),ow=(()=>{class t extends ca{callSetDisabledState;get submitted(){return Ke(this.submittedReactive)}_submitted=Hi(()=>this.submittedReactive());submittedReactive=xe(!1);_directives=new Set;form;ngSubmit=new ze;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new wp({},tw(n),nw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){xu.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),kP(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){xu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){xu.then(()=>{let r=this._findContainer(n.path),i=new wp({});rz(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){xu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){xu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),sz(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new XI(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(le(ew,10),le(DP,10),le(rw,8))};static \u0275dir=nt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ds([cz]),Ln]})}return t})();function EP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function IP(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var uz=class extends Ip{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(xP(n),OP(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(IP(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Ep(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){IP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lz={provide:Fu,useExisting:or(()=>sw)},wP=Promise.resolve(),sw=(()=>{class t extends Fu{_changeDetectorRef;callSetDisabledState;control=new uz;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ze;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=az(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),iz(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){wP.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Gi(r);wP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Zq(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(le(ca,9),le(ew,10),le(DP,10),le(bP,10),le(zi,8),le(rw,8))};static \u0275dir=nt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ds([lz]),Ln,lr]})}return t})();var VP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=nt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var dz=(()=>{class t{_validator=gP;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gP,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=nt({type:t,features:[lr]})}return t})();var hz={provide:ew,useExisting:or(()=>aw),multi:!0};var aw=(()=>{class t extends dz{required;inputName="required";normalizeInput=Gi;createValidator=n=>Bq;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Li(t)))(i||t)}})();static \u0275dir=nt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&us("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ds([hz]),Ln]})}return t})();var fz=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=dr({type:t});static \u0275inj=An({})}return t})();var jP=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:rw,useValue:n.callSetDisabledState??iw}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=dr({type:t});static \u0275inj=An({imports:[fz]})}return t})();var dn=class{constructor(e=0,n="Network Error"){this.status=e,this.text=n}};var UP=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}};var je={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:UP()};var ua=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{};var BP=(t,e="https://api.emailjs.com")=>{if(!t)return;let n=ua(t);je.publicKey=n.publicKey,je.blockHeadless=n.blockHeadless,je.storageProvider=n.storageProvider,je.blockList=n.blockList,je.limitRate=n.limitRate,je.origin=n.origin||e};var Dp=async(t,e,n={})=>{let r=await fetch(je.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),o=new dn(r.status,i);if(r.ok)return o;throw o};var Cp=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var $P=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var Sp=t=>t.webdriver||!t.languages||t.languages.length===0;var Ap=()=>new dn(451,"Unavailable For Headless Browser");var HP=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"};var gz=t=>!t.list?.length||!t.watchVariable,mz=(t,e)=>t instanceof FormData?t.get(e):t[e],Rp=(t,e)=>{if(gz(t))return!1;HP(t.list,t.watchVariable);let n=mz(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)};var Np=()=>new dn(403,"Forbidden");var qP=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"};var yz=async(t,e,n)=>{let r=Number(await n.get(t)||0);return e-Date.now()+r},Mp=async(t,e,n)=>{if(!e.throttle||!n)return!1;qP(e.throttle,e.id);let r=e.id||t;return await yz(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)};var Pp=()=>new dn(429,"Too Many Requests");var zP=async(t,e,n,r)=>{let i=ua(r),o=i.publicKey||je.publicKey,s=i.blockHeadless||je.blockHeadless,a=i.storageProvider||je.storageProvider,u=P(P({},je.blockList),i.blockList),l=P(P({},je.limitRate),i.limitRate);return s&&Sp(navigator)?Promise.reject(Ap()):(Cp(o,t,e),$P(n),n&&Rp(u,n)?Promise.reject(Np()):await Mp(location.pathname,l,a)?Promise.reject(Pp()):Dp("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))};var GP=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var vz=t=>typeof t=="string"?document.querySelector(t):t,WP=async(t,e,n,r)=>{let i=ua(r),o=i.publicKey||je.publicKey,s=i.blockHeadless||je.blockHeadless,a=je.storageProvider||i.storageProvider,u=P(P({},je.blockList),i.blockList),l=P(P({},je.limitRate),i.limitRate);if(s&&Sp(navigator))return Promise.reject(Ap());let h=vz(n);Cp(o,t,e),GP(h);let p=new FormData(h);return Rp(u,p)?Promise.reject(Np()):await Mp(location.pathname,l,a)?Promise.reject(Pp()):(p.append("lib_version","4.4.1"),p.append("service_id",t),p.append("template_id",e),p.append("user_id",o),Dp("/api/v1.0/email/send-form",p))};var cw={init:BP,send:zP,sendForm:WP,EmailJSResponseStatus:dn};function _z(t,e){t&1&&(x(0,"span",23),U(1,"\u2713"),F())}function Ez(t,e){t&1&&(x(0,"span",24),U(1,"\u2715"),F())}function Iz(t,e){t&1&&(x(0,"span",25),U(1,"\u26A0"),F())}function wz(t,e){if(t&1){let n=ls();x(0,"div",20)(1,"div",21)(2,"div",22),Bi(3,_z,2,0,"span",23)(4,Ez,2,0,"span",24)(5,Iz,2,0,"span",25),F(),x(6,"div",26)(7,"p",27),U(8),F()(),x(9,"button",28),Oe("click",function(){At(n);let i=rt();return Rt(i.hideNotification())}),x(10,"span",29),U(11,"\xD7"),F()()()()}if(t&2){let n,r,i,o,s,a=rt();Kr("animate-slide-in",!a.isNotificationClosing())("animate-slide-out",a.isNotificationClosing()),We(),Kr("border-green-400",((n=a.notification())==null?null:n.type)==="success")("border-red-400",((r=a.notification())==null?null:r.type)==="error")("border-yellow-400",((i=a.notification())==null?null:i.type)==="warning"),We(2),$i(((o=a.notification())==null?null:o.type)==="success"?3:((o=a.notification())==null?null:o.type)==="error"?4:5),We(5),fr((s=a.notification())==null?null:s.message)}}function Tz(t,e){if(t&1){let n=ls();x(0,"form",30),Oe("submit",function(i){At(n);let o=rt();return i.preventDefault(),Rt(o.sendSubscriptionEmail())}),x(1,"input",31),Oe("ngModelChange",function(i){At(n);let o=rt();return Rt(o.subscriberEmail.set(i))}),F(),x(2,"button",32),U(3,"Enviar"),F()()}if(t&2){let n=rt();We(),Vn("ngModel",n.subscriberEmail())}}function bz(t,e){if(t&1){let n=ls();x(0,"form",30),Oe("submit",function(i){At(n);let o=rt(2);return i.preventDefault(),Rt(o.sendSubscriptionEmail())}),x(1,"input",46),Oe("ngModelChange",function(i){At(n);let o=rt(2);return Rt(o.subscriberEmail.set(i))}),F(),x(2,"button",32),U(3,"Enviar"),F()()}if(t&2){let n=rt(2);We(),Vn("ngModel",n.subscriberEmail())}}function Dz(t,e){if(t&1){let n=ls();x(0,"div",19)(1,"div",33),Oe("click",function(){At(n);let i=rt();return Rt(i.closeMobileNav())}),F(),x(2,"div",34)(3,"div",35)(4,"div",36),_t(5,"img",37),x(6,"h1",38),U(7,"Dev-Inc"),F()(),x(8,"button",39),Oe("click",function(){At(n);let i=rt();return Rt(i.closeMobileNav())}),U(9,"\u2715"),F()(),x(10,"div",40)(11,"button",41),Oe("click",function(){At(n);let i=rt();return Rt(i.closeMobileNav())}),U(12,"\u{1F4F0} Noticias"),F(),x(13,"a",42),Oe("click",function(){At(n);let i=rt();return Rt(i.closeMobileNav())}),U(14,"\u{1F3AE} Galer\xEDa"),F(),x(15,"button",43),Oe("click",function(){At(n);let i=rt();return Rt(i.closeMobileNav())}),U(16,"\u{1F465} Equipo"),F()(),x(17,"div",44)(18,"button",45),Oe("click",function(){At(n);let i=rt();return Rt(i.toggleMobileSubscribe())}),U(19,"\u2709\uFE0F Notif\xEDcate por correo"),F(),Bi(20,bz,4,1,"form",17),x(21,"button",45),Oe("click",function(){At(n);let i=rt();return Rt(i.closeMobileNav())}),U(22,"\u{1F4AC} \xDAnete al Discord"),F()()()()}if(t&2){let n=rt();We(20),$i(n.isMobileSubscribeOpen()?20:-1)}}var xp=class t{title=xe("LandingPage");isMobileNavOpen=xe(!1);isSubscribeOpen=xe(!1);isMobileSubscribeOpen=xe(!1);subscriberEmail=xe("");notification=xe(null);isNotificationVisible=xe(!1);isNotificationClosing=xe(!1);toggleMobileNav(){this.isMobileNavOpen.update(e=>!e)}closeMobileNav(){this.isMobileNavOpen.set(!1)}toggleSubscribe(){this.isSubscribeOpen.update(e=>!e)}toggleMobileSubscribe(){this.isMobileSubscribeOpen.update(e=>!e)}showNotification(e,n){this.notification.set({message:e,type:n}),this.isNotificationVisible.set(!0),setTimeout(()=>{this.hideNotification()},4e3)}hideNotification(){this.isNotificationClosing.set(!0),setTimeout(()=>{this.isNotificationVisible.set(!1),this.isNotificationClosing.set(!1),this.notification.set(null)},300)}async sendSubscriptionEmail(){let e=this.subscriberEmail();if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){this.showNotification("Por favor ingresa un email v\xE1lido.","warning");return}try{let r="service_4b78kkj",i="template_b14pous";cw.init("VRuN2U5kuH4IoWwsB"),await cw.send(r,i,{to_email:e,subject:"Suscripci\xF3n a Dev-Inc",message:"Gracias por suscribirte, te mantendremos al tanto de nuevas noticias. Atte. Dev-Inc"}),this.showNotification("\xA1Correo enviado! Revisa tu bandeja.","success"),this.subscriberEmail.set(""),this.isSubscribeOpen.set(!1),this.isMobileSubscribeOpen.set(!1)}catch(r){console.error("Error enviando correo",r),this.showNotification("Hubo un error al enviar el correo. Intenta de nuevo.","error")}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=_n({type:t,selectors:[["app-root"]],decls:30,vars:3,consts:[[1,"min-h-screen","w-full","flex","flex-col","md:flex-row","gap-0"],[1,"fixed","top-4","right-4","left-4","sm:left-auto","z-[100]","max-w-sm","w-auto","sm:w-auto",3,"animate-slide-in","animate-slide-out"],[1,"w-full","md:w-4/5","bg-[#2E2B6F]","text-white","px-4","sm:px-8","md:px-10","py-6","md:py-8"],[1,"mb-6","flex","items-center","justify-between","md:hidden"],[1,"text-xl","font-bold"],["aria-label","Abrir men\xFA",1,"p-2","rounded-md","bg-white/10","hover:bg-white/20","transition",3,"click"],[1,"text-3xl","font-bold","mb-4"],[1,"flex","justify-end","mb-4"],[1,"desktop-aside","bg-gray-800","text-white","flex-col","items-center","py-6","md:py-8","space-y-4","md:space-y-6"],["src","/assets/Logo.png","alt","Dev-Inc logo",1,"w-24","h-24","rounded-full","object-cover","mb-2"],[1,"text-4xl","font-bold"],[1,"space-y-3","w-11/12","sm:w-3/4"],[1,"w-full","bg-blue-400","text-black","py-2","rounded-lg","font-semibold","hover:opacity-90","text-sm","sm:text-base"],["routerLink","/galeria",1,"w-full","block","text-center","bg-green-300","text-black","py-2","rounded-lg","font-semibold","hover:opacity-90","text-sm","sm:text-base"],["routerLink","/equipo",1,"w-full","block","text-center","bg-orange-300","text-black","py-2","rounded-lg","font-semibold","hover:opacity-90","text-sm","sm:text-base"],[1,"mt-10","w-11/12","sm:w-3/4","space-y-2"],[1,"w-full","border","border-gray-500","py-2","rounded-lg","flex","items-center","justify-center","gap-2","text-sm","sm:text-base",3,"click"],[1,"w-full","bg-white/10","border","border-white/20","rounded-lg","p-3","space-y-2"],[1,"w-full","border","border-gray-500","py-2","rounded-lg","flex","items-center","justify-center","gap-2","text-sm","sm:text-base"],[1,"fixed","inset-0","z-50","md:hidden"],[1,"fixed","top-4","right-4","left-4","sm:left-auto","z-[100]","max-w-sm","w-auto","sm:w-auto"],[1,"bg-white/10","backdrop-blur-md","border","border-white/20","rounded-xl","p-4","shadow-2xl","flex","items-start","gap-3"],[1,"flex-shrink-0","text-2xl"],[1,"text-green-400"],[1,"text-red-400"],[1,"text-yellow-400"],[1,"flex-1"],[1,"text-white","font-medium","text-sm","sm:text-base"],[1,"flex-shrink-0","text-white/60","hover:text-white","transition-colors",3,"click"],[1,"text-lg"],[1,"w-full","bg-white/10","border","border-white/20","rounded-lg","p-3","space-y-2",3,"submit"],["type","email","name","emailDesktop","placeholder","Tu email","required","",1,"w-full","px-3","py-2","rounded","bg-white/90","text-black","placeholder-gray-600",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-yellow-400","text-black","py-2","rounded-lg","font-semibold","hover:opacity-90","text-sm"],[1,"absolute","inset-0","bg-black/50",3,"click"],[1,"absolute","right-0","top-0","h-full","w-72","sm:w-80","bg-gray-800","text-white","p-6","flex","flex-col","items-center","space-y-6"],[1,"w-full","flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],["src","/assets/Logo.png","alt","Logo Dev-Inc",1,"w-10","h-10","rounded-full","object-cover"],[1,"text-3xl","font-bold"],["aria-label","Cerrar men\xFA",1,"p-2","rounded-md","bg-white/10","hover:bg-white/20","transition",3,"click"],[1,"space-y-3","w-full"],[1,"w-full","bg-blue-400","text-black","py-2","rounded-lg","font-semibold","hover:opacity-90",3,"click"],["routerLink","/galeria",1,"w-full","block","text-center","bg-green-300","text-black","py-2","rounded-lg","font-semibold","hover:opacity-90",3,"click"],[1,"w-full","bg-orange-300","text-black","py-2","rounded-lg","font-semibold","hover:opacity-90",3,"click"],[1,"mt-6","w-full","space-y-2"],[1,"w-full","border","border-gray-500","py-2","rounded-lg","flex","items-center","justify-center","gap-2",3,"click"],["type","email","name","emailMobile","placeholder","Tu email","required","",1,"w-full","px-3","py-2","rounded","bg-white/90","text-black","placeholder-gray-600",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(x(0,"div",0),Bi(1,wz,12,12,"div",1),x(2,"main",2)(3,"nav",3)(4,"h2",4),U(5,"Dev-Inc"),F(),x(6,"button",5),Oe("click",function(){return r.toggleMobileNav()}),U(7," \u2630 "),F()(),x(8,"h2",6),U(9,"Bienvenido a nuestro juego bien cool"),F(),_t(10,"div",7)(11,"router-outlet"),F(),x(12,"aside",8),_t(13,"img",9),x(14,"h1",10),U(15,"Dev-Inc"),F(),x(16,"div",11)(17,"button",12),U(18,"\u{1F4F0} Noticias"),F(),x(19,"a",13),U(20,"\u{1F3AE} Galer\xEDa"),F(),x(21,"a",14),U(22,"\u{1F465} Equipo"),F()(),x(23,"div",15)(24,"button",16),Oe("click",function(){return r.toggleSubscribe()}),U(25,"\u2709\uFE0F Notif\xEDcate por correo"),F(),Bi(26,Tz,4,1,"form",17),x(27,"button",18),U(28,"\u{1F4AC} \xDAnete al Discord"),F()()(),Bi(29,Dz,23,1,"div",19),F()),n&2&&(We(),$i(r.notification()&&r.isNotificationVisible()?1:-1),We(25),$i(r.isSubscribeOpen()?26:-1),We(3),$i(r.isMobileNavOpen()?29:-1))},dependencies:[qc,Hn,jP,VP,Tp,MP,PP,aw,sw,ow],styles:[".desktop-aside[_ngcontent-%COMP%]{display:none}@media (min-width: 768px){.desktop-aside[_ngcontent-%COMP%]{display:flex;width:20%;position:sticky;top:0;height:100vh}}@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-out{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-in .3s ease-out}.animate-slide-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-out .3s ease-in}"]})};Rv(xp,pP).catch(t=>console.error(t));
